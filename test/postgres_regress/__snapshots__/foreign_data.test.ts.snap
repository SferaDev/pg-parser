// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`foreign_data.sql > line 19 1`] = `
[
  "SET client_min_messages TO 'warning'",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "args": [
              {
                "A_Const": {
                  "location": 27,
                  "sval": {
                    "sval": "warning",
                  },
                },
              },
            ],
            "kind": "VAR_SET_VALUE",
            "name": "client_min_messages",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 21 1`] = `
[
  "DROP ROLE IF EXISTS regress_foreign_data_user, regress_test_role, regress_test_role2, regress_test_role_super, regress_test_indirect, regress_unprivileged_role",
  {
    "stmts": [
      {
        "stmt": {
          "DropRoleStmt": {
            "missing_ok": true,
            "roles": [
              {
                "RoleSpec": {
                  "location": 20,
                  "rolename": "regress_foreign_data_user",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
              {
                "RoleSpec": {
                  "location": 47,
                  "rolename": "regress_test_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
              {
                "RoleSpec": {
                  "location": 66,
                  "rolename": "regress_test_role2",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
              {
                "RoleSpec": {
                  "location": 86,
                  "rolename": "regress_test_role_super",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
              {
                "RoleSpec": {
                  "location": 111,
                  "rolename": "regress_test_indirect",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
              {
                "RoleSpec": {
                  "location": 134,
                  "rolename": "regress_unprivileged_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 23 1`] = `
[
  "RESET client_min_messages",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "kind": "VAR_RESET",
            "name": "client_min_messages",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 25 1`] = `
[
  "CREATE ROLE regress_foreign_data_user LOGIN SUPERUSER",
  {
    "stmts": [
      {
        "stmt": {
          "CreateRoleStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "Boolean": {
                      "boolval": true,
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "canlogin",
                  "location": 38,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "Boolean": {
                      "boolval": true,
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "superuser",
                  "location": 44,
                },
              },
            ],
            "role": "regress_foreign_data_user",
            "stmt_type": "ROLESTMT_ROLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 28 1`] = `
[
  "CREATE ROLE regress_test_role",
  {
    "stmts": [
      {
        "stmt": {
          "CreateRoleStmt": {
            "role": "regress_test_role",
            "stmt_type": "ROLESTMT_ROLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 34 1`] = `
[
  "CREATE FOREIGN DATA WRAPPER dummy",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFdwStmt": {
            "fdwname": "dummy",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 39 1`] = `
[
  "SELECT fdwname, fdwhandler::regproc, fdwvalidator::regproc, fdwoptions FROM pg_foreign_data_wrapper ORDER BY 1, 2, 3",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 76,
                  "relname": "pg_foreign_data_wrapper",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 109,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 2,
                      },
                      "location": 112,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 3,
                      },
                      "location": 115,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "fdwname",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 16,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "fdwhandler",
                              },
                            },
                          ],
                          "location": 16,
                        },
                      },
                      "location": 26,
                      "typeName": {
                        "location": 28,
                        "names": [
                          {
                            "String": {
                              "sval": "regproc",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 37,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "fdwvalidator",
                              },
                            },
                          ],
                          "location": 37,
                        },
                      },
                      "location": 49,
                      "typeName": {
                        "location": 51,
                        "names": [
                          {
                            "String": {
                              "sval": "regproc",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 60,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "fdwoptions",
                          },
                        },
                      ],
                      "location": 60,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 44 1`] = `
[
  "CREATE FOREIGN DATA WRAPPER foo VALIDATOR bar",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFdwStmt": {
            "fdwname": "foo",
            "func_options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "bar",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "validator",
                  "location": 32,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 44 2`] = `
[
  "            -- ERROR
CREATE FOREIGN DATA WRAPPER foo",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFdwStmt": {
            "fdwname": "foo",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 48 1`] = `
[
  " -- duplicate
DROP FOREIGN DATA WRAPPER foo",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "String": {
                  "sval": "foo",
                },
              },
            ],
            "removeType": "OBJECT_FDW",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 54 1`] = `
[
  "   -- ERROR
CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1', another '2')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFdwStmt": {
            "fdwname": "foo",
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "1",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "testing",
                  "location": 53,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "2",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "another",
                  "location": 66,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 60 1`] = `
[
  " -- ERROR
RESET ROLE",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "kind": "VAR_RESET",
            "name": "role",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 66 1`] = `
[
  "CREATE FUNCTION invalid_fdw_handler() RETURNS int LANGUAGE SQL AS 'SELECT 1;'",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFunctionStmt": {
            "funcname": [
              {
                "String": {
                  "sval": "invalid_fdw_handler",
                },
              },
            ],
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "sql",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "language",
                  "location": 50,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "SELECT 1;",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "as",
                  "location": 63,
                },
              },
            ],
            "returnType": {
              "location": 46,
              "names": [
                {
                  "String": {
                    "sval": "pg_catalog",
                  },
                },
                {
                  "String": {
                    "sval": "int4",
                  },
                },
              ],
              "typemod": -1,
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 67 1`] = `
[
  "  -- ERROR
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler HANDLER invalid_fdw_handler",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFdwStmt": {
            "fdwname": "test_fdw",
            "func_options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "test_fdw_handler",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "handler",
                  "location": 48,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "invalid_fdw_handler",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "handler",
                  "location": 73,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 68 1`] = `
[
  "  -- ERROR
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFdwStmt": {
            "fdwname": "test_fdw",
            "func_options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "test_fdw_handler",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "handler",
                  "location": 48,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 73 1`] = `
[
  "ALTER FOREIGN DATA WRAPPER foo OPTIONS (nonexistent 'fdw')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "fdw",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "nonexistent",
                  "location": 40,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 75 1`] = `
[
  "                             -- ERROR
ALTER FOREIGN DATA WRAPPER foo VALIDATOR bar",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "func_options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "bar",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "validator",
                  "location": 69,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 76 1`] = `
[
  "               -- ERROR
ALTER FOREIGN DATA WRAPPER foo NO VALIDATOR",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "func_options": [
              {
                "DefElem": {
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "validator",
                  "location": 55,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 81 1`] = `
[
  "         -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (DROP c)",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "options": [
              {
                "DefElem": {
                  "defaction": "DEFELEM_DROP",
                  "defname": "c",
                  "location": 63,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 82 1`] = `
[
  "            -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD x '1', DROP x)",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "1",
                    },
                  },
                  "defaction": "DEFELEM_ADD",
                  "defname": "x",
                  "location": 65,
                },
              },
              {
                "DefElem": {
                  "defaction": "DEFELEM_DROP",
                  "defname": "x",
                  "location": 77,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 94 1`] = `
[
  "         -- ERROR
SET ROLE regress_test_role_super",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "args": [
              {
                "A_Const": {
                  "location": 27,
                  "sval": {
                    "sval": "regress_test_role_super",
                  },
                },
              },
            ],
            "kind": "VAR_SET_VALUE",
            "name": "role",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 99 1`] = `
[
  "  -- ERROR
ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_test_role_super",
  {
    "stmts": [
      {
        "stmt": {
          "AlterOwnerStmt": {
            "newowner": {
              "location": 51,
              "rolename": "regress_test_role_super",
              "roletype": "ROLESPEC_CSTRING",
            },
            "object": {
              "String": {
                "sval": "foo",
              },
            },
            "objectType": "OBJECT_FDW",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 109 1`] = `
[
  "ALTER FOREIGN DATA WRAPPER foo1 RENAME TO foo",
  {
    "stmts": [
      {
        "stmt": {
          "RenameStmt": {
            "behavior": "DROP_RESTRICT",
            "newname": "foo",
            "object": {
              "String": {
                "sval": "foo1",
              },
            },
            "relationType": "OBJECT_ACCESS_METHOD",
            "renameType": "OBJECT_FDW",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 112 1`] = `
[
  "ALTER FOREIGN DATA WRAPPER foo HANDLER invalid_fdw_handler",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "func_options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "invalid_fdw_handler",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "handler",
                  "location": 31,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 112 2`] = `
[
  "  -- ERROR
ALTER FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler HANDLER anything",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "func_options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "test_fdw_handler",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "handler",
                  "location": 42,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "anything",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "handler",
                  "location": 67,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 113 1`] = `
[
  "  -- ERROR
ALTER FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "func_options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "test_fdw_handler",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "handler",
                  "location": 42,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 118 1`] = `
[
  "DROP FOREIGN DATA WRAPPER nonexistent",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "String": {
                  "sval": "nonexistent",
                },
              },
            ],
            "removeType": "OBJECT_FDW",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 118 2`] = `
[
  "                      -- ERROR
DROP FOREIGN DATA WRAPPER IF EXISTS nonexistent",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "missing_ok": true,
            "objects": [
              {
                "String": {
                  "sval": "nonexistent",
                },
              },
            ],
            "removeType": "OBJECT_FDW",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 133 1`] = `
[
  "				-- ERROR
CREATE USER MAPPING IF NOT EXISTS FOR current_user SERVER s1",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "if_not_exists": true,
            "servername": "s1",
            "user": {
              "location": 51,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 148 1`] = `
[
  "                  -- ERROR
CREATE FOREIGN DATA WRAPPER foo OPTIONS ("test wrapper" 'true')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFdwStmt": {
            "fdwname": "foo",
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "true",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "test wrapper",
                  "location": 68,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 151 1`] = `
[
  "                  -- ERROR
CREATE SERVER IF NOT EXISTS s1 FOREIGN DATA WRAPPER foo",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignServerStmt": {
            "fdwname": "foo",
            "if_not_exists": true,
            "servername": "s1",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 152 1`] = `
[
  "	-- No ERROR, just NOTICE
CREATE SERVER s2 FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignServerStmt": {
            "fdwname": "foo",
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "a",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "host",
                  "location": 77,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "b",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "dbname",
                  "location": 87,
                },
              },
            ],
            "servername": "s2",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 159 1`] = `
[
  " -- ERROR
CREATE SERVER s8 FOREIGN DATA WRAPPER postgresql OPTIONS (host 'localhost', dbname 's8db')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignServerStmt": {
            "fdwname": "postgresql",
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "localhost",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "host",
                  "location": 68,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "s8db",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "dbname",
                  "location": 86,
                },
              },
            ],
            "servername": "s8",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 184 1`] = `
[
  "                                            -- ERROR
ALTER SERVER s0 OPTIONS (a '1')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterForeignServerStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "1",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "a",
                  "location": 78,
                },
              },
            ],
            "servername": "s0",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 185 1`] = `
[
  "                            -- ERROR
ALTER SERVER s1 VERSION '1.0' OPTIONS (servername 's1')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterForeignServerStmt": {
            "has_version": true,
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "s1",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "servername",
                  "location": 76,
                },
              },
            ],
            "servername": "s1",
            "version": "1.0",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 193 1`] = `
[
  "                              -- ERROR
ALTER SERVER s1 OWNER TO regress_test_role",
  {
    "stmts": [
      {
        "stmt": {
          "AlterOwnerStmt": {
            "newowner": {
              "location": 64,
              "rolename": "regress_test_role",
              "roletype": "ROLESPEC_CSTRING",
            },
            "object": {
              "String": {
                "sval": "s1",
              },
            },
            "objectType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 202 1`] = `
[
  "                          -- ERROR option validation
ALTER SERVER s8 OPTIONS (connect_timeout '30', SET dbname 'db1', DROP host)",
  {
    "stmts": [
      {
        "stmt": {
          "AlterForeignServerStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "30",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "connect_timeout",
                  "location": 78,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "db1",
                    },
                  },
                  "defaction": "DEFELEM_SET",
                  "defname": "dbname",
                  "location": 104,
                },
              },
              {
                "DefElem": {
                  "defaction": "DEFELEM_DROP",
                  "defname": "host",
                  "location": 123,
                },
              },
            ],
            "servername": "s8",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 220 1`] = `
[
  "ALTER SERVER s8new RENAME to s8",
  {
    "stmts": [
      {
        "stmt": {
          "RenameStmt": {
            "behavior": "DROP_RESTRICT",
            "newname": "s8",
            "object": {
              "String": {
                "sval": "s8new",
              },
            },
            "relationType": "OBJECT_ACCESS_METHOD",
            "renameType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 223 1`] = `
[
  "DROP SERVER nonexistent",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "String": {
                  "sval": "nonexistent",
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 223 2`] = `
[
  "                                    -- ERROR
DROP SERVER IF EXISTS nonexistent",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "missing_ok": true,
            "objects": [
              {
                "String": {
                  "sval": "nonexistent",
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 227 1`] = `
[
  "                                             -- ERROR
DROP SERVER s1",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "String": {
                  "sval": "s1",
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 231 1`] = `
[
  "ALTER SERVER s2 OWNER TO regress_test_role",
  {
    "stmts": [
      {
        "stmt": {
          "AlterOwnerStmt": {
            "newowner": {
              "location": 25,
              "rolename": "regress_test_role",
              "roletype": "ROLESPEC_CSTRING",
            },
            "object": {
              "String": {
                "sval": "s2",
              },
            },
            "objectType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 236 1`] = `
[
  "CREATE USER MAPPING FOR current_user SERVER s3",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "servername": "s3",
            "user": {
              "location": 24,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 238 1`] = `
[
  "DROP SERVER s3",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "String": {
                  "sval": "s3",
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 238 2`] = `
[
  "                                             -- ERROR
DROP SERVER s3 CASCADE",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_CASCADE",
            "objects": [
              {
                "String": {
                  "sval": "s3",
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 244 1`] = `
[
  "  -- ERROR
CREATE USER MAPPING FOR current_user SERVER s1",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "servername": "s1",
            "user": {
              "location": 35,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 245 1`] = `
[
  "             -- ERROR
CREATE USER MAPPING FOR current_user SERVER s4",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "servername": "s4",
            "user": {
              "location": 46,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 247 1`] = `
[
  "                     -- ERROR duplicate
CREATE USER MAPPING FOR public SERVER s4 OPTIONS ("this mapping" 'is public')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "is public",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "this mapping",
                  "location": 90,
                },
              },
            ],
            "servername": "s4",
            "user": {
              "location": 64,
              "roletype": "ROLESPEC_PUBLIC",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 249 1`] = `
[
  "    -- ERROR
CREATE USER MAPPING FOR user SERVER s8 OPTIONS (user 'test', password 'secret')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "test",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "user",
                  "location": 61,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "secret",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "password",
                  "location": 74,
                },
              },
            ],
            "servername": "s8",
            "user": {
              "location": 37,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 256 1`] = `
[
  "             -- ERROR
CREATE USER MAPPING FOR public SERVER s8",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "servername": "s8",
            "user": {
              "location": 46,
              "roletype": "ROLESPEC_PUBLIC",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 260 1`] = `
[
  "ALTER SERVER t1 OWNER TO regress_test_indirect",
  {
    "stmts": [
      {
        "stmt": {
          "AlterOwnerStmt": {
            "newowner": {
              "location": 25,
              "rolename": "regress_test_indirect",
              "roletype": "ROLESPEC_CSTRING",
            },
            "object": {
              "String": {
                "sval": "t1",
              },
            },
            "objectType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 268 1`] = `
[
  "ALTER USER MAPPING FOR regress_test_missing_role SERVER s4 OPTIONS (gotcha 'true')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "true",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "gotcha",
                  "location": 68,
                },
              },
            ],
            "servername": "s4",
            "user": {
              "location": 23,
              "rolename": "regress_test_missing_role",
              "roletype": "ROLESPEC_CSTRING",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 268 2`] = `
[
  " -- ERROR
ALTER USER MAPPING FOR user SERVER ss4 OPTIONS (gotcha 'true')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "true",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "gotcha",
                  "location": 58,
                },
              },
            ],
            "servername": "ss4",
            "user": {
              "location": 33,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 269 1`] = `
[
  " -- ERROR
ALTER USER MAPPING FOR public SERVER s5 OPTIONS (gotcha 'true')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "true",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "gotcha",
                  "location": 59,
                },
              },
            ],
            "servername": "s5",
            "user": {
              "location": 33,
              "roletype": "ROLESPEC_PUBLIC",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 270 1`] = `
[
  "            -- ERROR
ALTER USER MAPPING FOR current_user SERVER s8 OPTIONS (username 'test')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "test",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "username",
                  "location": 76,
                },
              },
            ],
            "servername": "s8",
            "user": {
              "location": 44,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 271 1`] = `
[
  "    -- ERROR
ALTER USER MAPPING FOR current_user SERVER s8 OPTIONS (DROP user, SET password 'public')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "defaction": "DEFELEM_DROP",
                  "defname": "user",
                  "location": 73,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "public",
                    },
                  },
                  "defaction": "DEFELEM_SET",
                  "defname": "password",
                  "location": 83,
                },
              },
            ],
            "servername": "s8",
            "user": {
              "location": 36,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 275 1`] = `
[
  " -- ERROR
ALTER USER MAPPING FOR public SERVER t1 OPTIONS (ADD modified '1')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "1",
                    },
                  },
                  "defaction": "DEFELEM_ADD",
                  "defname": "modified",
                  "location": 63,
                },
              },
            ],
            "servername": "t1",
            "user": {
              "location": 33,
              "roletype": "ROLESPEC_PUBLIC",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 281 1`] = `
[
  "DROP USER MAPPING FOR regress_test_missing_role SERVER s4",
  {
    "stmts": [
      {
        "stmt": {
          "DropUserMappingStmt": {
            "servername": "s4",
            "user": {
              "location": 22,
              "rolename": "regress_test_missing_role",
              "roletype": "ROLESPEC_CSTRING",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 281 2`] = `
[
  "  -- ERROR
DROP USER MAPPING FOR user SERVER ss4",
  {
    "stmts": [
      {
        "stmt": {
          "DropUserMappingStmt": {
            "servername": "ss4",
            "user": {
              "location": 33,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 283 1`] = `
[
  "                     -- ERROR
DROP USER MAPPING IF EXISTS FOR regress_test_missing_role SERVER s4",
  {
    "stmts": [
      {
        "stmt": {
          "DropUserMappingStmt": {
            "missing_ok": true,
            "servername": "s4",
            "user": {
              "location": 62,
              "rolename": "regress_test_missing_role",
              "roletype": "ROLESPEC_CSTRING",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 295 1`] = `
[
  "CREATE SCHEMA foreign_schema",
  {
    "stmts": [
      {
        "stmt": {
          "CreateSchemaStmt": {
            "schemaname": "foreign_schema",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 297 1`] = `
[
  "                                    -- ERROR
CREATE FOREIGN TABLE ft1 () SERVER no_server",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignTableStmt": {
            "base": {
              "oncommit": "ONCOMMIT_NOOP",
              "relation": {
                "inh": true,
                "location": 66,
                "relname": "ft1",
                "relpersistence": "p",
              },
            },
            "servername": "no_server",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 298 1`] = `
[
  "                   -- ERROR
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') PRIMARY KEY,
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignTableStmt": {
            "base": {
              "oncommit": "ONCOMMIT_NOOP",
              "relation": {
                "inh": true,
                "location": 49,
                "relname": "ft1",
                "relpersistence": "p",
              },
              "tableElts": [
                {
                  "ColumnDef": {
                    "colname": "c1",
                    "constraints": [
                      {
                        "Constraint": {
                          "contype": "CONSTR_PRIMARY",
                          "location": 94,
                        },
                      },
                    ],
                    "fdwoptions": [
                      {
                        "DefElem": {
                          "arg": {
                            "String": {
                              "sval": "val1",
                            },
                          },
                          "defaction": "DEFELEM_UNSPEC",
                          "defname": "param 1",
                          "location": 76,
                        },
                      },
                    ],
                    "is_local": true,
                    "location": 56,
                    "typeName": {
                      "location": 59,
                      "names": [
                        {
                          "String": {
                            "sval": "pg_catalog",
                          },
                        },
                        {
                          "String": {
                            "sval": "int4",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "ColumnDef": {
                    "colname": "c2",
                    "fdwoptions": [
                      {
                        "DefElem": {
                          "arg": {
                            "String": {
                              "sval": "val2",
                            },
                          },
                          "defaction": "DEFELEM_UNSPEC",
                          "defname": "param2",
                          "location": 125,
                        },
                      },
                      {
                        "DefElem": {
                          "arg": {
                            "String": {
                              "sval": "val3",
                            },
                          },
                          "defaction": "DEFELEM_UNSPEC",
                          "defname": "param3",
                          "location": 140,
                        },
                      },
                    ],
                    "is_local": true,
                    "location": 108,
                    "typeName": {
                      "location": 111,
                      "names": [
                        {
                          "String": {
                            "sval": "text",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "ColumnDef": {
                    "colname": "c3",
                    "is_local": true,
                    "location": 157,
                    "typeName": {
                      "location": 160,
                      "names": [
                        {
                          "String": {
                            "sval": "date",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
              ],
            },
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": ",",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "delimiter",
                  "location": 186,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": """,
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "quote",
                  "location": 201,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "value",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "be quoted",
                  "location": 212,
                },
              },
            ],
            "servername": "s0",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 303 1`] = `
[
  " -- ERROR
CREATE TABLE ref_table (id integer PRIMARY KEY)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 23,
              "relname": "ref_table",
              "relpersistence": "p",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "id",
                  "constraints": [
                    {
                      "Constraint": {
                        "contype": "CONSTR_PRIMARY",
                        "location": 45,
                      },
                    },
                  ],
                  "is_local": true,
                  "location": 34,
                  "typeName": {
                    "location": 37,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 309 1`] = `
[
  " -- ERROR
DROP TABLE ref_table",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "ref_table",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 316 1`] = `
[
  " -- ERROR
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') NOT NULL,
	c2 text OPTIONS (param2 'val2', param3 'val3') CHECK (c2 <> ''),
	c3 date,
	CHECK (c3 BETWEEN '1994-01-01'::date AND '1994-01-31'::date)
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignTableStmt": {
            "base": {
              "oncommit": "ONCOMMIT_NOOP",
              "relation": {
                "inh": true,
                "location": 31,
                "relname": "ft1",
                "relpersistence": "p",
              },
              "tableElts": [
                {
                  "ColumnDef": {
                    "colname": "c1",
                    "constraints": [
                      {
                        "Constraint": {
                          "contype": "CONSTR_NOTNULL",
                          "location": 76,
                        },
                      },
                    ],
                    "fdwoptions": [
                      {
                        "DefElem": {
                          "arg": {
                            "String": {
                              "sval": "val1",
                            },
                          },
                          "defaction": "DEFELEM_UNSPEC",
                          "defname": "param 1",
                          "location": 58,
                        },
                      },
                    ],
                    "is_local": true,
                    "location": 38,
                    "typeName": {
                      "location": 41,
                      "names": [
                        {
                          "String": {
                            "sval": "pg_catalog",
                          },
                        },
                        {
                          "String": {
                            "sval": "int4",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "ColumnDef": {
                    "colname": "c2",
                    "constraints": [
                      {
                        "Constraint": {
                          "contype": "CONSTR_CHECK",
                          "initially_valid": true,
                          "location": 134,
                          "raw_expr": {
                            "A_Expr": {
                              "kind": "AEXPR_OP",
                              "lexpr": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "c2",
                                      },
                                    },
                                  ],
                                  "location": 141,
                                },
                              },
                              "location": 144,
                              "name": [
                                {
                                  "String": {
                                    "sval": "<>",
                                  },
                                },
                              ],
                              "rexpr": {
                                "A_Const": {
                                  "location": 147,
                                  "sval": {
                                    "sval": "",
                                  },
                                },
                              },
                            },
                          },
                        },
                      },
                    ],
                    "fdwoptions": [
                      {
                        "DefElem": {
                          "arg": {
                            "String": {
                              "sval": "val2",
                            },
                          },
                          "defaction": "DEFELEM_UNSPEC",
                          "defname": "param2",
                          "location": 104,
                        },
                      },
                      {
                        "DefElem": {
                          "arg": {
                            "String": {
                              "sval": "val3",
                            },
                          },
                          "defaction": "DEFELEM_UNSPEC",
                          "defname": "param3",
                          "location": 119,
                        },
                      },
                    ],
                    "is_local": true,
                    "location": 87,
                    "typeName": {
                      "location": 90,
                      "names": [
                        {
                          "String": {
                            "sval": "text",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "ColumnDef": {
                    "colname": "c3",
                    "is_local": true,
                    "location": 153,
                    "typeName": {
                      "location": 156,
                      "names": [
                        {
                          "String": {
                            "sval": "date",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "Constraint": {
                    "contype": "CONSTR_CHECK",
                    "initially_valid": true,
                    "location": 163,
                    "raw_expr": {
                      "A_Expr": {
                        "kind": "AEXPR_BETWEEN",
                        "lexpr": {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "c3",
                                },
                              },
                            ],
                            "location": 170,
                          },
                        },
                        "location": 173,
                        "name": [
                          {
                            "String": {
                              "sval": "BETWEEN",
                            },
                          },
                        ],
                        "rexpr": {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 181,
                                      "sval": {
                                        "sval": "1994-01-01",
                                      },
                                    },
                                  },
                                  "location": 193,
                                  "typeName": {
                                    "location": 195,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "date",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 204,
                                      "sval": {
                                        "sval": "1994-01-31",
                                      },
                                    },
                                  },
                                  "location": 216,
                                  "typeName": {
                                    "location": 218,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "date",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                      },
                    },
                  },
                },
              ],
            },
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": ",",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "delimiter",
                  "location": 245,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": """,
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "quote",
                  "location": 260,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "value",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "be quoted",
                  "location": 271,
                },
              },
            ],
            "servername": "s0",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 327 1`] = `
[
  "                             -- ERROR
SELECT * FROM ft1",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 52,
                  "relname": "ft1",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 45,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 45,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 328 1`] = `
[
  "                                              -- ERROR
EXPLAIN SELECT * FROM ft1",
  {
    "stmts": [
      {
        "stmt": {
          "ExplainStmt": {
            "query": {
              "SelectStmt": {
                "fromClause": [
                  {
                    "RangeVar": {
                      "inh": true,
                      "location": 77,
                      "relname": "ft1",
                      "relpersistence": "p",
                    },
                  },
                ],
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "targetList": [
                  {
                    "ResTarget": {
                      "location": 70,
                      "val": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "A_Star": {},
                            },
                          ],
                          "location": 70,
                        },
                      },
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 329 1`] = `
[
  "                                      -- ERROR

CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "partspec": {
              "location": 73,
              "partParams": [
                {
                  "PartitionElem": {
                    "location": 93,
                    "name": "a",
                  },
                },
              ],
              "strategy": "PARTITION_STRATEGY_RANGE",
            },
            "relation": {
              "inh": true,
              "location": 61,
              "relname": "lt1",
              "relpersistence": "p",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "a",
                  "is_local": true,
                  "location": 66,
                  "typeName": {
                    "location": 68,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 334 1`] = `
[
  "                              -- skips partition
CREATE UNIQUE INDEX ON lt1 (a)",
  {
    "stmts": [
      {
        "stmt": {
          "IndexStmt": {
            "accessMethod": "btree",
            "indexParams": [
              {
                "IndexElem": {
                  "name": "a",
                  "nulls_ordering": "SORTBY_NULLS_DEFAULT",
                  "ordering": "SORTBY_DEFAULT",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 72,
              "relname": "lt1",
              "relpersistence": "p",
            },
            "unique": true,
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 335 1`] = `
[
  "                                 -- ERROR
ALTER TABLE lt1 ADD PRIMARY KEY (a)",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "Constraint": {
                      "contype": "CONSTR_PRIMARY",
                      "keys": [
                        {
                          "String": {
                            "sval": "a",
                          },
                        },
                      ],
                      "location": 62,
                    },
                  },
                  "subtype": "AT_AddConstraint",
                },
              },
            ],
            "objtype": "OBJECT_TABLE",
            "relation": {
              "inh": true,
              "location": 54,
              "relname": "lt1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 336 1`] = `
[
  "                            -- ERROR
DROP TABLE lt1",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "lt1",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 349 1`] = `
[
  "     -- ERROR
CREATE FOREIGN TABLE ft_part2 (a INT NOT NULL) SERVER s0",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignTableStmt": {
            "base": {
              "oncommit": "ONCOMMIT_NOOP",
              "relation": {
                "inh": true,
                "location": 35,
                "relname": "ft_part2",
                "relpersistence": "p",
              },
              "tableElts": [
                {
                  "ColumnDef": {
                    "colname": "a",
                    "constraints": [
                      {
                        "Constraint": {
                          "contype": "CONSTR_NOTNULL",
                          "location": 51,
                        },
                      },
                    ],
                    "is_local": true,
                    "location": 45,
                    "typeName": {
                      "location": 47,
                      "names": [
                        {
                          "String": {
                            "sval": "pg_catalog",
                          },
                        },
                        {
                          "String": {
                            "sval": "int4",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
              ],
            },
            "servername": "s0",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 378 1`] = `
[
  "COMMENT ON FOREIGN TABLE ft1 IS 'foreign table'",
  {
    "stmts": [
      {
        "stmt": {
          "CommentStmt": {
            "comment": "foreign table",
            "object": {
              "List": {
                "items": [
                  {
                    "String": {
                      "sval": "ft1",
                    },
                  },
                ],
              },
            },
            "objtype": "OBJECT_FOREIGN_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 383 1`] = `
[
  "ALTER FOREIGN TABLE ft1 ADD COLUMN c4 integer",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "ColumnDef": {
                      "colname": "c4",
                      "is_local": true,
                      "location": 35,
                      "typeName": {
                        "location": 38,
                        "names": [
                          {
                            "String": {
                              "sval": "pg_catalog",
                            },
                          },
                          {
                            "String": {
                              "sval": "int4",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                  "subtype": "AT_AddColumn",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 20,
              "relname": "ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 391 1`] = `
[
  "ALTER FOREIGN TABLE ft1 ALTER COLUMN c4 SET DEFAULT 0",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "A_Const": {
                      "ival": {},
                      "location": 52,
                    },
                  },
                  "name": "c4",
                  "subtype": "AT_ColumnDefault",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 20,
              "relname": "ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 395 1`] = `
[
  " -- ERROR
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10)",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "ColumnDef": {
                      "location": 47,
                      "typeName": {
                        "location": 55,
                        "names": [
                          {
                            "String": {
                              "sval": "pg_catalog",
                            },
                          },
                          {
                            "String": {
                              "sval": "bpchar",
                            },
                          },
                        ],
                        "typemod": -1,
                        "typmods": [
                          {
                            "A_Const": {
                              "ival": {
                                "ival": 10,
                              },
                              "location": 60,
                            },
                          },
                        ],
                      },
                    },
                  },
                  "name": "c8",
                  "subtype": "AT_AlterColumnType",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 30,
              "relname": "ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 398 1`] = `
[
  " -- ERROR
ALTER FOREIGN TABLE ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', ADD p2 'v2'),
                        ALTER COLUMN c8 OPTIONS (ADD p1 'v1', ADD p2 'v2')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "List": {
                      "items": [
                        {
                          "DefElem": {
                            "arg": {
                              "String": {
                                "sval": "v1",
                              },
                            },
                            "defaction": "DEFELEM_ADD",
                            "defname": "p1",
                            "location": 63,
                          },
                        },
                        {
                          "DefElem": {
                            "arg": {
                              "String": {
                                "sval": "v2",
                              },
                            },
                            "defaction": "DEFELEM_ADD",
                            "defname": "p2",
                            "location": 76,
                          },
                        },
                      ],
                    },
                  },
                  "name": "c7",
                  "subtype": "AT_AlterColumnGenericOptions",
                },
              },
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "List": {
                      "items": [
                        {
                          "DefElem": {
                            "arg": {
                              "String": {
                                "sval": "v1",
                              },
                            },
                            "defaction": "DEFELEM_ADD",
                            "defname": "p1",
                            "location": 139,
                          },
                        },
                        {
                          "DefElem": {
                            "arg": {
                              "String": {
                                "sval": "v2",
                              },
                            },
                            "defaction": "DEFELEM_ADD",
                            "defname": "p2",
                            "location": 152,
                          },
                        },
                      ],
                    },
                  },
                  "name": "c8",
                  "subtype": "AT_AlterColumnGenericOptions",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 30,
              "relname": "ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 408 1`] = `
[
  "CREATE TABLE use_ft1_column_type (x ft1)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 13,
              "relname": "use_ft1_column_type",
              "relpersistence": "p",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "x",
                  "is_local": true,
                  "location": 34,
                  "typeName": {
                    "location": 36,
                    "names": [
                      {
                        "String": {
                          "sval": "ft1",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 409 1`] = `
[
  "	-- ERROR
DROP TABLE use_ft1_column_type",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "use_ft1_column_type",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 411 1`] = `
[
  "                   -- ERROR
ALTER FOREIGN TABLE ft1 ADD CONSTRAINT ft1_c9_check CHECK (c9 < 0) NOT VALID",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "Constraint": {
                      "conname": "ft1_c9_check",
                      "contype": "CONSTR_CHECK",
                      "location": 56,
                      "raw_expr": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "c9",
                                  },
                                },
                              ],
                              "location": 87,
                            },
                          },
                          "location": 90,
                          "name": [
                            {
                              "String": {
                                "sval": "<",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "ival": {},
                              "location": 92,
                            },
                          },
                        },
                      },
                      "skip_validation": true,
                    },
                  },
                  "subtype": "AT_AddConstraint",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 48,
              "relname": "ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 413 1`] = `
[
  " -- ERROR
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT ft1_c9_check",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "name": "ft1_c9_check",
                  "subtype": "AT_DropConstraint",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 30,
              "relname": "ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 415 1`] = `
[
  "               -- ERROR
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT IF EXISTS no_const",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "missing_ok": true,
                  "name": "no_const",
                  "subtype": "AT_DropConstraint",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 44,
              "relname": "ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 419 1`] = `
[
  "                  -- ERROR
ALTER FOREIGN TABLE ft1 DROP COLUMN IF EXISTS no_column",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "missing_ok": true,
                  "name": "no_column",
                  "subtype": "AT_DropColumn",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 47,
              "relname": "ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 423 1`] = `
[
  "                      -- ERROR
ALTER FOREIGN TABLE foreign_schema.ft1 RENAME c1 TO foreign_column_1",
  {
    "stmts": [
      {
        "stmt": {
          "RenameStmt": {
            "behavior": "DROP_RESTRICT",
            "newname": "foreign_column_1",
            "relation": {
              "inh": true,
              "location": 51,
              "relname": "ft1",
              "relpersistence": "p",
              "schemaname": "foreign_schema",
            },
            "relationType": "OBJECT_FOREIGN_TABLE",
            "renameType": "OBJECT_COLUMN",
            "subname": "c1",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 429 1`] = `
[
  "ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c4 integer",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "ColumnDef": {
                      "colname": "c4",
                      "is_local": true,
                      "location": 58,
                      "typeName": {
                        "location": 61,
                        "names": [
                          {
                            "String": {
                              "sval": "pg_catalog",
                            },
                          },
                          {
                            "String": {
                              "sval": "int4",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                  "subtype": "AT_AddColumn",
                },
              },
            ],
            "missing_ok": true,
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 30,
              "relname": "doesnt_exist_ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 436 1`] = `
[
  "ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c6 SET NOT NULL",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "name": "c6",
                  "subtype": "AT_SetNotNull",
                },
              },
            ],
            "missing_ok": true,
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 30,
              "relname": "doesnt_exist_ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 444 1`] = `
[
  "ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT IF EXISTS no_const",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "missing_ok": true,
                  "name": "no_const",
                  "subtype": "AT_DropConstraint",
                },
              },
            ],
            "missing_ok": true,
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 30,
              "relname": "doesnt_exist_ft1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 477 1`] = `
[
  "SELECT has_foreign_data_wrapper_privilege('regress_test_role',
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 42,
                            "sval": {
                              "sval": "regress_test_role",
                            },
                          },
                        },
                        {
                          "SubLink": {
                            "location": 67,
                            "subLinkType": "EXPR_SUBLINK",
                            "subselect": {
                              "SelectStmt": {
                                "fromClause": [
                                  {
                                    "RangeVar": {
                                      "inh": true,
                                      "location": 84,
                                      "relname": "pg_foreign_data_wrapper",
                                      "relpersistence": "p",
                                    },
                                  },
                                ],
                                "limitOption": "LIMIT_OPTION_DEFAULT",
                                "op": "SETOP_NONE",
                                "targetList": [
                                  {
                                    "ResTarget": {
                                      "location": 75,
                                      "val": {
                                        "ColumnRef": {
                                          "fields": [
                                            {
                                              "String": {
                                                "sval": "oid",
                                              },
                                            },
                                          ],
                                          "location": 75,
                                        },
                                      },
                                    },
                                  },
                                ],
                                "whereClause": {
                                  "A_Expr": {
                                    "kind": "AEXPR_OP",
                                    "lexpr": {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "fdwname",
                                            },
                                          },
                                        ],
                                        "location": 114,
                                      },
                                    },
                                    "location": 121,
                                    "name": [
                                      {
                                        "String": {
                                          "sval": "=",
                                        },
                                      },
                                    ],
                                    "rexpr": {
                                      "A_Const": {
                                        "location": 122,
                                        "sval": {
                                          "sval": "foo",
                                        },
                                      },
                                    },
                                  },
                                },
                              },
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 130,
                            "sval": {
                              "sval": "USAGE",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "has_foreign_data_wrapper_privilege",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 492 1`] = `
[
  "SELECT has_server_privilege('regress_test_role',
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 28,
                            "sval": {
                              "sval": "regress_test_role",
                            },
                          },
                        },
                        {
                          "SubLink": {
                            "location": 53,
                            "subLinkType": "EXPR_SUBLINK",
                            "subselect": {
                              "SelectStmt": {
                                "fromClause": [
                                  {
                                    "RangeVar": {
                                      "inh": true,
                                      "location": 70,
                                      "relname": "pg_foreign_server",
                                      "relpersistence": "p",
                                    },
                                  },
                                ],
                                "limitOption": "LIMIT_OPTION_DEFAULT",
                                "op": "SETOP_NONE",
                                "targetList": [
                                  {
                                    "ResTarget": {
                                      "location": 61,
                                      "val": {
                                        "ColumnRef": {
                                          "fields": [
                                            {
                                              "String": {
                                                "sval": "oid",
                                              },
                                            },
                                          ],
                                          "location": 61,
                                        },
                                      },
                                    },
                                  },
                                ],
                                "whereClause": {
                                  "A_Expr": {
                                    "kind": "AEXPR_OP",
                                    "lexpr": {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "srvname",
                                            },
                                          },
                                        ],
                                        "location": 94,
                                      },
                                    },
                                    "location": 101,
                                    "name": [
                                      {
                                        "String": {
                                          "sval": "=",
                                        },
                                      },
                                    ],
                                    "rexpr": {
                                      "A_Const": {
                                        "location": 102,
                                        "sval": {
                                          "sval": "s8",
                                        },
                                      },
                                    },
                                  },
                                },
                              },
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 109,
                            "sval": {
                              "sval": "USAGE",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "has_server_privilege",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 507 1`] = `
[
  "GRANT USAGE ON FOREIGN SERVER s4 TO regress_test_role",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_RESTRICT",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 36,
                  "rolename": "regress_test_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "is_grant": true,
            "objects": [
              {
                "String": {
                  "sval": "s4",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_SERVER",
            "privileges": [
              {
                "AccessPriv": {
                  "priv_name": "usage",
                },
              },
            ],
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 515 1`] = `
[
  "                             -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterFdwStmt": {
            "fdwname": "foo",
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "true",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "gotcha",
                  "location": 78,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 516 1`] = `
[
  "         -- ERROR
ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_unprivileged_role",
  {
    "stmts": [
      {
        "stmt": {
          "AlterOwnerStmt": {
            "newowner": {
              "location": 58,
              "rolename": "regress_unprivileged_role",
              "roletype": "ROLESPEC_CSTRING",
            },
            "object": {
              "String": {
                "sval": "foo",
              },
            },
            "objectType": "OBJECT_FDW",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 518 1`] = `
[
  "                                  -- ERROR
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_RESTRICT",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 86,
                  "rolename": "regress_test_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "is_grant": true,
            "objects": [
              {
                "String": {
                  "sval": "foo",
                },
              },
            ],
            "objtype": "OBJECT_FDW",
            "privileges": [
              {
                "AccessPriv": {
                  "priv_name": "usage",
                },
              },
            ],
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 519 1`] = `
[
  "   -- ERROR
CREATE SERVER s9 FOREIGN DATA WRAPPER foo",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignServerStmt": {
            "fdwname": "foo",
            "servername": "s9",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 520 1`] = `
[
  "                      -- ERROR
ALTER SERVER s4 VERSION '0.5'",
  {
    "stmts": [
      {
        "stmt": {
          "AlterForeignServerStmt": {
            "has_version": true,
            "servername": "s4",
            "version": "0.5",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 521 1`] = `
[
  "                                  -- ERROR
ALTER SERVER s4 OWNER TO regress_unprivileged_role",
  {
    "stmts": [
      {
        "stmt": {
          "AlterOwnerStmt": {
            "newowner": {
              "location": 68,
              "rolename": "regress_unprivileged_role",
              "roletype": "ROLESPEC_CSTRING",
            },
            "object": {
              "String": {
                "sval": "s4",
              },
            },
            "objectType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 522 1`] = `
[
  "             -- ERROR
DROP SERVER s4",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "String": {
                  "sval": "s4",
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 524 1`] = `
[
  "          -- ERROR
CREATE USER MAPPING FOR public SERVER s4",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "servername": "s4",
            "user": {
              "location": 43,
              "roletype": "ROLESPEC_PUBLIC",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 525 1`] = `
[
  "                       -- ERROR
ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterUserMappingStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "true",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "gotcha",
                  "location": 92,
                },
              },
            ],
            "servername": "s6",
            "user": {
              "location": 55,
              "rolename": "regress_test_role",
              "roletype": "ROLESPEC_CSTRING",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 526 1`] = `
[
  " -- ERROR
DROP USER MAPPING FOR regress_test_role SERVER s6",
  {
    "stmts": [
      {
        "stmt": {
          "DropUserMappingStmt": {
            "servername": "s6",
            "user": {
              "location": 32,
              "rolename": "regress_test_role",
              "roletype": "ROLESPEC_CSTRING",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 530 1`] = `
[
  "GRANT USAGE ON FOREIGN DATA WRAPPER postgresql TO regress_unprivileged_role",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_RESTRICT",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 50,
                  "rolename": "regress_unprivileged_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "is_grant": true,
            "objects": [
              {
                "String": {
                  "sval": "postgresql",
                },
              },
            ],
            "objtype": "OBJECT_FDW",
            "privileges": [
              {
                "AccessPriv": {
                  "priv_name": "usage",
                },
              },
            ],
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 535 1`] = `
[
  "                                  -- ERROR
GRANT USAGE ON FOREIGN DATA WRAPPER postgresql TO regress_test_role",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_RESTRICT",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 93,
                  "rolename": "regress_test_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "is_grant": true,
            "objects": [
              {
                "String": {
                  "sval": "postgresql",
                },
              },
            ],
            "objtype": "OBJECT_FDW",
            "privileges": [
              {
                "AccessPriv": {
                  "priv_name": "usage",
                },
              },
            ],
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 539 1`] = `
[
  "                                  -- ERROR
DROP SERVER s6",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "String": {
                  "sval": "s6",
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 540 1`] = `
[
  "                                                 -- ERROR
GRANT USAGE ON FOREIGN SERVER s6 TO regress_test_role",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_RESTRICT",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 94,
                  "rolename": "regress_test_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "is_grant": true,
            "objects": [
              {
                "String": {
                  "sval": "s6",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_SERVER",
            "privileges": [
              {
                "AccessPriv": {
                  "priv_name": "usage",
                },
              },
            ],
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 541 1`] = `
[
  "          -- ERROR
GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_RESTRICT",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 55,
                  "rolename": "regress_test_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "is_grant": true,
            "objects": [
              {
                "String": {
                  "sval": "s9",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_SERVER",
            "privileges": [
              {
                "AccessPriv": {
                  "priv_name": "usage",
                },
              },
            ],
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 543 1`] = `
[
  "                       -- ERROR
CREATE USER MAPPING FOR public SERVER s9",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "servername": "s9",
            "user": {
              "location": 56,
              "roletype": "ROLESPEC_PUBLIC",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 549 1`] = `
[
  "REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_RESTRICT",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 46,
                  "rolename": "regress_unprivileged_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "objects": [
              {
                "String": {
                  "sval": "foo",
                },
              },
            ],
            "objtype": "OBJECT_FDW",
            "privileges": [
              {
                "AccessPriv": {
                  "priv_name": "usage",
                },
              },
            ],
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 549 2`] = `
[
  " -- ERROR
REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role CASCADE",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_CASCADE",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 56,
                  "rolename": "regress_unprivileged_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "objects": [
              {
                "String": {
                  "sval": "foo",
                },
              },
            ],
            "objtype": "OBJECT_FDW",
            "privileges": [
              {
                "AccessPriv": {
                  "priv_name": "usage",
                },
              },
            ],
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 552 1`] = `
[
  "   -- ERROR
CREATE SERVER s10 FOREIGN DATA WRAPPER foo",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignServerStmt": {
            "fdwname": "foo",
            "servername": "s10",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 553 1`] = `
[
  "                     -- ERROR
ALTER SERVER s9 VERSION '1.1'",
  {
    "stmts": [
      {
        "stmt": {
          "AlterForeignServerStmt": {
            "has_version": true,
            "servername": "s9",
            "version": "1.1",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 563 1`] = `
[
  "          -- WARNING
CREATE USER MAPPING FOR current_user SERVER s9",
  {
    "stmts": [
      {
        "stmt": {
          "CreateUserMappingStmt": {
            "servername": "s9",
            "user": {
              "location": 45,
              "roletype": "ROLESPEC_CURRENT_USER",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 584 1`] = `
[
  "CREATE FUNCTION dummy_trigger() RETURNS TRIGGER AS $$
  BEGIN
    RETURN NULL;
  END
$$ language plpgsql",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFunctionStmt": {
            "funcname": [
              {
                "String": {
                  "sval": "dummy_trigger",
                },
              },
            ],
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "
  BEGIN
    RETURN NULL;
  END
",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "as",
                  "location": 48,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "plpgsql",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "language",
                  "location": 88,
                },
              },
            ],
            "returnType": {
              "location": 40,
              "names": [
                {
                  "String": {
                    "sval": "trigger",
                  },
                },
              ],
              "typemod": -1,
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 590 1`] = `
[
  "CREATE TRIGGER trigtest_before_stmt BEFORE INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()",
  {
    "stmts": [
      {
        "stmt": {
          "CreateTrigStmt": {
            "events": 28,
            "funcname": [
              {
                "String": {
                  "sval": "dummy_trigger",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 73,
              "relname": "foreign_table_1",
              "relpersistence": "p",
              "schemaname": "foreign_schema",
            },
            "timing": 2,
            "trigname": "trigtest_before_stmt",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 595 1`] = `
[
  "CREATE TRIGGER trigtest_after_stmt AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()",
  {
    "stmts": [
      {
        "stmt": {
          "CreateTrigStmt": {
            "events": 28,
            "funcname": [
              {
                "String": {
                  "sval": "dummy_trigger",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 71,
              "relname": "foreign_table_1",
              "relpersistence": "p",
              "schemaname": "foreign_schema",
            },
            "trigname": "trigtest_after_stmt",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 600 1`] = `
[
  "CREATE TRIGGER trigtest_after_stmt_tt AFTER INSERT OR UPDATE OR DELETE -- ERROR
ON foreign_schema.foreign_table_1
REFERENCING NEW TABLE AS new_table
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()",
  {
    "stmts": [
      {
        "stmt": {
          "CreateTrigStmt": {
            "events": 28,
            "funcname": [
              {
                "String": {
                  "sval": "dummy_trigger",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 83,
              "relname": "foreign_table_1",
              "relpersistence": "p",
              "schemaname": "foreign_schema",
            },
            "transitionRels": [
              {
                "TriggerTransition": {
                  "isNew": true,
                  "isTable": true,
                  "name": "new_table",
                },
              },
            ],
            "trigname": "trigtest_after_stmt_tt",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 606 1`] = `
[
  "CREATE TRIGGER trigtest_before_row BEFORE INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()",
  {
    "stmts": [
      {
        "stmt": {
          "CreateTrigStmt": {
            "events": 28,
            "funcname": [
              {
                "String": {
                  "sval": "dummy_trigger",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 72,
              "relname": "foreign_table_1",
              "relpersistence": "p",
              "schemaname": "foreign_schema",
            },
            "row": true,
            "timing": 2,
            "trigname": "trigtest_before_row",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 611 1`] = `
[
  "CREATE TRIGGER trigtest_after_row AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()",
  {
    "stmts": [
      {
        "stmt": {
          "CreateTrigStmt": {
            "events": 28,
            "funcname": [
              {
                "String": {
                  "sval": "dummy_trigger",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 70,
              "relname": "foreign_table_1",
              "relpersistence": "p",
              "schemaname": "foreign_schema",
            },
            "row": true,
            "trigname": "trigtest_after_row",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 616 1`] = `
[
  "CREATE CONSTRAINT TRIGGER trigtest_constraint AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()",
  {
    "stmts": [
      {
        "stmt": {
          "CreateTrigStmt": {
            "events": 28,
            "funcname": [
              {
                "String": {
                  "sval": "dummy_trigger",
                },
              },
            ],
            "isconstraint": true,
            "relation": {
              "inh": true,
              "location": 82,
              "relname": "foreign_table_1",
              "relpersistence": "p",
              "schemaname": "foreign_schema",
            },
            "row": true,
            "trigname": "trigtest_constraint",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 621 1`] = `
[
  "ALTER FOREIGN TABLE foreign_schema.foreign_table_1
	DISABLE TRIGGER trigtest_before_stmt",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "name": "trigtest_before_stmt",
                  "subtype": "AT_DisableTrig",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 20,
              "relname": "foreign_table_1",
              "relpersistence": "p",
              "schemaname": "foreign_schema",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 626 1`] = `
[
  "DROP TRIGGER trigtest_before_stmt ON foreign_schema.foreign_table_1",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "foreign_schema",
                      },
                    },
                    {
                      "String": {
                        "sval": "foreign_table_1",
                      },
                    },
                    {
                      "String": {
                        "sval": "trigtest_before_stmt",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_TRIGGER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 631 1`] = `
[
  "DROP FUNCTION dummy_trigger()",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "ObjectWithArgs": {
                  "objname": [
                    {
                      "String": {
                        "sval": "dummy_trigger",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_FUNCTION",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 634 1`] = `
[
  "CREATE TABLE fd_pt1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 13,
              "relname": "fd_pt1",
              "relpersistence": "p",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "c1",
                  "constraints": [
                    {
                      "Constraint": {
                        "contype": "CONSTR_NOTNULL",
                        "location": 34,
                      },
                    },
                  ],
                  "is_local": true,
                  "location": 23,
                  "typeName": {
                    "location": 26,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c2",
                  "is_local": true,
                  "location": 45,
                  "typeName": {
                    "location": 48,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c3",
                  "is_local": true,
                  "location": 55,
                  "typeName": {
                    "location": 58,
                    "names": [
                      {
                        "String": {
                          "sval": "date",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 645 1`] = `
[
  "CREATE FOREIGN TABLE ft2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignTableStmt": {
            "base": {
              "oncommit": "ONCOMMIT_NOOP",
              "relation": {
                "inh": true,
                "location": 21,
                "relname": "ft2",
                "relpersistence": "p",
              },
              "tableElts": [
                {
                  "ColumnDef": {
                    "colname": "c1",
                    "constraints": [
                      {
                        "Constraint": {
                          "contype": "CONSTR_NOTNULL",
                          "location": 39,
                        },
                      },
                    ],
                    "is_local": true,
                    "location": 28,
                    "typeName": {
                      "location": 31,
                      "names": [
                        {
                          "String": {
                            "sval": "pg_catalog",
                          },
                        },
                        {
                          "String": {
                            "sval": "int4",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "ColumnDef": {
                    "colname": "c2",
                    "is_local": true,
                    "location": 50,
                    "typeName": {
                      "location": 53,
                      "names": [
                        {
                          "String": {
                            "sval": "text",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "ColumnDef": {
                    "colname": "c3",
                    "is_local": true,
                    "location": 60,
                    "typeName": {
                      "location": 63,
                      "names": [
                        {
                          "String": {
                            "sval": "date",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
              ],
            },
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": ",",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "delimiter",
                  "location": 89,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": """,
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "quote",
                  "location": 104,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "value",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "be quoted",
                  "location": 115,
                },
              },
            ],
            "servername": "s0",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 651 1`] = `
[
  "ALTER FOREIGN TABLE ft2 INHERIT fd_pt1",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "RangeVar": {
                      "inh": true,
                      "location": 32,
                      "relname": "fd_pt1",
                      "relpersistence": "p",
                    },
                  },
                  "subtype": "AT_AddInherit",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 20,
              "relname": "ft2",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 681 1`] = `
[
  "        -- ERROR
ALTER TABLE fd_pt1 ALTER COLUMN c8 TYPE char(10)",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "ColumnDef": {
                      "location": 49,
                      "typeName": {
                        "location": 57,
                        "names": [
                          {
                            "String": {
                              "sval": "pg_catalog",
                            },
                          },
                          {
                            "String": {
                              "sval": "bpchar",
                            },
                          },
                        ],
                        "typemod": -1,
                        "typmods": [
                          {
                            "A_Const": {
                              "ival": {
                                "ival": 10,
                              },
                              "location": 62,
                            },
                          },
                        ],
                      },
                    },
                  },
                  "name": "c8",
                  "subtype": "AT_AlterColumnType",
                },
              },
            ],
            "objtype": "OBJECT_TABLE",
            "relation": {
              "inh": true,
              "location": 29,
              "relname": "fd_pt1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 704 1`] = `
[
  "SELECT relname, conname, contype, conislocal, coninhcount, connoinherit
  FROM pg_class AS pc JOIN pg_constraint AS pgc ON (conrelid = pc.oid)
  WHERE pc.relname = 'fd_pt1'
  ORDER BY 1,2",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "JoinExpr": {
                  "jointype": "JOIN_INNER",
                  "larg": {
                    "RangeVar": {
                      "alias": {
                        "aliasname": "pc",
                      },
                      "inh": true,
                      "location": 79,
                      "relname": "pg_class",
                      "relpersistence": "p",
                    },
                  },
                  "quals": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "conrelid",
                              },
                            },
                          ],
                          "location": 124,
                        },
                      },
                      "location": 133,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "pc",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 135,
                        },
                      },
                    },
                  },
                  "rarg": {
                    "RangeVar": {
                      "alias": {
                        "aliasname": "pgc",
                      },
                      "inh": true,
                      "location": 99,
                      "relname": "pg_constraint",
                      "relpersistence": "p",
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 184,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 2,
                      },
                      "location": 186,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "relname",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 16,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "conname",
                          },
                        },
                      ],
                      "location": 16,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 25,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "contype",
                          },
                        },
                      ],
                      "location": 25,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 34,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "conislocal",
                          },
                        },
                      ],
                      "location": 34,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 46,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "coninhcount",
                          },
                        },
                      ],
                      "location": 46,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 59,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "connoinherit",
                          },
                        },
                      ],
                      "location": 59,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "pc",
                        },
                      },
                      {
                        "String": {
                          "sval": "relname",
                        },
                      },
                    ],
                    "location": 151,
                  },
                },
                "location": 162,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 164,
                    "sval": {
                      "sval": "fd_pt1",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 711 1`] = `
[
  " -- ERROR
DROP FOREIGN TABLE ft2 CASCADE",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_CASCADE",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "ft2",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 719 1`] = `
[
  "                            -- ERROR
ALTER FOREIGN TABLE ft2 ADD CONSTRAINT fd_pt1chk2 CHECK (c2 <> '')",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "Constraint": {
                      "conname": "fd_pt1chk2",
                      "contype": "CONSTR_CHECK",
                      "initially_valid": true,
                      "location": 65,
                      "raw_expr": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "c2",
                                  },
                                },
                              ],
                              "location": 94,
                            },
                          },
                          "location": 97,
                          "name": [
                            {
                              "String": {
                                "sval": "<>",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "location": 100,
                              "sval": {
                                "sval": "",
                              },
                            },
                          },
                        },
                      },
                    },
                  },
                  "subtype": "AT_AddConstraint",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 57,
              "relname": "ft2",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 731 1`] = `
[
  "INSERT INTO fd_pt1 VALUES (1, 'fd_pt1'::text, '1994-01-01'::date)",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "fd_pt1",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 27,
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 30,
                                "sval": {
                                  "sval": "fd_pt1",
                                },
                              },
                            },
                            "location": 38,
                            "typeName": {
                              "location": 40,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 46,
                                "sval": {
                                  "sval": "1994-01-01",
                                },
                              },
                            },
                            "location": 58,
                            "typeName": {
                              "location": 60,
                              "names": [
                                {
                                  "String": {
                                    "sval": "date",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 745 1`] = `
[
  "ALTER TABLE fd_pt1 RENAME CONSTRAINT fd_pt1chk3 TO f2_check",
  {
    "stmts": [
      {
        "stmt": {
          "RenameStmt": {
            "behavior": "DROP_RESTRICT",
            "newname": "f2_check",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "fd_pt1",
              "relpersistence": "p",
            },
            "relationType": "OBJECT_ACCESS_METHOD",
            "renameType": "OBJECT_TABCONSTRAINT",
            "subname": "fd_pt1chk3",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 752 1`] = `
[
  "IMPORT FOREIGN SCHEMA s1 FROM SERVER s9 INTO public",
  {
    "stmts": [
      {
        "stmt": {
          "ImportForeignSchemaStmt": {
            "list_type": "FDW_IMPORT_SCHEMA_ALL",
            "local_schema": "public",
            "remote_schema": "s1",
            "server_name": "s9",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 752 2`] = `
[
  " -- ERROR
IMPORT FOREIGN SCHEMA s1 LIMIT TO (t1) FROM SERVER s9 INTO public",
  {
    "stmts": [
      {
        "stmt": {
          "ImportForeignSchemaStmt": {
            "list_type": "FDW_IMPORT_SCHEMA_LIMIT_TO",
            "local_schema": "public",
            "remote_schema": "s1",
            "server_name": "s9",
            "table_list": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 45,
                  "relname": "t1",
                  "relpersistence": "p",
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 753 1`] = `
[
  " --ERROR
IMPORT FOREIGN SCHEMA s1 EXCEPT (t1) FROM SERVER s9 INTO public",
  {
    "stmts": [
      {
        "stmt": {
          "ImportForeignSchemaStmt": {
            "list_type": "FDW_IMPORT_SCHEMA_EXCEPT",
            "local_schema": "public",
            "remote_schema": "s1",
            "server_name": "s9",
            "table_list": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 42,
                  "relname": "t1",
                  "relpersistence": "p",
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 754 1`] = `
[
  " -- ERROR
IMPORT FOREIGN SCHEMA s1 EXCEPT (t1, t2) FROM SERVER s9 INTO public
OPTIONS (option1 'value1', option2 'value2')",
  {
    "stmts": [
      {
        "stmt": {
          "ImportForeignSchemaStmt": {
            "list_type": "FDW_IMPORT_SCHEMA_EXCEPT",
            "local_schema": "public",
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "value1",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "option1",
                  "location": 87,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "value2",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "option2",
                  "location": 105,
                },
              },
            ],
            "remote_schema": "s1",
            "server_name": "s9",
            "table_list": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 43,
                  "relname": "t1",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "inh": true,
                  "location": 47,
                  "relname": "t2",
                  "relpersistence": "p",
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 756 1`] = `
[
  " -- ERROR

-- DROP FOREIGN TABLE
DROP FOREIGN TABLE no_table",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "no_table",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 759 1`] = `
[
  "                                    -- ERROR
DROP FOREIGN TABLE IF EXISTS no_table",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "missing_ok": true,
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "no_table",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 764 1`] = `
[
  "REASSIGN OWNED BY regress_test_role TO regress_test_role2",
  {
    "stmts": [
      {
        "stmt": {
          "ReassignOwnedStmt": {
            "newrole": {
              "location": 39,
              "rolename": "regress_test_role2",
              "roletype": "ROLESPEC_CSTRING",
            },
            "roles": [
              {
                "RoleSpec": {
                  "location": 18,
                  "rolename": "regress_test_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 769 1`] = `
[
  "CREATE TABLE fd_pt2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) PARTITION BY LIST (c1)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "partspec": {
              "location": 65,
              "partParams": [
                {
                  "PartitionElem": {
                    "location": 84,
                    "name": "c1",
                  },
                },
              ],
              "strategy": "PARTITION_STRATEGY_LIST",
            },
            "relation": {
              "inh": true,
              "location": 13,
              "relname": "fd_pt2",
              "relpersistence": "p",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "c1",
                  "constraints": [
                    {
                      "Constraint": {
                        "contype": "CONSTR_NOTNULL",
                        "location": 34,
                      },
                    },
                  ],
                  "is_local": true,
                  "location": 23,
                  "typeName": {
                    "location": 26,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c2",
                  "is_local": true,
                  "location": 45,
                  "typeName": {
                    "location": 48,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c3",
                  "is_local": true,
                  "location": 55,
                  "typeName": {
                    "location": 58,
                    "names": [
                      {
                        "String": {
                          "sval": "date",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 788 1`] = `
[
  "ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "PartitionCmd": {
                      "bound": {
                        "listdatums": [
                          {
                            "A_Const": {
                              "ival": {
                                "ival": 1,
                              },
                              "location": 60,
                            },
                          },
                        ],
                        "location": 56,
                        "strategy": "l",
                      },
                      "name": {
                        "inh": true,
                        "location": 36,
                        "relname": "fd_pt2_1",
                        "relpersistence": "p",
                      },
                    },
                  },
                  "subtype": "AT_AttachPartition",
                },
              },
            ],
            "objtype": "OBJECT_TABLE",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "fd_pt2",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 788 2`] = `
[
  "       -- ERROR

DROP FOREIGN TABLE fd_pt2_1",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "fd_pt2_1",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 792 1`] = `
[
  "CREATE FOREIGN TABLE fd_pt2_1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignTableStmt": {
            "base": {
              "oncommit": "ONCOMMIT_NOOP",
              "relation": {
                "inh": true,
                "location": 21,
                "relname": "fd_pt2_1",
                "relpersistence": "p",
              },
              "tableElts": [
                {
                  "ColumnDef": {
                    "colname": "c1",
                    "constraints": [
                      {
                        "Constraint": {
                          "contype": "CONSTR_NOTNULL",
                          "location": 44,
                        },
                      },
                    ],
                    "is_local": true,
                    "location": 33,
                    "typeName": {
                      "location": 36,
                      "names": [
                        {
                          "String": {
                            "sval": "pg_catalog",
                          },
                        },
                        {
                          "String": {
                            "sval": "int4",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "ColumnDef": {
                    "colname": "c2",
                    "is_local": true,
                    "location": 55,
                    "typeName": {
                      "location": 58,
                      "names": [
                        {
                          "String": {
                            "sval": "text",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                {
                  "ColumnDef": {
                    "colname": "c3",
                    "is_local": true,
                    "location": 65,
                    "typeName": {
                      "location": 68,
                      "names": [
                        {
                          "String": {
                            "sval": "date",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
              ],
            },
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": ",",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "delimiter",
                  "location": 94,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": """,
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "quote",
                  "location": 109,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "value",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "be quoted",
                  "location": 120,
                },
              },
            ],
            "servername": "s0",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 807 1`] = `
[
  "ALTER TABLE fd_pt2_1 ALTER c3 SET NOT NULL",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "name": "c3",
                  "subtype": "AT_SetNotNull",
                },
              },
            ],
            "objtype": "OBJECT_TABLE",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "fd_pt2_1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 816 1`] = `
[
  "ALTER TABLE fd_pt2 DETACH PARTITION fd_pt2_1",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "PartitionCmd": {
                      "name": {
                        "inh": true,
                        "location": 36,
                        "relname": "fd_pt2_1",
                        "relpersistence": "p",
                      },
                    },
                  },
                  "subtype": "AT_DetachPartition",
                },
              },
            ],
            "objtype": "OBJECT_TABLE",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "fd_pt2",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 820 1`] = `
[
  "       -- ERROR
ALTER FOREIGN TABLE fd_pt2_1 ALTER c2 SET NOT NULL",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "name": "c2",
                  "subtype": "AT_SetNotNull",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 36,
              "relname": "fd_pt2_1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 828 1`] = `
[
  "       -- ERROR
ALTER FOREIGN TABLE fd_pt2_1 ADD CONSTRAINT fd_pt2chk1 CHECK (c1 > 0)",
  {
    "stmts": [
      {
        "stmt": {
          "AlterTableStmt": {
            "cmds": [
              {
                "AlterTableCmd": {
                  "behavior": "DROP_RESTRICT",
                  "def": {
                    "Constraint": {
                      "conname": "fd_pt2chk1",
                      "contype": "CONSTR_CHECK",
                      "initially_valid": true,
                      "location": 49,
                      "raw_expr": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "c1",
                                  },
                                },
                              ],
                              "location": 78,
                            },
                          },
                          "location": 81,
                          "name": [
                            {
                              "String": {
                                "sval": ">",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "ival": {},
                              "location": 83,
                            },
                          },
                        },
                      },
                    },
                  },
                  "subtype": "AT_AddConstraint",
                },
              },
            ],
            "objtype": "OBJECT_FOREIGN_TABLE",
            "relation": {
              "inh": true,
              "location": 36,
              "relname": "fd_pt2_1",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 837 1`] = `
[
  "CREATE TEMP TABLE temp_parted (a int) PARTITION BY LIST (a)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "partspec": {
              "location": 38,
              "partParams": [
                {
                  "PartitionElem": {
                    "location": 57,
                    "name": "a",
                  },
                },
              ],
              "strategy": "PARTITION_STRATEGY_LIST",
            },
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "temp_parted",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "a",
                  "is_local": true,
                  "location": 31,
                  "typeName": {
                    "location": 33,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 839 1`] = `
[
  "  -- ERROR
CREATE FOREIGN TABLE foreign_part (a int) SERVER s0",
  {
    "stmts": [
      {
        "stmt": {
          "CreateForeignTableStmt": {
            "base": {
              "oncommit": "ONCOMMIT_NOOP",
              "relation": {
                "inh": true,
                "location": 32,
                "relname": "foreign_part",
                "relpersistence": "p",
              },
              "tableElts": [
                {
                  "ColumnDef": {
                    "colname": "a",
                    "is_local": true,
                    "location": 46,
                    "typeName": {
                      "location": 48,
                      "names": [
                        {
                          "String": {
                            "sval": "pg_catalog",
                          },
                        },
                        {
                          "String": {
                            "sval": "int4",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
              ],
            },
            "servername": "s0",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 841 1`] = `
[
  "  -- ERROR
DROP FOREIGN TABLE foreign_part",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "foreign_part",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_TABLE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 846 1`] = `
[
  "DROP SCHEMA foreign_schema CASCADE",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_CASCADE",
            "objects": [
              {
                "String": {
                  "sval": "foreign_schema",
                },
              },
            ],
            "removeType": "OBJECT_SCHEMA",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 847 1`] = `
[
  "                                -- ERROR
DROP SERVER t1 CASCADE",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_CASCADE",
            "objects": [
              {
                "String": {
                  "sval": "t1",
                },
              },
            ],
            "removeType": "OBJECT_FOREIGN_SERVER",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 854 1`] = `
[
  "                        -- ERROR
REVOKE ALL ON FOREIGN DATA WRAPPER postgresql FROM regress_unprivileged_role",
  {
    "stmts": [
      {
        "stmt": {
          "GrantStmt": {
            "behavior": "DROP_RESTRICT",
            "grantees": [
              {
                "RoleSpec": {
                  "location": 84,
                  "rolename": "regress_unprivileged_role",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
            "objects": [
              {
                "String": {
                  "sval": "postgresql",
                },
              },
            ],
            "objtype": "OBJECT_FDW",
            "targtype": "ACL_TARGET_OBJECT",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 861 1`] = `
[
  "DROP ROLE regress_foreign_data_user",
  {
    "stmts": [
      {
        "stmt": {
          "DropRoleStmt": {
            "roles": [
              {
                "RoleSpec": {
                  "location": 10,
                  "rolename": "regress_foreign_data_user",
                  "roletype": "ROLESPEC_CSTRING",
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`foreign_data.sql > line 864 1`] = `
[
  "SELECT fdwname, fdwhandler, fdwvalidator, fdwoptions FROM pg_foreign_data_wrapper",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 58,
                  "relname": "pg_foreign_data_wrapper",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "fdwname",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 16,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "fdwhandler",
                          },
                        },
                      ],
                      "location": 16,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 28,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "fdwvalidator",
                          },
                        },
                      ],
                      "location": 28,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 42,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "fdwoptions",
                          },
                        },
                      ],
                      "location": 42,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;
