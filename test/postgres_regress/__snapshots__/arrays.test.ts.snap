// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`arrays.sql > line 18 1`] = `
[
  "CREATE TABLE array_op_test (
	seqno		int4,
	i			int4[],
	t			text[]
)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 13,
              "relname": "array_op_test",
              "relpersistence": "p",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "seqno",
                  "is_local": true,
                  "location": 30,
                  "typeName": {
                    "location": 37,
                    "names": [
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "i",
                  "is_local": true,
                  "location": 44,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 48,
                    "names": [
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "t",
                  "is_local": true,
                  "location": 57,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 61,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 33 1`] = `
[
  "   VALUES ('{1,2,3,4,5}', '{{{0,0},{1,2}}}', '{}', '{}', '{}', '{}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "valuesLists": [
              {
                "List": {
                  "items": [
                    {
                      "A_Const": {
                        "location": 11,
                        "sval": {
                          "sval": "{1,2,3,4,5}",
                        },
                      },
                    },
                    {
                      "A_Const": {
                        "location": 26,
                        "sval": {
                          "sval": "{{{0,0},{1,2}}}",
                        },
                      },
                    },
                    {
                      "A_Const": {
                        "location": 45,
                        "sval": {
                          "sval": "{}",
                        },
                      },
                    },
                    {
                      "A_Const": {
                        "location": 51,
                        "sval": {
                          "sval": "{}",
                        },
                      },
                    },
                    {
                      "A_Const": {
                        "location": 57,
                        "sval": {
                          "sval": "{}",
                        },
                      },
                    },
                    {
                      "A_Const": {
                        "location": 63,
                        "sval": {
                          "sval": "{}",
                        },
                      },
                    },
                  ],
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 35 1`] = `
[
  "UPDATE arrtest SET e[0] = '1.1'",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "uidx": {
                          "A_Const": {
                            "ival": {},
                            "location": 21,
                          },
                        },
                      },
                    },
                  ],
                  "location": 19,
                  "name": "e",
                  "val": {
                    "A_Const": {
                      "location": 26,
                      "sval": {
                        "sval": "1.1",
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 39 1`] = `
[
  "INSERT INTO arrtest (f)
   VALUES ('{"too long"}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "cols": [
              {
                "ResTarget": {
                  "location": 21,
                  "name": "f",
                },
              },
            ],
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 35,
                            "sval": {
                              "sval": "{"too long"}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 42 1`] = `
[
  "INSERT INTO arrtest (a, b[1:2][1:2], c, d, e, f, g)
   VALUES ('{11,12,23}', '{{3,4},{4,5}}', '{"foobar"}',
           '{{"elt1", "elt2"}}', '{"3.4", "6.7"}',
           '{"abc","abcde"}', '{"abc","abcde"}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "cols": [
              {
                "ResTarget": {
                  "location": 21,
                  "name": "a",
                },
              },
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 26,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 28,
                          },
                        },
                      },
                    },
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 31,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 33,
                          },
                        },
                      },
                    },
                  ],
                  "location": 24,
                  "name": "b",
                },
              },
              {
                "ResTarget": {
                  "location": 37,
                  "name": "c",
                },
              },
              {
                "ResTarget": {
                  "location": 40,
                  "name": "d",
                },
              },
              {
                "ResTarget": {
                  "location": 43,
                  "name": "e",
                },
              },
              {
                "ResTarget": {
                  "location": 46,
                  "name": "f",
                },
              },
              {
                "ResTarget": {
                  "location": 49,
                  "name": "g",
                },
              },
            ],
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 63,
                            "sval": {
                              "sval": "{11,12,23}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 77,
                            "sval": {
                              "sval": "{{3,4},{4,5}}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 94,
                            "sval": {
                              "sval": "{"foobar"}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 119,
                            "sval": {
                              "sval": "{{"elt1", "elt2"}}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 141,
                            "sval": {
                              "sval": "{"3.4", "6.7"}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 170,
                            "sval": {
                              "sval": "{"abc","abcde"}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 189,
                            "sval": {
                              "sval": "{"abc","abcde"}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 47 1`] = `
[
  "INSERT INTO arrtest (a, b[1:2], c, d[1:2])
   VALUES ('{}', '{3,4}', '{foo,bar}', '{bar,foo}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "cols": [
              {
                "ResTarget": {
                  "location": 21,
                  "name": "a",
                },
              },
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 26,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 28,
                          },
                        },
                      },
                    },
                  ],
                  "location": 24,
                  "name": "b",
                },
              },
              {
                "ResTarget": {
                  "location": 32,
                  "name": "c",
                },
              },
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 37,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 39,
                          },
                        },
                      },
                    },
                  ],
                  "location": 35,
                  "name": "d",
                },
              },
            ],
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 54,
                            "sval": {
                              "sval": "{}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 60,
                            "sval": {
                              "sval": "{3,4}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 69,
                            "sval": {
                              "sval": "{foo,bar}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 82,
                            "sval": {
                              "sval": "{bar,foo}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 50 1`] = `
[
  "INSERT INTO arrtest (b[2]) VALUES(now())",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "cols": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 23,
                          },
                        },
                      },
                    },
                  ],
                  "location": 21,
                  "name": "b",
                },
              },
            ],
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "FuncCall": {
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "now",
                                },
                              },
                            ],
                            "location": 34,
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 50 2`] = `
[
  "  -- error, type mismatch

INSERT INTO arrtest (b[1:2]) VALUES(now())",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "cols": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 50,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 52,
                          },
                        },
                      },
                    },
                  ],
                  "location": 48,
                  "name": "b",
                },
              },
            ],
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 39,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "FuncCall": {
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "now",
                                },
                              },
                            ],
                            "location": 63,
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 52 1`] = `
[
  "  -- error, type mismatch

SELECT * FROM arrtest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 41,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 34,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 34,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 56 1`] = `
[
  "SELECT arrtest.a[1],
          arrtest.b[1][1][1],
          arrtest.c[1],
          arrtest.d[1][1],
          arrtest.e[0]
   FROM arrtest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 133,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "arrtest",
                              },
                            },
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 17,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 31,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "arrtest",
                              },
                            },
                            {
                              "String": {
                                "sval": "b",
                              },
                            },
                          ],
                          "location": 31,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 41,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 44,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 47,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 61,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "arrtest",
                              },
                            },
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 61,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 71,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 85,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "arrtest",
                              },
                            },
                            {
                              "String": {
                                "sval": "d",
                              },
                            },
                          ],
                          "location": 85,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 95,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 98,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 112,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "arrtest",
                              },
                            },
                            {
                              "String": {
                                "sval": "e",
                              },
                            },
                          ],
                          "location": 112,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {},
                                "location": 122,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 63 1`] = `
[
  "SELECT a[1], b[1][1][1], c[1], d[1][1], e[0]
   FROM arrtest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 53,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 9,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 13,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "b",
                              },
                            },
                          ],
                          "location": 13,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 15,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 18,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 21,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 25,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 25,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 27,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 31,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "d",
                              },
                            },
                          ],
                          "location": 31,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 33,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 36,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 40,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "e",
                              },
                            },
                          ],
                          "location": 40,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {},
                                "location": 42,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 66 1`] = `
[
  "SELECT a[1:3],
          b[1:1][1:2][1:2],
          c[1:2],
          d[1:1][1:2]
   FROM arrtest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 91,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 9,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 3,
                                },
                                "location": 11,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 25,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "b",
                              },
                            },
                          ],
                          "location": 25,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 27,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 29,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 32,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 34,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 37,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 39,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 53,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 53,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 55,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 57,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 71,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "d",
                              },
                            },
                          ],
                          "location": 71,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 73,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 75,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 78,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 80,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 72 1`] = `
[
  "SELECT array_ndims(a) AS a,array_ndims(b) AS b,array_ndims(c) AS c
   FROM arrtest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 75,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "a",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "a",
                                },
                              },
                            ],
                            "location": 19,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_ndims",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 27,
                  "name": "b",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "b",
                                },
                              },
                            ],
                            "location": 39,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_ndims",
                          },
                        },
                      ],
                      "location": 27,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 47,
                  "name": "c",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "c",
                                },
                              },
                            ],
                            "location": 59,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_ndims",
                          },
                        },
                      ],
                      "location": 47,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 75 1`] = `
[
  "SELECT array_dims(a) AS a,array_dims(b) AS b,array_dims(c) AS c
   FROM arrtest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 72,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "a",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "a",
                                },
                              },
                            ],
                            "location": 18,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_dims",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 26,
                  "name": "b",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "b",
                                },
                              },
                            ],
                            "location": 37,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_dims",
                          },
                        },
                      ],
                      "location": 26,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 45,
                  "name": "c",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "c",
                                },
                              },
                            ],
                            "location": 56,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_dims",
                          },
                        },
                      ],
                      "location": 45,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 79 1`] = `
[
  "SELECT *
   FROM arrtest
   WHERE a[1] < 5 and
         c = '{"foobar"}'::_name",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 17,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "a",
                                  },
                                },
                              ],
                              "location": 34,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 1,
                                    },
                                    "location": 36,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                      "location": 39,
                      "name": [
                        {
                          "String": {
                            "sval": "<",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 5,
                          },
                          "location": 41,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 56,
                        },
                      },
                      "location": 58,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 60,
                              "sval": {
                                "sval": "{"foobar"}",
                              },
                            },
                          },
                          "location": 72,
                          "typeName": {
                            "location": 74,
                            "names": [
                              {
                                "String": {
                                  "sval": "_name",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 43,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 84 1`] = `
[
  "UPDATE arrtest
  SET a[1:2] = '{16,25}'
  WHERE NOT a = '{}'::_int2",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 23,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 25,
                          },
                        },
                      },
                    },
                  ],
                  "location": 21,
                  "name": "a",
                  "val": {
                    "A_Const": {
                      "location": 30,
                      "sval": {
                        "sval": "{16,25}",
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                          ],
                          "location": 52,
                        },
                      },
                      "location": 54,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 56,
                              "sval": {
                                "sval": "{}",
                              },
                            },
                          },
                          "location": 60,
                          "typeName": {
                            "location": 62,
                            "names": [
                              {
                                "String": {
                                  "sval": "_int2",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "NOT_EXPR",
                "location": 48,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 88 1`] = `
[
  "UPDATE arrtest
  SET b[1:1][1:1][1:2] = '{113, 117}',
      b[1:1][1:2][2:2] = '{142, 147}'
  WHERE array_dims(b) = '[1:1][1:2][1:2]'",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 23,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 25,
                          },
                        },
                      },
                    },
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 28,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 30,
                          },
                        },
                      },
                    },
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 33,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 35,
                          },
                        },
                      },
                    },
                  ],
                  "location": 21,
                  "name": "b",
                  "val": {
                    "A_Const": {
                      "location": 40,
                      "sval": {
                        "sval": "{113, 117}",
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 62,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 64,
                          },
                        },
                      },
                    },
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 67,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 69,
                          },
                        },
                      },
                    },
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 72,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 74,
                          },
                        },
                      },
                    },
                  ],
                  "location": 60,
                  "name": "b",
                  "val": {
                    "A_Const": {
                      "location": 79,
                      "sval": {
                        "sval": "{142, 147}",
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "FuncCall": {
                    "args": [
                      {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "b",
                              },
                            },
                          ],
                          "location": 111,
                        },
                      },
                    ],
                    "funcformat": "COERCE_EXPLICIT_CALL",
                    "funcname": [
                      {
                        "String": {
                          "sval": "array_dims",
                        },
                      },
                    ],
                    "location": 100,
                  },
                },
                "location": 114,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 116,
                    "sval": {
                      "sval": "[1:1][1:2][1:2]",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 93 1`] = `
[
  "UPDATE arrtest
  SET c[2:2] = '{"new_word"}'
  WHERE array_dims(c) is not null",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "lidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 23,
                          },
                        },
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 25,
                          },
                        },
                      },
                    },
                  ],
                  "location": 21,
                  "name": "c",
                  "val": {
                    "A_Const": {
                      "location": 30,
                      "sval": {
                        "sval": "{"new_word"}",
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "NullTest": {
                "arg": {
                  "FuncCall": {
                    "args": [
                      {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 64,
                        },
                      },
                    ],
                    "funcformat": "COERCE_EXPLICIT_CALL",
                    "funcname": [
                      {
                        "String": {
                          "sval": "array_dims",
                        },
                      },
                    ],
                    "location": 53,
                  },
                },
                "location": 67,
                "nulltesttype": "IS_NOT_NULL",
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 97 1`] = `
[
  "SELECT a,b,c FROM arrtest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 18,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "a",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 9,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "b",
                          },
                        },
                      ],
                      "location": 9,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 11,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "c",
                          },
                        },
                      ],
                      "location": 11,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 105 1`] = `
[
  "SELECT b[1:1][2][2],
       d[1:1][2]
   FROM arrtest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 46,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "b",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 9,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 11,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 14,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 17,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 28,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "d",
                              },
                            },
                          ],
                          "location": 28,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 30,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 32,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 35,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 109 1`] = `
[
  "INSERT INTO arrtest(a) VALUES('{1,null,3}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "cols": [
              {
                "ResTarget": {
                  "location": 20,
                  "name": "a",
                },
              },
            ],
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 30,
                            "sval": {
                              "sval": "{1,null,3}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 117 1`] = `
[
  "SELECT pg_input_is_valid('{1,2,3}', 'integer[]')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 25,
                            "sval": {
                              "sval": "{1,2,3}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 36,
                            "sval": {
                              "sval": "integer[]",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "pg_input_is_valid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 123 1`] = `
[
  "select '{{1,2,3},{4,5,6},{7,8,9}}'::int[]",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Const": {
                          "location": 7,
                          "sval": {
                            "sval": "{{1,2,3},{4,5,6},{7,8,9}}",
                          },
                        },
                      },
                      "location": 34,
                      "typeName": {
                        "arrayBounds": [
                          {
                            "Integer": {},
                          },
                        ],
                        "location": 36,
                        "names": [
                          {
                            "String": {
                              "sval": "pg_catalog",
                            },
                          },
                          {
                            "String": {
                              "sval": "int4",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 132 1`] = `
[
  "SELECT ('{}'::int[])[1][2][3][4][5][6][7]",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 8,
                              "sval": {
                                "sval": "{}",
                              },
                            },
                          },
                          "location": 12,
                          "typeName": {
                            "arrayBounds": [
                              {
                                "Integer": {},
                              },
                            ],
                            "location": 14,
                            "names": [
                              {
                                "String": {
                                  "sval": "pg_catalog",
                                },
                              },
                              {
                                "String": {
                                  "sval": "int4",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 21,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 24,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 3,
                                },
                                "location": 27,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 4,
                                },
                                "location": 30,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 5,
                                },
                                "location": 33,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 6,
                                },
                                "location": 36,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 7,
                                },
                                "location": 39,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 134 1`] = `
[
  "SELECT ('{{{1},{2},{3}},{{4},{5},{6}}}'::int[])[1][NULL][1]",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 8,
                              "sval": {
                                "sval": "{{{1},{2},{3}},{{4},{5},{6}}}",
                              },
                            },
                          },
                          "location": 39,
                          "typeName": {
                            "arrayBounds": [
                              {
                                "Integer": {},
                              },
                            ],
                            "location": 41,
                            "names": [
                              {
                                "String": {
                                  "sval": "pg_catalog",
                                },
                              },
                              {
                                "String": {
                                  "sval": "int4",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 48,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "isnull": true,
                                "location": 51,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 57,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 138 1`] = `
[
  "UPDATE arrtest
  SET c[NULL] = '{"can''t assign"}'
  WHERE array_dims(c) is not null",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "arrtest",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "uidx": {
                          "A_Const": {
                            "isnull": true,
                            "location": 23,
                          },
                        },
                      },
                    },
                  ],
                  "location": 21,
                  "name": "c",
                  "val": {
                    "A_Const": {
                      "location": 31,
                      "sval": {
                        "sval": "{"can't assign"}",
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "NullTest": {
                "arg": {
                  "FuncCall": {
                    "args": [
                      {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 70,
                        },
                      },
                    ],
                    "funcformat": "COERCE_EXPLICIT_CALL",
                    "funcname": [
                      {
                        "String": {
                          "sval": "array_dims",
                        },
                      },
                    ],
                    "location": 59,
                  },
                },
                "location": 73,
                "nulltesttype": "IS_NOT_NULL",
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 148 1`] = `
[
  "SELECT (now())[1]",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "FuncCall": {
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "now",
                              },
                            },
                          ],
                          "location": 8,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 15,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 151 1`] = `
[
  "CREATE TEMP TABLE arrtest_s (
  a       int2[],
  b       int2[][]
)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "arrtest_s",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "a",
                  "is_local": true,
                  "location": 32,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 40,
                    "names": [
                      {
                        "String": {
                          "sval": "int2",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "b",
                  "is_local": true,
                  "location": 50,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 58,
                    "names": [
                      {
                        "String": {
                          "sval": "int2",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 158 1`] = `
[
  "SELECT * FROM arrtest_s",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 14,
                  "relname": "arrtest_s",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 164 1`] = `
[
  "UPDATE arrtest_s SET a[:3] = '{11, 12, 13}', b[:2][:2] = '{{11,12}, {14,15}}'
  WHERE array_lower(a,1) = 1",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "arrtest_s",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 3,
                            },
                            "location": 24,
                          },
                        },
                      },
                    },
                  ],
                  "location": 21,
                  "name": "a",
                  "val": {
                    "A_Const": {
                      "location": 29,
                      "sval": {
                        "sval": "{11, 12, 13}",
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 48,
                          },
                        },
                      },
                    },
                    {
                      "A_Indices": {
                        "is_slice": true,
                        "uidx": {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 52,
                          },
                        },
                      },
                    },
                  ],
                  "location": 45,
                  "name": "b",
                  "val": {
                    "A_Const": {
                      "location": 57,
                      "sval": {
                        "sval": "{{11,12}, {14,15}}",
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "FuncCall": {
                    "args": [
                      {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                          ],
                          "location": 98,
                        },
                      },
                      {
                        "A_Const": {
                          "ival": {
                            "ival": 1,
                          },
                          "location": 100,
                        },
                      },
                    ],
                    "funcformat": "COERCE_EXPLICIT_CALL",
                    "funcname": [
                      {
                        "String": {
                          "sval": "array_lower",
                        },
                      },
                    ],
                    "location": 86,
                  },
                },
                "location": 103,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "ival": {
                      "ival": 1,
                    },
                    "location": 105,
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 171 1`] = `
[
  "  -- fail, too small
INSERT INTO arrtest_s VALUES(NULL, NULL)",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 33,
              "relname": "arrtest_s",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "isnull": true,
                            "location": 50,
                          },
                        },
                        {
                          "A_Const": {
                            "isnull": true,
                            "location": 56,
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 173 1`] = `
[
  "  -- fail, no good with null

-- we want to work with a point_tbl that includes a null
CREATE TEMP TABLE point_tbl AS SELECT * FROM public.point_tbl",
  {
    "stmts": [
      {
        "stmt": {
          "CreateTableAsStmt": {
            "into": {
              "onCommit": "ONCOMMIT_NOOP",
              "rel": {
                "inh": true,
                "location": 105,
                "relname": "point_tbl",
                "relpersistence": "t",
              },
            },
            "objtype": "OBJECT_TABLE",
            "query": {
              "SelectStmt": {
                "fromClause": [
                  {
                    "RangeVar": {
                      "inh": true,
                      "location": 132,
                      "relname": "point_tbl",
                      "relpersistence": "p",
                      "schemaname": "public",
                    },
                  },
                ],
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "targetList": [
                  {
                    "ResTarget": {
                      "location": 125,
                      "val": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "A_Star": {},
                            },
                          ],
                          "location": 125,
                        },
                      },
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 180 1`] = `
[
  "SELECT f1[0:1] FROM POINT_TBL",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 20,
                  "relname": "point_tbl",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "f1",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "ival": {},
                                "location": 10,
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 12,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 186 1`] = `
[
  "UPDATE point_tbl SET f1[0] = 10 WHERE f1 IS NULL RETURNING *",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "point_tbl",
              "relpersistence": "p",
            },
            "returningList": [
              {
                "ResTarget": {
                  "location": 59,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 59,
                    },
                  },
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "uidx": {
                          "A_Const": {
                            "ival": {},
                            "location": 24,
                          },
                        },
                      },
                    },
                  ],
                  "location": 21,
                  "name": "f1",
                  "val": {
                    "A_Const": {
                      "ival": {
                        "ival": 10,
                      },
                      "location": 29,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "NullTest": {
                "arg": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "f1",
                        },
                      },
                    ],
                    "location": 38,
                  },
                },
                "location": 41,
                "nulltesttype": "IS_NULL",
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 189 1`] = `
[
  "UPDATE point_tbl SET f1[0] = NULL WHERE f1::text = '(10,10)'::point::text RETURNING *",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "point_tbl",
              "relpersistence": "p",
            },
            "returningList": [
              {
                "ResTarget": {
                  "location": 84,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 84,
                    },
                  },
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "uidx": {
                          "A_Const": {
                            "ival": {},
                            "location": 24,
                          },
                        },
                      },
                    },
                  ],
                  "location": 21,
                  "name": "f1",
                  "val": {
                    "A_Const": {
                      "isnull": true,
                      "location": 29,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "TypeCast": {
                    "arg": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "f1",
                            },
                          },
                        ],
                        "location": 40,
                      },
                    },
                    "location": 42,
                    "typeName": {
                      "location": 44,
                      "names": [
                        {
                          "String": {
                            "sval": "text",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
                "location": 49,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "TypeCast": {
                    "arg": {
                      "TypeCast": {
                        "arg": {
                          "A_Const": {
                            "location": 51,
                            "sval": {
                              "sval": "(10,10)",
                            },
                          },
                        },
                        "location": 60,
                        "typeName": {
                          "location": 62,
                          "names": [
                            {
                              "String": {
                                "sval": "point",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    "location": 67,
                    "typeName": {
                      "location": 69,
                      "names": [
                        {
                          "String": {
                            "sval": "text",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 198 1`] = `
[
  "CREATE TEMP TABLE arrtest1 (i int[], t text[])",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "arrtest1",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "i",
                  "is_local": true,
                  "location": 28,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 30,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "t",
                  "is_local": true,
                  "location": 37,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 39,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 236 1`] = `
[
  "CREATE TEMP TABLE arrtest2 (i integer ARRAY[4], f float8[], n numeric[], t text[], d timestamp[])",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "arrtest2",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "i",
                  "is_local": true,
                  "location": 28,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {
                          "ival": 4,
                        },
                      },
                    ],
                    "location": 30,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "f",
                  "is_local": true,
                  "location": 48,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 50,
                    "names": [
                      {
                        "String": {
                          "sval": "float8",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "n",
                  "is_local": true,
                  "location": 60,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 62,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "numeric",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "t",
                  "is_local": true,
                  "location": 73,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 75,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "d",
                  "is_local": true,
                  "location": 83,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 85,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "timestamp",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 246 1`] = `
[
  "CREATE TEMP TABLE arrtest_f (f0 int, f1 text, f2 float8)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "arrtest_f",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "f0",
                  "is_local": true,
                  "location": 29,
                  "typeName": {
                    "location": 32,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "f1",
                  "is_local": true,
                  "location": 37,
                  "typeName": {
                    "location": 40,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "f2",
                  "is_local": true,
                  "location": 46,
                  "typeName": {
                    "location": 49,
                    "names": [
                      {
                        "String": {
                          "sval": "float8",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 257 1`] = `
[
  "CREATE TEMP TABLE arrtest_i (f0 int, f1 text, f2 int)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "arrtest_i",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "f0",
                  "is_local": true,
                  "location": 29,
                  "typeName": {
                    "location": 32,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "f1",
                  "is_local": true,
                  "location": 37,
                  "typeName": {
                    "location": 40,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "f2",
                  "is_local": true,
                  "location": 46,
                  "typeName": {
                    "location": 49,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 269 1`] = `
[
  "SELECT t.f[1][3][1] AS "131", t.f[2][2][1] AS "221" FROM (
  SELECT ARRAY[[[111,112],[121,122],[131,132]],[[211,212],[221,122],[231,232]]] AS f
) AS t",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "t",
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "targetList": [
                        {
                          "ResTarget": {
                            "location": 68,
                            "name": "f",
                            "val": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_ArrayExpr": {
                                      "elements": [
                                        {
                                          "A_ArrayExpr": {
                                            "elements": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 111,
                                                  },
                                                  "location": 76,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 112,
                                                  },
                                                  "location": 80,
                                                },
                                              },
                                            ],
                                            "location": 75,
                                          },
                                        },
                                        {
                                          "A_ArrayExpr": {
                                            "elements": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 121,
                                                  },
                                                  "location": 86,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 122,
                                                  },
                                                  "location": 90,
                                                },
                                              },
                                            ],
                                            "location": 85,
                                          },
                                        },
                                        {
                                          "A_ArrayExpr": {
                                            "elements": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 131,
                                                  },
                                                  "location": 96,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 132,
                                                  },
                                                  "location": 100,
                                                },
                                              },
                                            ],
                                            "location": 95,
                                          },
                                        },
                                      ],
                                      "location": 74,
                                    },
                                  },
                                  {
                                    "A_ArrayExpr": {
                                      "elements": [
                                        {
                                          "A_ArrayExpr": {
                                            "elements": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 211,
                                                  },
                                                  "location": 108,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 212,
                                                  },
                                                  "location": 112,
                                                },
                                              },
                                            ],
                                            "location": 107,
                                          },
                                        },
                                        {
                                          "A_ArrayExpr": {
                                            "elements": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 221,
                                                  },
                                                  "location": 118,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 122,
                                                  },
                                                  "location": 122,
                                                },
                                              },
                                            ],
                                            "location": 117,
                                          },
                                        },
                                        {
                                          "A_ArrayExpr": {
                                            "elements": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 231,
                                                  },
                                                  "location": 128,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 232,
                                                  },
                                                  "location": 132,
                                                },
                                              },
                                            ],
                                            "location": 127,
                                          },
                                        },
                                      ],
                                      "location": 106,
                                    },
                                  },
                                ],
                                "location": 68,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "131",
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "t",
                              },
                            },
                            {
                              "String": {
                                "sval": "f",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 11,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 3,
                                },
                                "location": 14,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 17,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 30,
                  "name": "221",
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "t",
                              },
                            },
                            {
                              "String": {
                                "sval": "f",
                              },
                            },
                          ],
                          "location": 30,
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 34,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 37,
                              },
                            },
                          },
                        },
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 40,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 281 1`] = `
[
  "SELECT array_append(array[42], 6) AS "{42,6}"",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "{42,6}",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 42,
                                  },
                                  "location": 26,
                                },
                              },
                            ],
                            "location": 20,
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 6,
                            },
                            "location": 31,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_append",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 287 1`] = `
[
  "SELECT array_position(ARRAY[1,2,3,4,5], 4)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 28,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 2,
                                  },
                                  "location": 30,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 32,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 4,
                                  },
                                  "location": 34,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 5,
                                  },
                                  "location": 36,
                                },
                              },
                            ],
                            "location": 22,
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 4,
                            },
                            "location": 40,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_position",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 296 1`] = `
[
  "SELECT array_positions(NULL, 10)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "isnull": true,
                            "location": 23,
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 10,
                            },
                            "location": 29,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_positions",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 306 1`] = `
[
  "DO $$
DECLARE
  o int;
  a int[] := ARRAY[1,2,3,2,3,1,2];
BEGIN
  o := array_position(a, 2);
  WHILE o IS NOT NULL
  LOOP
    RAISE NOTICE '%', o;
    o := array_position(a, 2, o + 1);
  END LOOP;
END
$$ LANGUAGE plpgsql",
  {
    "stmts": [
      {
        "stmt": {
          "DoStmt": {
            "args": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "
DECLARE
  o int;
  a int[] := ARRAY[1,2,3,2,3,1,2];
BEGIN
  o := array_position(a, 2);
  WHILE o IS NOT NULL
  LOOP
    RAISE NOTICE '%', o;
    o := array_position(a, 2, o + 1);
  END LOOP;
END
",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "as",
                  "location": 3,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "plpgsql",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "language",
                  "location": 204,
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 320 1`] = `
[
  "SELECT array_position('[2:4]={1,2,3}'::int[], 1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 22,
                                "sval": {
                                  "sval": "[2:4]={1,2,3}",
                                },
                              },
                            },
                            "location": 37,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 39,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "int4",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 46,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_position",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 323 1`] = `
[
  "SELECT
    array_position(ids, (1, 1)),
    array_positions(ids, (1, 1))
        FROM
(VALUES
    (ARRAY[(0, 0), (1, 1)]),
    (ARRAY[(1, 1)])
) AS f (ids)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "f",
                    "colnames": [
                      {
                        "String": {
                          "sval": "ids",
                        },
                      },
                    ],
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "valuesLists": [
                        {
                          "List": {
                            "items": [
                              {
                                "A_ArrayExpr": {
                                  "elements": [
                                    {
                                      "RowExpr": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "ival": {},
                                              "location": 106,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "ival": {},
                                              "location": 109,
                                            },
                                          },
                                        ],
                                        "location": 105,
                                        "row_format": "COERCE_IMPLICIT_CAST",
                                      },
                                    },
                                    {
                                      "RowExpr": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 1,
                                              },
                                              "location": 114,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 1,
                                              },
                                              "location": 117,
                                            },
                                          },
                                        ],
                                        "location": 113,
                                        "row_format": "COERCE_IMPLICIT_CAST",
                                      },
                                    },
                                  ],
                                  "location": 99,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_ArrayExpr": {
                                  "elements": [
                                    {
                                      "RowExpr": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 1,
                                              },
                                              "location": 135,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 1,
                                              },
                                              "location": 138,
                                            },
                                          },
                                        ],
                                        "location": 134,
                                        "row_format": "COERCE_IMPLICIT_CAST",
                                      },
                                    },
                                  ],
                                  "location": 128,
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 11,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "ids",
                                },
                              },
                            ],
                            "location": 26,
                          },
                        },
                        {
                          "RowExpr": {
                            "args": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 32,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 35,
                                },
                              },
                            ],
                            "location": 31,
                            "row_format": "COERCE_IMPLICIT_CAST",
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_position",
                          },
                        },
                      ],
                      "location": 11,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 44,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "ids",
                                },
                              },
                            ],
                            "location": 60,
                          },
                        },
                        {
                          "RowExpr": {
                            "args": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 66,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 69,
                                },
                              },
                            ],
                            "location": 65,
                            "row_format": "COERCE_IMPLICIT_CAST",
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_positions",
                          },
                        },
                      ],
                      "location": 44,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 333 1`] = `
[
  "SELECT a FROM arrtest WHERE b = ARRAY[[[113,142],[1,147]]]",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 14,
                  "relname": "arrtest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "a",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "b",
                        },
                      },
                    ],
                    "location": 28,
                  },
                },
                "location": 30,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_ArrayExpr": {
                    "elements": [
                      {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 113,
                                      },
                                      "location": 40,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 142,
                                      },
                                      "location": 44,
                                    },
                                  },
                                ],
                                "location": 39,
                              },
                            },
                            {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 1,
                                      },
                                      "location": 50,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 147,
                                      },
                                      "location": 52,
                                    },
                                  },
                                ],
                                "location": 49,
                              },
                            },
                          ],
                          "location": 38,
                        },
                      },
                    ],
                    "location": 32,
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 346 1`] = `
[
  "SELECT * FROM array_op_test WHERE i @> '{32}' ORDER BY seqno",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 14,
                  "relname": "array_op_test",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "seqno",
                          },
                        },
                      ],
                      "location": 55,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "i",
                        },
                      },
                    ],
                    "location": 34,
                  },
                },
                "location": 36,
                "name": [
                  {
                    "String": {
                      "sval": "@>",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 39,
                    "sval": {
                      "sval": "{32}",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 362 1`] = `
[
  "SELECT * FROM array_op_test WHERE t @> '{AAAAAAAA72908}' ORDER BY seqno",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 14,
                  "relname": "array_op_test",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "seqno",
                          },
                        },
                      ],
                      "location": 66,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "t",
                        },
                      },
                    ],
                    "location": 34,
                  },
                },
                "location": 36,
                "name": [
                  {
                    "String": {
                      "sval": "@>",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 39,
                    "sval": {
                      "sval": "{AAAAAAAA72908}",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 375 1`] = `
[
  "SELECT ARRAY[1,2,3]::text[]::int[]::float8[] AS "{1,2,3}"",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "{1,2,3}",
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "TypeCast": {
                          "arg": {
                            "TypeCast": {
                              "arg": {
                                "A_ArrayExpr": {
                                  "elements": [
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 1,
                                        },
                                        "location": 13,
                                      },
                                    },
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 2,
                                        },
                                        "location": 15,
                                      },
                                    },
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 3,
                                        },
                                        "location": 17,
                                      },
                                    },
                                  ],
                                  "location": 7,
                                },
                              },
                              "location": 19,
                              "typeName": {
                                "arrayBounds": [
                                  {
                                    "Integer": {},
                                  },
                                ],
                                "location": 21,
                                "names": [
                                  {
                                    "String": {
                                      "sval": "text",
                                    },
                                  },
                                ],
                                "typemod": -1,
                              },
                            },
                          },
                          "location": 27,
                          "typeName": {
                            "arrayBounds": [
                              {
                                "Integer": {},
                              },
                            ],
                            "location": 29,
                            "names": [
                              {
                                "String": {
                                  "sval": "pg_catalog",
                                },
                              },
                              {
                                "String": {
                                  "sval": "int4",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 34,
                      "typeName": {
                        "arrayBounds": [
                          {
                            "Integer": {},
                          },
                        ],
                        "location": 36,
                        "names": [
                          {
                            "String": {
                              "sval": "float8",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 383 1`] = `
[
  "select 33 = any ('{1,2,3}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ANY",
                      "lexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 33,
                          },
                          "location": 7,
                        },
                      },
                      "location": 10,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 17,
                          "sval": {
                            "sval": "{1,2,3}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 388 1`] = `
[
  "select null::int >= all ('{1,2,33}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ALL",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "isnull": true,
                              "location": 7,
                            },
                          },
                          "location": 11,
                          "typeName": {
                            "location": 13,
                            "names": [
                              {
                                "String": {
                                  "sval": "pg_catalog",
                                },
                              },
                              {
                                "String": {
                                  "sval": "int4",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 17,
                      "name": [
                        {
                          "String": {
                            "sval": ">=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 25,
                          "sval": {
                            "sval": "{1,2,33}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 392 1`] = `
[
  "select 33.4 = any (array[1,2,3])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ANY",
                      "lexpr": {
                        "A_Const": {
                          "fval": {
                            "fval": "33.4",
                          },
                          "location": 7,
                        },
                      },
                      "location": 12,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 25,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 27,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 3,
                                },
                                "location": 29,
                              },
                            },
                          ],
                          "location": 19,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 395 1`] = `
[
  "select 33 * any ('{1,2,3}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ANY",
                      "lexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 33,
                          },
                          "location": 7,
                        },
                      },
                      "location": 10,
                      "name": [
                        {
                          "String": {
                            "sval": "*",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 17,
                          "sval": {
                            "sval": "{1,2,3}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 407 1`] = `
[
  "SELECT -1 != ALL(ARRAY(SELECT NULLIF(g.i, 900) FROM generate_series(1,1000) g(i)))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ALL",
                      "lexpr": {
                        "A_Const": {
                          "ival": {},
                          "location": 7,
                        },
                      },
                      "location": 10,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "SubLink": {
                          "location": 17,
                          "subLinkType": "ARRAY_SUBLINK",
                          "subselect": {
                            "SelectStmt": {
                              "fromClause": [
                                {
                                  "RangeFunction": {
                                    "alias": {
                                      "aliasname": "g",
                                      "colnames": [
                                        {
                                          "String": {
                                            "sval": "i",
                                          },
                                        },
                                      ],
                                    },
                                    "functions": [
                                      {
                                        "List": {
                                          "items": [
                                            {
                                              "FuncCall": {
                                                "args": [
                                                  {
                                                    "A_Const": {
                                                      "ival": {
                                                        "ival": 1,
                                                      },
                                                      "location": 68,
                                                    },
                                                  },
                                                  {
                                                    "A_Const": {
                                                      "ival": {
                                                        "ival": 1000,
                                                      },
                                                      "location": 70,
                                                    },
                                                  },
                                                ],
                                                "funcformat": "COERCE_EXPLICIT_CALL",
                                                "funcname": [
                                                  {
                                                    "String": {
                                                      "sval": "generate_series",
                                                    },
                                                  },
                                                ],
                                                "location": 52,
                                              },
                                            },
                                            {},
                                          ],
                                        },
                                      },
                                    ],
                                  },
                                },
                              ],
                              "limitOption": "LIMIT_OPTION_DEFAULT",
                              "op": "SETOP_NONE",
                              "targetList": [
                                {
                                  "ResTarget": {
                                    "location": 30,
                                    "val": {
                                      "A_Expr": {
                                        "kind": "AEXPR_NULLIF",
                                        "lexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "g",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "i",
                                                },
                                              },
                                            ],
                                            "location": 37,
                                          },
                                        },
                                        "location": 30,
                                        "name": [
                                          {
                                            "String": {
                                              "sval": "=",
                                            },
                                          },
                                        ],
                                        "rexpr": {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 900,
                                            },
                                            "location": 42,
                                          },
                                        },
                                      },
                                    },
                                  },
                                },
                              ],
                            },
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 410 1`] = `
[
  "create temp table arr_tbl (f1 int[] unique)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "arr_tbl",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "f1",
                  "constraints": [
                    {
                      "Constraint": {
                        "contype": "CONSTR_UNIQUE",
                        "location": 36,
                      },
                    },
                  ],
                  "is_local": true,
                  "location": 27,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 30,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 414 1`] = `
[
  "insert into arr_tbl values ('{1,2,3}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "arr_tbl",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 28,
                            "sval": {
                              "sval": "{1,2,3}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 419 1`] = `
[
  "set enable_seqscan to off",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "args": [
              {
                "A_Const": {
                  "location": 22,
                  "sval": {
                    "sval": "off",
                  },
                },
              },
            ],
            "kind": "VAR_SET_VALUE",
            "name": "enable_seqscan",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 425 1`] = `
[
  "create temp table arr_pk_tbl (pk int4 primary key, f1 int[])",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "arr_pk_tbl",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "pk",
                  "constraints": [
                    {
                      "Constraint": {
                        "contype": "CONSTR_PRIMARY",
                        "location": 38,
                      },
                    },
                  ],
                  "is_local": true,
                  "location": 30,
                  "typeName": {
                    "location": 33,
                    "names": [
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "f1",
                  "is_local": true,
                  "location": 51,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 54,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 438 1`] = `
[
  "reset enable_seqscan",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "kind": "VAR_RESET",
            "name": "enable_seqscan",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 461 1`] = `
[
  " -- t
select 'foo' like any (array['%a', '%b'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 13,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ANY",
                      "lexpr": {
                        "A_Const": {
                          "location": 13,
                          "sval": {
                            "sval": "foo",
                          },
                        },
                      },
                      "location": 19,
                      "name": [
                        {
                          "String": {
                            "sval": "~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 35,
                                "sval": {
                                  "sval": "%a",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 41,
                                "sval": {
                                  "sval": "%b",
                                },
                              },
                            },
                          ],
                          "location": 29,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 462 1`] = `
[
  " -- f
select 'foo' like all (array['f%', '%o'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 13,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ALL",
                      "lexpr": {
                        "A_Const": {
                          "location": 13,
                          "sval": {
                            "sval": "foo",
                          },
                        },
                      },
                      "location": 19,
                      "name": [
                        {
                          "String": {
                            "sval": "~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 35,
                                "sval": {
                                  "sval": "f%",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 41,
                                "sval": {
                                  "sval": "%o",
                                },
                              },
                            },
                          ],
                          "location": 29,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 464 1`] = `
[
  " -- f
select 'foo' not like any (array['%a', '%b'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 13,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ANY",
                      "lexpr": {
                        "A_Const": {
                          "location": 13,
                          "sval": {
                            "sval": "foo",
                          },
                        },
                      },
                      "location": 19,
                      "name": [
                        {
                          "String": {
                            "sval": "!~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 39,
                                "sval": {
                                  "sval": "%a",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 45,
                                "sval": {
                                  "sval": "%b",
                                },
                              },
                            },
                          ],
                          "location": 33,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 465 1`] = `
[
  " -- t
select 'foo' not like all (array['%a', '%o'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 13,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ALL",
                      "lexpr": {
                        "A_Const": {
                          "location": 13,
                          "sval": {
                            "sval": "foo",
                          },
                        },
                      },
                      "location": 19,
                      "name": [
                        {
                          "String": {
                            "sval": "!~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 39,
                                "sval": {
                                  "sval": "%a",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 45,
                                "sval": {
                                  "sval": "%o",
                                },
                              },
                            },
                          ],
                          "location": 33,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 466 1`] = `
[
  " -- f
select 'foo' ilike any (array['%A', '%O'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 13,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ANY",
                      "lexpr": {
                        "A_Const": {
                          "location": 13,
                          "sval": {
                            "sval": "foo",
                          },
                        },
                      },
                      "location": 19,
                      "name": [
                        {
                          "String": {
                            "sval": "~~*",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 36,
                                "sval": {
                                  "sval": "%A",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 42,
                                "sval": {
                                  "sval": "%O",
                                },
                              },
                            },
                          ],
                          "location": 30,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 467 1`] = `
[
  " -- t
select 'foo' ilike all (array['F%', '%O'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 13,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP_ALL",
                      "lexpr": {
                        "A_Const": {
                          "location": 13,
                          "sval": {
                            "sval": "foo",
                          },
                        },
                      },
                      "location": 19,
                      "name": [
                        {
                          "String": {
                            "sval": "~~*",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 36,
                                "sval": {
                                  "sval": "F%",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 42,
                                "sval": {
                                  "sval": "%O",
                                },
                              },
                            },
                          ],
                          "location": 30,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 499 1`] = `
[
  "CREATE TEMP TABLE arraggtest ( f1 INT[], f2 TEXT[][], f3 FLOAT[])",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "arraggtest",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "f1",
                  "is_local": true,
                  "location": 31,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 34,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "f2",
                  "is_local": true,
                  "location": 41,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 44,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "f3",
                  "is_local": true,
                  "location": 54,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 57,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "float8",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 501 1`] = `
[
  "INSERT INTO arraggtest (f1, f2, f3) VALUES
('{1,2,3,4}','{{grey,red},{blue,blue}}','{1.6, 0.0}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "cols": [
              {
                "ResTarget": {
                  "location": 24,
                  "name": "f1",
                },
              },
              {
                "ResTarget": {
                  "location": 28,
                  "name": "f2",
                },
              },
              {
                "ResTarget": {
                  "location": 32,
                  "name": "f3",
                },
              },
            ],
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "arraggtest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 44,
                            "sval": {
                              "sval": "{1,2,3,4}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 56,
                            "sval": {
                              "sval": "{{grey,red},{blue,blue}}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 83,
                            "sval": {
                              "sval": "{1.6, 0.0}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 527 1`] = `
[
  "create table comptable (c1 comptype, c2 comptype[])",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 13,
              "relname": "comptable",
              "relpersistence": "p",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "c1",
                  "is_local": true,
                  "location": 24,
                  "typeName": {
                    "location": 27,
                    "names": [
                      {
                        "String": {
                          "sval": "comptype",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c2",
                  "is_local": true,
                  "location": 37,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 40,
                    "names": [
                      {
                        "String": {
                          "sval": "comptype",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 530 1`] = `
[
  "insert into comptable
  values (row(1,'foo'), array[row(2,'bar')::comptype, row(3,'baz')::comptype])",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "comptable",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "RowExpr": {
                            "args": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 36,
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 38,
                                  "sval": {
                                    "sval": "foo",
                                  },
                                },
                              },
                            ],
                            "location": 32,
                            "row_format": "COERCE_EXPLICIT_CALL",
                          },
                        },
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "RowExpr": {
                                      "args": [
                                        {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 2,
                                            },
                                            "location": 56,
                                          },
                                        },
                                        {
                                          "A_Const": {
                                            "location": 58,
                                            "sval": {
                                              "sval": "bar",
                                            },
                                          },
                                        },
                                      ],
                                      "location": 52,
                                      "row_format": "COERCE_EXPLICIT_CALL",
                                    },
                                  },
                                  "location": 64,
                                  "typeName": {
                                    "location": 66,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "comptype",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                              {
                                "TypeCast": {
                                  "arg": {
                                    "RowExpr": {
                                      "args": [
                                        {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 3,
                                            },
                                            "location": 80,
                                          },
                                        },
                                        {
                                          "A_Const": {
                                            "location": 82,
                                            "sval": {
                                              "sval": "baz",
                                            },
                                          },
                                        },
                                      ],
                                      "location": 76,
                                      "row_format": "COERCE_EXPLICIT_CALL",
                                    },
                                  },
                                  "location": 88,
                                  "typeName": {
                                    "location": 90,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "comptype",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                            "location": 46,
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 534 1`] = `
[
  "create type _comptype as enum('fooey')",
  {
    "stmts": [
      {
        "stmt": {
          "CreateEnumStmt": {
            "typeName": [
              {
                "String": {
                  "sval": "_comptype",
                },
              },
            ],
            "vals": [
              {
                "String": {
                  "sval": "fooey",
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 536 1`] = `
[
  "select * from comptable",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 14,
                  "relname": "comptable",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 539 1`] = `
[
  "drop type _comptype",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "TypeName": {
                  "location": 10,
                  "names": [
                    {
                      "String": {
                        "sval": "_comptype",
                      },
                    },
                  ],
                  "typemod": -1,
                },
              },
            ],
            "removeType": "OBJECT_TYPE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 543 1`] = `
[
  "create or replace function unnest1(anyarray)
returns setof anyelement as $$
select $1[s] from generate_subscripts($1,1) g(s);
$$ language sql immutable",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFunctionStmt": {
            "funcname": [
              {
                "String": {
                  "sval": "unnest1",
                },
              },
            ],
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "
select $1[s] from generate_subscripts($1,1) g(s);
",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "as",
                  "location": 70,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "sql",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "language",
                  "location": 129,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "immutable",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "volatility",
                  "location": 142,
                },
              },
            ],
            "parameters": [
              {
                "FunctionParameter": {
                  "argType": {
                    "location": 35,
                    "names": [
                      {
                        "String": {
                          "sval": "anyarray",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                  "mode": "FUNC_PARAM_DEFAULT",
                },
              },
            ],
            "replace": true,
            "returnType": {
              "location": 59,
              "names": [
                {
                  "String": {
                    "sval": "anyelement",
                  },
                },
              ],
              "setof": true,
              "typemod": -1,
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 548 1`] = `
[
  "create or replace function unnest2(anyarray)
returns setof anyelement as $$
select $1[s1][s2] from generate_subscripts($1,1) g1(s1),
                   generate_subscripts($1,2) g2(s2);
$$ language sql immutable",
  {
    "stmts": [
      {
        "stmt": {
          "CreateFunctionStmt": {
            "funcname": [
              {
                "String": {
                  "sval": "unnest2",
                },
              },
            ],
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "List": {
                      "items": [
                        {
                          "String": {
                            "sval": "
select $1[s1][s2] from generate_subscripts($1,1) g1(s1),
                   generate_subscripts($1,2) g2(s2);
",
                          },
                        },
                      ],
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "as",
                  "location": 70,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "sql",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "language",
                  "location": 189,
                },
              },
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "immutable",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "volatility",
                  "location": 202,
                },
              },
            ],
            "parameters": [
              {
                "FunctionParameter": {
                  "argType": {
                    "location": 35,
                    "names": [
                      {
                        "String": {
                          "sval": "anyarray",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                  "mode": "FUNC_PARAM_DEFAULT",
                },
              },
            ],
            "replace": true,
            "returnType": {
              "location": 59,
              "names": [
                {
                  "String": {
                    "sval": "anyelement",
                  },
                },
              ],
              "setof": true,
              "typemod": -1,
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 554 1`] = `
[
  "select * from unnest1(array[1,2,3])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_ArrayExpr": {
                                    "elements": [
                                      {
                                        "A_Const": {
                                          "ival": {
                                            "ival": 1,
                                          },
                                          "location": 28,
                                        },
                                      },
                                      {
                                        "A_Const": {
                                          "ival": {
                                            "ival": 2,
                                          },
                                          "location": 30,
                                        },
                                      },
                                      {
                                        "A_Const": {
                                          "ival": {
                                            "ival": 3,
                                          },
                                          "location": 32,
                                        },
                                      },
                                    ],
                                    "location": 22,
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "unnest1",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 557 1`] = `
[
  "drop function unnest1(anyarray)",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "ObjectWithArgs": {
                  "objargs": [
                    {
                      "TypeName": {
                        "location": 22,
                        "names": [
                          {
                            "String": {
                              "sval": "anyarray",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  ],
                  "objfuncargs": [
                    {
                      "FunctionParameter": {
                        "argType": {
                          "location": 22,
                          "names": [
                            {
                              "String": {
                                "sval": "anyarray",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                        "mode": "FUNC_PARAM_DEFAULT",
                      },
                    },
                  ],
                  "objname": [
                    {
                      "String": {
                        "sval": "unnest1",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_FUNCTION",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 560 1`] = `
[
  "select array_fill(null::integer, array[3,3],array[2,2])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 18,
                              },
                            },
                            "location": 22,
                            "typeName": {
                              "location": 24,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "int4",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 39,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 41,
                                },
                              },
                            ],
                            "location": 33,
                          },
                        },
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 2,
                                  },
                                  "location": 50,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 2,
                                  },
                                  "location": 52,
                                },
                              },
                            ],
                            "location": 44,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_fill",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 582 1`] = `
[
  "select string_to_array('1|2|3', '|')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 23,
                            "sval": {
                              "sval": "1|2|3",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 32,
                            "sval": {
                              "sval": "|",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "string_to_array",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 597 1`] = `
[
  "select v, v is null as "is null" from string_to_table('1|2|3', '|') g(v)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "g",
                    "colnames": [
                      {
                        "String": {
                          "sval": "v",
                        },
                      },
                    ],
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 54,
                                    "sval": {
                                      "sval": "1|2|3",
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 63,
                                    "sval": {
                                      "sval": "|",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "string_to_table",
                                  },
                                },
                              ],
                              "location": 38,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "v",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 10,
                  "name": "is null",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "v",
                              },
                            },
                          ],
                          "location": 10,
                        },
                      },
                      "location": 12,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 612 1`] = `
[
  "select array_to_string(NULL::int4[], ',') IS NULL",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "NullTest": {
                      "arg": {
                        "FuncCall": {
                          "args": [
                            {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "isnull": true,
                                    "location": 23,
                                  },
                                },
                                "location": 27,
                                "typeName": {
                                  "arrayBounds": [
                                    {
                                      "Integer": {},
                                    },
                                  ],
                                  "location": 29,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "int4",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 37,
                                "sval": {
                                  "sval": ",",
                                },
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_to_string",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 42,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 619 1`] = `
[
  "select array_to_string(string_to_array('1|2|3', '|'), '|')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "A_Const": {
                                  "location": 39,
                                  "sval": {
                                    "sval": "1|2|3",
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 48,
                                  "sval": {
                                    "sval": "|",
                                  },
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "string_to_array",
                                },
                              },
                            ],
                            "location": 23,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 54,
                            "sval": {
                              "sval": "|",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_to_string",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 621 1`] = `
[
  "select array_length(array[1,2,3], 1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 26,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 2,
                                  },
                                  "location": 28,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 30,
                                },
                              },
                            ],
                            "location": 20,
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 34,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_length",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 627 1`] = `
[
  "select cardinality(NULL::int[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 19,
                              },
                            },
                            "location": 23,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 25,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "int4",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "cardinality",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 636 1`] = `
[
  "select array_agg(unique1) from (select unique1 from tenk1 where unique1 < 15 order by unique1) ss",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "ss",
                  },
                  "subquery": {
                    "SelectStmt": {
                      "fromClause": [
                        {
                          "RangeVar": {
                            "inh": true,
                            "location": 52,
                            "relname": "tenk1",
                            "relpersistence": "p",
                          },
                        },
                      ],
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "sortClause": [
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "unique1",
                                    },
                                  },
                                ],
                                "location": 86,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                          },
                        },
                      ],
                      "targetList": [
                        {
                          "ResTarget": {
                            "location": 39,
                            "val": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "unique1",
                                    },
                                  },
                                ],
                                "location": 39,
                              },
                            },
                          },
                        },
                      ],
                      "whereClause": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "unique1",
                                  },
                                },
                              ],
                              "location": 64,
                            },
                          },
                          "location": 72,
                          "name": [
                            {
                              "String": {
                                "sval": "<",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "ival": {
                                "ival": 15,
                              },
                              "location": 74,
                            },
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "unique1",
                                },
                              },
                            ],
                            "location": 17,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 642 1`] = `
[
  "select array_agg(ar)
  from (values ('{1,2}'::int[]), ('{3,4}'::int[])) v(ar)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "v",
                    "colnames": [
                      {
                        "String": {
                          "sval": "ar",
                        },
                      },
                    ],
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "valuesLists": [
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 37,
                                      "sval": {
                                        "sval": "{1,2}",
                                      },
                                    },
                                  },
                                  "location": 44,
                                  "typeName": {
                                    "arrayBounds": [
                                      {
                                        "Integer": {},
                                      },
                                    ],
                                    "location": 46,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "pg_catalog",
                                        },
                                      },
                                      {
                                        "String": {
                                          "sval": "int4",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 55,
                                      "sval": {
                                        "sval": "{3,4}",
                                      },
                                    },
                                  },
                                  "location": 62,
                                  "typeName": {
                                    "arrayBounds": [
                                      {
                                        "Integer": {},
                                      },
                                    ],
                                    "location": 64,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "pg_catalog",
                                        },
                                      },
                                      {
                                        "String": {
                                          "sval": "int4",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "ar",
                                },
                              },
                            ],
                            "location": 17,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 653 1`] = `
[
  "select array_agg('{}'::int[]) from generate_series(1,2)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 1,
                                    },
                                    "location": 51,
                                  },
                                },
                                {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 2,
                                    },
                                    "location": 53,
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "generate_series",
                                  },
                                },
                              ],
                              "location": 35,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 17,
                                "sval": {
                                  "sval": "{}",
                                },
                              },
                            },
                            "location": 21,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 23,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "int4",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 658 1`] = `
[
  "select unnest(array[1,2,3])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 20,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 2,
                                  },
                                  "location": 22,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 24,
                                },
                              },
                            ],
                            "location": 14,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "unnest",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 670 1`] = `
[
  " -- not allowed
select array_remove(array['X','X','X'], 'X') = '{}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 23,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "location": 42,
                                      "sval": {
                                        "sval": "X",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "location": 46,
                                      "sval": {
                                        "sval": "X",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "location": 50,
                                      "sval": {
                                        "sval": "X",
                                      },
                                    },
                                  },
                                ],
                                "location": 36,
                              },
                            },
                            {
                              "A_Const": {
                                "location": 56,
                                "sval": {
                                  "sval": "X",
                                },
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_remove",
                              },
                            },
                          ],
                          "location": 23,
                        },
                      },
                      "location": 61,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 63,
                          "sval": {
                            "sval": "{}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 680 1`] = `
[
  "select array(select array[i,i/2] from generate_series(1,5) i)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "SubLink": {
                      "location": 7,
                      "subLinkType": "ARRAY_SUBLINK",
                      "subselect": {
                        "SelectStmt": {
                          "fromClause": [
                            {
                              "RangeFunction": {
                                "alias": {
                                  "aliasname": "i",
                                },
                                "functions": [
                                  {
                                    "List": {
                                      "items": [
                                        {
                                          "FuncCall": {
                                            "args": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 1,
                                                  },
                                                  "location": 54,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 5,
                                                  },
                                                  "location": 56,
                                                },
                                              },
                                            ],
                                            "funcformat": "COERCE_EXPLICIT_CALL",
                                            "funcname": [
                                              {
                                                "String": {
                                                  "sval": "generate_series",
                                                },
                                              },
                                            ],
                                            "location": 38,
                                          },
                                        },
                                        {},
                                      ],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                          "limitOption": "LIMIT_OPTION_DEFAULT",
                          "op": "SETOP_NONE",
                          "targetList": [
                            {
                              "ResTarget": {
                                "location": 20,
                                "val": {
                                  "A_ArrayExpr": {
                                    "elements": [
                                      {
                                        "ColumnRef": {
                                          "fields": [
                                            {
                                              "String": {
                                                "sval": "i",
                                              },
                                            },
                                          ],
                                          "location": 26,
                                        },
                                      },
                                      {
                                        "A_Expr": {
                                          "kind": "AEXPR_OP",
                                          "lexpr": {
                                            "ColumnRef": {
                                              "fields": [
                                                {
                                                  "String": {
                                                    "sval": "i",
                                                  },
                                                },
                                              ],
                                              "location": 28,
                                            },
                                          },
                                          "location": 29,
                                          "name": [
                                            {
                                              "String": {
                                                "sval": "/",
                                              },
                                            },
                                          ],
                                          "rexpr": {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 2,
                                              },
                                              "location": 30,
                                            },
                                          },
                                        },
                                      },
                                    ],
                                    "location": 20,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 695 1`] = `
[
  "  select string_agg(random()::text,'') from generate_series(1,10000)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 1,
                                    },
                                    "location": 60,
                                  },
                                },
                                {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 10000,
                                    },
                                    "location": 62,
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "generate_series",
                                  },
                                },
                              ],
                              "location": 44,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 9,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "FuncCall": {
                                "funcformat": "COERCE_EXPLICIT_CALL",
                                "funcname": [
                                  {
                                    "String": {
                                      "sval": "random",
                                    },
                                  },
                                ],
                                "location": 20,
                              },
                            },
                            "location": 28,
                            "typeName": {
                              "location": 30,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 35,
                            "sval": {
                              "sval": "",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "string_agg",
                          },
                        },
                      ],
                      "location": 9,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 711 1`] = `
[
  "SELECT
    op,
    width_bucket(op::numeric, ARRAY[1, 3, 5, 10.0]::numeric[]) AS wb_n1,
    width_bucket(op::numeric, ARRAY[0, 5.5, 9.99]::numeric[]) AS wb_n2,
    width_bucket(op::numeric, ARRAY[-6, -5, 2.0]::numeric[]) AS wb_n3,
    width_bucket(op::float8, ARRAY[1, 3, 5, 10.0]::float8[]) AS wb_f1,
    width_bucket(op::float8, ARRAY[0, 5.5, 9.99]::float8[]) AS wb_f2,
    width_bucket(op::float8, ARRAY[-6, -5, 2.0]::float8[]) AS wb_f3
FROM (VALUES
  (-5.2),
  (-0.0000000001),
  (0.000000000001),
  (1),
  (1.99999999999999),
  (2),
  (2.00000000000001),
  (3),
  (4),
  (4.5),
  (5),
  (5.5),
  (6),
  (7),
  (8),
  (9),
  (9.99999999999999),
  (10),
  (10.0000000000001)
) v(op)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "v",
                    "colnames": [
                      {
                        "String": {
                          "sval": "op",
                        },
                      },
                    ],
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "valuesLists": [
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "-5.2",
                                  },
                                  "location": 456,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "-0.0000000001",
                                  },
                                  "location": 466,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "0.000000000001",
                                  },
                                  "location": 485,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 505,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "1.99999999999999",
                                  },
                                  "location": 512,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 2,
                                  },
                                  "location": 534,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "2.00000000000001",
                                  },
                                  "location": 541,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 563,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 4,
                                  },
                                  "location": 570,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "4.5",
                                  },
                                  "location": 577,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 5,
                                  },
                                  "location": 586,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "5.5",
                                  },
                                  "location": 593,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 6,
                                  },
                                  "location": 602,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 7,
                                  },
                                  "location": 609,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 8,
                                  },
                                  "location": 616,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 9,
                                  },
                                  "location": 623,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "9.99999999999999",
                                  },
                                  "location": 630,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 10,
                                  },
                                  "location": 652,
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "A_Const": {
                                  "fval": {
                                    "fval": "10.0000000000001",
                                  },
                                  "location": 660,
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 11,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "op",
                          },
                        },
                      ],
                      "location": 11,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 19,
                  "name": "wb_n1",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "op",
                                    },
                                  },
                                ],
                                "location": 32,
                              },
                            },
                            "location": 34,
                            "typeName": {
                              "location": 36,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "numeric",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 1,
                                      },
                                      "location": 51,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 3,
                                      },
                                      "location": 54,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 5,
                                      },
                                      "location": 57,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "fval": {
                                        "fval": "10.0",
                                      },
                                      "location": 60,
                                    },
                                  },
                                ],
                                "location": 45,
                              },
                            },
                            "location": 65,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 67,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "numeric",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 19,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 92,
                  "name": "wb_n2",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "op",
                                    },
                                  },
                                ],
                                "location": 105,
                              },
                            },
                            "location": 107,
                            "typeName": {
                              "location": 109,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "numeric",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 124,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "fval": {
                                        "fval": "5.5",
                                      },
                                      "location": 127,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "fval": {
                                        "fval": "9.99",
                                      },
                                      "location": 132,
                                    },
                                  },
                                ],
                                "location": 118,
                              },
                            },
                            "location": 137,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 139,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "numeric",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 92,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 164,
                  "name": "wb_n3",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "op",
                                    },
                                  },
                                ],
                                "location": 177,
                              },
                            },
                            "location": 179,
                            "typeName": {
                              "location": 181,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "numeric",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 196,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 200,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "fval": {
                                        "fval": "2.0",
                                      },
                                      "location": 204,
                                    },
                                  },
                                ],
                                "location": 190,
                              },
                            },
                            "location": 208,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 210,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "numeric",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 164,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 235,
                  "name": "wb_f1",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "op",
                                    },
                                  },
                                ],
                                "location": 248,
                              },
                            },
                            "location": 250,
                            "typeName": {
                              "location": 252,
                              "names": [
                                {
                                  "String": {
                                    "sval": "float8",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 1,
                                      },
                                      "location": 266,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 3,
                                      },
                                      "location": 269,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 5,
                                      },
                                      "location": 272,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "fval": {
                                        "fval": "10.0",
                                      },
                                      "location": 275,
                                    },
                                  },
                                ],
                                "location": 260,
                              },
                            },
                            "location": 280,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 282,
                              "names": [
                                {
                                  "String": {
                                    "sval": "float8",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 235,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 306,
                  "name": "wb_f2",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "op",
                                    },
                                  },
                                ],
                                "location": 319,
                              },
                            },
                            "location": 321,
                            "typeName": {
                              "location": 323,
                              "names": [
                                {
                                  "String": {
                                    "sval": "float8",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 337,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "fval": {
                                        "fval": "5.5",
                                      },
                                      "location": 340,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "fval": {
                                        "fval": "9.99",
                                      },
                                      "location": 345,
                                    },
                                  },
                                ],
                                "location": 331,
                              },
                            },
                            "location": 350,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 352,
                              "names": [
                                {
                                  "String": {
                                    "sval": "float8",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 306,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 376,
                  "name": "wb_f3",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "op",
                                    },
                                  },
                                ],
                                "location": 389,
                              },
                            },
                            "location": 391,
                            "typeName": {
                              "location": 393,
                              "names": [
                                {
                                  "String": {
                                    "sval": "float8",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 407,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 411,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "fval": {
                                        "fval": "2.0",
                                      },
                                      "location": 415,
                                    },
                                  },
                                ],
                                "location": 401,
                              },
                            },
                            "location": 419,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 421,
                              "names": [
                                {
                                  "String": {
                                    "sval": "float8",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 376,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 742 1`] = `
[
  "SELECT
    op,
    width_bucket(op, ARRAY[1, 3, 9, 'NaN', 'NaN']::float8[]) AS wb
FROM (VALUES
  (-5.2::float8),
  (4::float8),
  (77::float8),
  ('NaN'::float8)
) v(op)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "v",
                    "colnames": [
                      {
                        "String": {
                          "sval": "op",
                        },
                      },
                    ],
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "valuesLists": [
                        {
                          "List": {
                            "items": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "location": 98,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "-",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "TypeCast": {
                                      "arg": {
                                        "A_Const": {
                                          "fval": {
                                            "fval": "5.2",
                                          },
                                          "location": 99,
                                        },
                                      },
                                      "location": 102,
                                      "typeName": {
                                        "location": 104,
                                        "names": [
                                          {
                                            "String": {
                                              "sval": "float8",
                                            },
                                          },
                                        ],
                                        "typemod": -1,
                                      },
                                    },
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 4,
                                      },
                                      "location": 116,
                                    },
                                  },
                                  "location": 117,
                                  "typeName": {
                                    "location": 119,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "float8",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 77,
                                      },
                                      "location": 131,
                                    },
                                  },
                                  "location": 133,
                                  "typeName": {
                                    "location": 135,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "float8",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 147,
                                      "sval": {
                                        "sval": "NaN",
                                      },
                                    },
                                  },
                                  "location": 152,
                                  "typeName": {
                                    "location": 154,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "float8",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 11,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "op",
                          },
                        },
                      ],
                      "location": 11,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 19,
                  "name": "wb",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "op",
                                },
                              },
                            ],
                            "location": 32,
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 1,
                                      },
                                      "location": 42,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 3,
                                      },
                                      "location": 45,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 9,
                                      },
                                      "location": 48,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "location": 51,
                                      "sval": {
                                        "sval": "NaN",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "location": 58,
                                      "sval": {
                                        "sval": "NaN",
                                      },
                                    },
                                  },
                                ],
                                "location": 36,
                              },
                            },
                            "location": 64,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 66,
                              "names": [
                                {
                                  "String": {
                                    "sval": "float8",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 19,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 753 1`] = `
[
  "SELECT
    op,
    width_bucket(op, ARRAY[1, 3, 5, 10]) AS wb_1
FROM generate_series(0,11) as op",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "op",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "ival": {},
                                    "location": 85,
                                  },
                                },
                                {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 11,
                                    },
                                    "location": 87,
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "generate_series",
                                  },
                                },
                              ],
                              "location": 69,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 11,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "op",
                          },
                        },
                      ],
                      "location": 11,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 19,
                  "name": "wb_1",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "op",
                                },
                              },
                            ],
                            "location": 32,
                          },
                        },
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 42,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 45,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 5,
                                  },
                                  "location": 48,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 10,
                                  },
                                  "location": 51,
                                },
                              },
                            ],
                            "location": 36,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 19,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 758 1`] = `
[
  "SELECT width_bucket(now(),
                    array['yesterday', 'today', 'tomorrow']::timestamptz[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "FuncCall": {
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "now",
                                },
                              },
                            ],
                            "location": 20,
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "location": 53,
                                      "sval": {
                                        "sval": "yesterday",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "location": 66,
                                      "sval": {
                                        "sval": "today",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "location": 75,
                                      "sval": {
                                        "sval": "tomorrow",
                                      },
                                    },
                                  },
                                ],
                                "location": 47,
                              },
                            },
                            "location": 86,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 88,
                              "names": [
                                {
                                  "String": {
                                    "sval": "timestamptz",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 762 1`] = `
[
  "SELECT width_bucket(5, ARRAY[3])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 5,
                            },
                            "location": 20,
                          },
                        },
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 29,
                                },
                              },
                            ],
                            "location": 23,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 766 1`] = `
[
  "SELECT width_bucket('5'::text, ARRAY[3, 4]::integer[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 20,
                                "sval": {
                                  "sval": "5",
                                },
                              },
                            },
                            "location": 23,
                            "typeName": {
                              "location": 25,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 3,
                                      },
                                      "location": 37,
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 4,
                                      },
                                      "location": 40,
                                    },
                                  },
                                ],
                                "location": 31,
                              },
                            },
                            "location": 42,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 44,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "int4",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "width_bucket",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 780 1`] = `
[
  "SELECT trim_array(ARRAY[1, 2, 3], -1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 24,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 2,
                                  },
                                  "location": 27,
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 3,
                                  },
                                  "location": 30,
                                },
                              },
                            ],
                            "location": 18,
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {},
                            "location": 34,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "trim_array",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 781 1`] = `
[
  " -- fail
SELECT trim_array(ARRAY[]::int[], 1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 16,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "location": 27,
                              },
                            },
                            "location": 34,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 36,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "int4",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 43,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "trim_array",
                          },
                        },
                      ],
                      "location": 16,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 782 1`] = `
[
  " -- fail

-- array_shuffle
SELECT array_shuffle('{1,2,3,4,5,6}'::int[]) <@ '{1,2,3,4,5,6}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 34,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "location": 48,
                                    "sval": {
                                      "sval": "{1,2,3,4,5,6}",
                                    },
                                  },
                                },
                                "location": 63,
                                "typeName": {
                                  "arrayBounds": [
                                    {
                                      "Integer": {},
                                    },
                                  ],
                                  "location": 65,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "pg_catalog",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "int4",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_shuffle",
                              },
                            },
                          ],
                          "location": 34,
                        },
                      },
                      "location": 72,
                      "name": [
                        {
                          "String": {
                            "sval": "<@",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 75,
                          "sval": {
                            "sval": "{1,2,3,4,5,6}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 791 1`] = `
[
  "SELECT array_sample('{1,2,3,4,5,6}'::int[], 3) <@ '{1,2,3,4,5,6}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "location": 20,
                                    "sval": {
                                      "sval": "{1,2,3,4,5,6}",
                                    },
                                  },
                                },
                                "location": 35,
                                "typeName": {
                                  "arrayBounds": [
                                    {
                                      "Integer": {},
                                    },
                                  ],
                                  "location": 37,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "pg_catalog",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "int4",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 3,
                                },
                                "location": 44,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_sample",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 47,
                      "name": [
                        {
                          "String": {
                            "sval": "<@",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 50,
                          "sval": {
                            "sval": "{1,2,3,4,5,6}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`arrays.sql > line 795 1`] = `
[
  " -- fail
SELECT array_sample('{1,2,3,4,5,6}'::int[], 7)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 16,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 29,
                                "sval": {
                                  "sval": "{1,2,3,4,5,6}",
                                },
                              },
                            },
                            "location": 44,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 46,
                              "names": [
                                {
                                  "String": {
                                    "sval": "pg_catalog",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "int4",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 7,
                            },
                            "location": 53,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_sample",
                          },
                        },
                      ],
                      "location": 16,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;
