// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`json.sql > line 2 1`] = `
[
  "SELECT '""'::json",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Const": {
                          "location": 7,
                          "sval": {
                            "sval": """",
                          },
                        },
                      },
                      "location": 11,
                      "typeName": {
                        "location": 13,
                        "names": [
                          {
                            "String": {
                              "sval": "json",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 9 1`] = `
[
  "			-- ERROR, not a valid JSON escape

-- Check fast path for longer strings (at least 16 bytes long)
SELECT ('"'||repeat('.', 12)||'abc"')::json",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 108,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "A_Expr": {
                              "kind": "AEXPR_OP",
                              "lexpr": {
                                "A_Const": {
                                  "location": 109,
                                  "sval": {
                                    "sval": """,
                                  },
                                },
                              },
                              "location": 112,
                              "name": [
                                {
                                  "String": {
                                    "sval": "||",
                                  },
                                },
                              ],
                              "rexpr": {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "A_Const": {
                                        "location": 121,
                                        "sval": {
                                          "sval": ".",
                                        },
                                      },
                                    },
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 12,
                                        },
                                        "location": 126,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "repeat",
                                      },
                                    },
                                  ],
                                  "location": 114,
                                },
                              },
                            },
                          },
                          "location": 129,
                          "name": [
                            {
                              "String": {
                                "sval": "||",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "location": 131,
                              "sval": {
                                "sval": "abc"",
                              },
                            },
                          },
                        },
                      },
                      "location": 138,
                      "typeName": {
                        "location": 140,
                        "names": [
                          {
                            "String": {
                              "sval": "json",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 47 1`] = `
[
  "		-- ERROR, no value

-- Recursion.
SET max_stack_depth = '100kB'",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "args": [
              {
                "A_Const": {
                  "location": 58,
                  "sval": {
                    "sval": "100kB",
                  },
                },
              },
            ],
            "kind": "VAR_SET_VALUE",
            "name": "max_stack_depth",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 85 1`] = `
[
  "select pg_input_is_valid('{"a":true}', 'json')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 25,
                            "sval": {
                              "sval": "{"a":true}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 39,
                            "sval": {
                              "sval": "json",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "pg_input_is_valid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 105 1`] = `
[
  "SELECT row_to_json(row(1,'foo'))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "RowExpr": {
                            "args": [
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 1,
                                  },
                                  "location": 23,
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 25,
                                  "sval": {
                                    "sval": "foo",
                                  },
                                },
                              },
                            ],
                            "location": 19,
                            "row_format": "COERCE_EXPLICIT_CALL",
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "row_to_json",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 107 1`] = `
[
  "SELECT row_to_json(q)
FROM (SELECT $$a$$ || x AS b,
         y AS c,
         ARRAY[ROW(x.*,ARRAY[1,2,3]),
               ROW(y.*,ARRAY[4,5,6])] AS z
      FROM generate_series(1,2) x,
           generate_series(4,5) y) q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "subquery": {
                    "SelectStmt": {
                      "fromClause": [
                        {
                          "RangeFunction": {
                            "alias": {
                              "aliasname": "x",
                            },
                            "functions": [
                              {
                                "List": {
                                  "items": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 1,
                                              },
                                              "location": 177,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 2,
                                              },
                                              "location": 179,
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "generate_series",
                                            },
                                          },
                                        ],
                                        "location": 161,
                                      },
                                    },
                                    {},
                                  ],
                                },
                              },
                            ],
                          },
                        },
                        {
                          "RangeFunction": {
                            "alias": {
                              "aliasname": "y",
                            },
                            "functions": [
                              {
                                "List": {
                                  "items": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 4,
                                              },
                                              "location": 212,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 5,
                                              },
                                              "location": 214,
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "generate_series",
                                            },
                                          },
                                        ],
                                        "location": 196,
                                      },
                                    },
                                    {},
                                  ],
                                },
                              },
                            ],
                          },
                        },
                      ],
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "targetList": [
                        {
                          "ResTarget": {
                            "location": 35,
                            "name": "b",
                            "val": {
                              "A_Expr": {
                                "kind": "AEXPR_OP",
                                "lexpr": {
                                  "A_Const": {
                                    "location": 35,
                                    "sval": {
                                      "sval": "a",
                                    },
                                  },
                                },
                                "location": 41,
                                "name": [
                                  {
                                    "String": {
                                      "sval": "||",
                                    },
                                  },
                                ],
                                "rexpr": {
                                  "ColumnRef": {
                                    "fields": [
                                      {
                                        "String": {
                                          "sval": "x",
                                        },
                                      },
                                    ],
                                    "location": 44,
                                  },
                                },
                              },
                            },
                          },
                        },
                        {
                          "ResTarget": {
                            "location": 61,
                            "name": "c",
                            "val": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "y",
                                    },
                                  },
                                ],
                                "location": 61,
                              },
                            },
                          },
                        },
                        {
                          "ResTarget": {
                            "location": 78,
                            "name": "z",
                            "val": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "RowExpr": {
                                      "args": [
                                        {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "x",
                                                },
                                              },
                                              {
                                                "A_Star": {},
                                              },
                                            ],
                                            "location": 88,
                                          },
                                        },
                                        {
                                          "A_ArrayExpr": {
                                            "elements": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 1,
                                                  },
                                                  "location": 98,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 2,
                                                  },
                                                  "location": 100,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 3,
                                                  },
                                                  "location": 102,
                                                },
                                              },
                                            ],
                                            "location": 92,
                                          },
                                        },
                                      ],
                                      "location": 84,
                                      "row_format": "COERCE_EXPLICIT_CALL",
                                    },
                                  },
                                  {
                                    "RowExpr": {
                                      "args": [
                                        {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "y",
                                                },
                                              },
                                              {
                                                "A_Star": {},
                                              },
                                            ],
                                            "location": 126,
                                          },
                                        },
                                        {
                                          "A_ArrayExpr": {
                                            "elements": [
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 4,
                                                  },
                                                  "location": 136,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 5,
                                                  },
                                                  "location": 138,
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "ival": {
                                                    "ival": 6,
                                                  },
                                                  "location": 140,
                                                },
                                              },
                                            ],
                                            "location": 130,
                                          },
                                        },
                                      ],
                                      "location": 122,
                                      "row_format": "COERCE_EXPLICIT_CALL",
                                    },
                                  },
                                ],
                                "location": 78,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "q",
                                },
                              },
                            ],
                            "location": 19,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "row_to_json",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 123 1`] = `
[
  "CREATE TEMP TABLE rows AS
SELECT x, 'txt' || x as y
FROM generate_series(1,3) AS x",
  {
    "stmts": [
      {
        "stmt": {
          "CreateTableAsStmt": {
            "into": {
              "onCommit": "ONCOMMIT_NOOP",
              "rel": {
                "inh": true,
                "location": 18,
                "relname": "rows",
                "relpersistence": "t",
              },
            },
            "objtype": "OBJECT_TABLE",
            "query": {
              "SelectStmt": {
                "fromClause": [
                  {
                    "RangeFunction": {
                      "alias": {
                        "aliasname": "x",
                      },
                      "functions": [
                        {
                          "List": {
                            "items": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 1,
                                        },
                                        "location": 73,
                                      },
                                    },
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 3,
                                        },
                                        "location": 75,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "generate_series",
                                      },
                                    },
                                  ],
                                  "location": 57,
                                },
                              },
                              {},
                            ],
                          },
                        },
                      ],
                    },
                  },
                ],
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "targetList": [
                  {
                    "ResTarget": {
                      "location": 33,
                      "val": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "x",
                              },
                            },
                          ],
                          "location": 33,
                        },
                      },
                    },
                  },
                  {
                    "ResTarget": {
                      "location": 36,
                      "name": "y",
                      "val": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "A_Const": {
                              "location": 36,
                              "sval": {
                                "sval": "txt",
                              },
                            },
                          },
                          "location": 42,
                          "name": [
                            {
                              "String": {
                                "sval": "||",
                              },
                            },
                          ],
                          "rexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "x",
                                  },
                                },
                              ],
                              "location": 45,
                            },
                          },
                        },
                      },
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 127 1`] = `
[
  "SELECT row_to_json(q,true)
FROM rows q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "inh": true,
                  "location": 32,
                  "relname": "rows",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "q",
                                },
                              },
                            ],
                            "location": 19,
                          },
                        },
                        {
                          "A_Const": {
                            "boolval": {
                              "boolval": true,
                            },
                            "location": 21,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "row_to_json",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 130 1`] = `
[
  "SELECT row_to_json(row((select array_agg(x) as d from generate_series(5,10) x)),false)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "RowExpr": {
                            "args": [
                              {
                                "SubLink": {
                                  "location": 23,
                                  "subLinkType": "EXPR_SUBLINK",
                                  "subselect": {
                                    "SelectStmt": {
                                      "fromClause": [
                                        {
                                          "RangeFunction": {
                                            "alias": {
                                              "aliasname": "x",
                                            },
                                            "functions": [
                                              {
                                                "List": {
                                                  "items": [
                                                    {
                                                      "FuncCall": {
                                                        "args": [
                                                          {
                                                            "A_Const": {
                                                              "ival": {
                                                                "ival": 5,
                                                              },
                                                              "location": 70,
                                                            },
                                                          },
                                                          {
                                                            "A_Const": {
                                                              "ival": {
                                                                "ival": 10,
                                                              },
                                                              "location": 72,
                                                            },
                                                          },
                                                        ],
                                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                                        "funcname": [
                                                          {
                                                            "String": {
                                                              "sval": "generate_series",
                                                            },
                                                          },
                                                        ],
                                                        "location": 54,
                                                      },
                                                    },
                                                    {},
                                                  ],
                                                },
                                              },
                                            ],
                                          },
                                        },
                                      ],
                                      "limitOption": "LIMIT_OPTION_DEFAULT",
                                      "op": "SETOP_NONE",
                                      "targetList": [
                                        {
                                          "ResTarget": {
                                            "location": 31,
                                            "name": "d",
                                            "val": {
                                              "FuncCall": {
                                                "args": [
                                                  {
                                                    "ColumnRef": {
                                                      "fields": [
                                                        {
                                                          "String": {
                                                            "sval": "x",
                                                          },
                                                        },
                                                      ],
                                                      "location": 41,
                                                    },
                                                  },
                                                ],
                                                "funcformat": "COERCE_EXPLICIT_CALL",
                                                "funcname": [
                                                  {
                                                    "String": {
                                                      "sval": "array_agg",
                                                    },
                                                  },
                                                ],
                                                "location": 31,
                                              },
                                            },
                                          },
                                        },
                                      ],
                                    },
                                  },
                                },
                              },
                            ],
                            "location": 19,
                            "row_format": "COERCE_EXPLICIT_CALL",
                          },
                        },
                        {
                          "A_Const": {
                            "boolval": {},
                            "location": 80,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "row_to_json",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 136 1`] = `
[
  "select attname, to_json(histogram_bounds) histogram_bounds
from pg_stats
where tablename = 'rows' and
      schemaname = pg_my_temp_schema()::regnamespace::text
order by 1",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 64,
                  "relname": "pg_stats",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 170,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "attname",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 16,
                  "name": "histogram_bounds",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "histogram_bounds",
                                },
                              },
                            ],
                            "location": 24,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "to_json",
                          },
                        },
                      ],
                      "location": 16,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "tablename",
                              },
                            },
                          ],
                          "location": 79,
                        },
                      },
                      "location": 89,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 91,
                          "sval": {
                            "sval": "rows",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "schemaname",
                              },
                            },
                          ],
                          "location": 108,
                        },
                      },
                      "location": 119,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "TypeCast": {
                              "arg": {
                                "FuncCall": {
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "pg_my_temp_schema",
                                      },
                                    },
                                  ],
                                  "location": 121,
                                },
                              },
                              "location": 140,
                              "typeName": {
                                "location": 142,
                                "names": [
                                  {
                                    "String": {
                                      "sval": "regnamespace",
                                    },
                                  },
                                ],
                                "typemod": -1,
                              },
                            },
                          },
                          "location": 154,
                          "typeName": {
                            "location": 156,
                            "names": [
                              {
                                "String": {
                                  "sval": "text",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 98,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 146 1`] = `
[
  "BEGIN",
  {
    "stmts": [
      {
        "stmt": {
          "TransactionStmt": {
            "kind": "TRANS_STMT_BEGIN",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 153 1`] = `
[
  "select to_json(date '2014-05-28')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 20,
                                "sval": {
                                  "sval": "2014-05-28",
                                },
                              },
                            },
                            "location": -1,
                            "typeName": {
                              "location": 15,
                              "names": [
                                {
                                  "String": {
                                    "sval": "date",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "to_json",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 171 1`] = `
[
  "SELECT json_agg(q ORDER BY x, y)
  FROM rows q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "inh": true,
                  "location": 40,
                  "relname": "rows",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_order": [
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "x",
                                    },
                                  },
                                ],
                                "location": 27,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                          },
                        },
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "y",
                                    },
                                  },
                                ],
                                "location": 30,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                          },
                        },
                      ],
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "q",
                                },
                              },
                            ],
                            "location": 16,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 174 1`] = `
[
  "UPDATE rows SET x = NULL WHERE x = 1",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "rows",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "location": 16,
                  "name": "x",
                  "val": {
                    "A_Const": {
                      "isnull": true,
                      "location": 20,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "x",
                        },
                      },
                    ],
                    "location": 31,
                  },
                },
                "location": 33,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "ival": {
                      "ival": 1,
                    },
                    "location": 35,
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 176 1`] = `
[
  "SELECT json_agg(q ORDER BY x NULLS FIRST, y)
  FROM rows q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "inh": true,
                  "location": 52,
                  "relname": "rows",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_order": [
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "x",
                                    },
                                  },
                                ],
                                "location": 27,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_FIRST",
                          },
                        },
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "y",
                                    },
                                  },
                                ],
                                "location": 42,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                          },
                        },
                      ],
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "q",
                                },
                              },
                            ],
                            "location": 16,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 180 1`] = `
[
  "SELECT row_to_json(q)
FROM (SELECT 'NaN'::float8 AS "float8field") q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "targetList": [
                        {
                          "ResTarget": {
                            "location": 35,
                            "name": "float8field",
                            "val": {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "location": 35,
                                    "sval": {
                                      "sval": "NaN",
                                    },
                                  },
                                },
                                "location": 40,
                                "typeName": {
                                  "location": 42,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "float8",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "q",
                                },
                              },
                            ],
                            "location": 19,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "row_to_json",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 201 1`] = `
[
  "INSERT INTO test_json VALUES
('scalar','"a scalar"'),
('array','["zero", "one","two",null,"four","five", [1,2,3],{"f1":9}]'),
('object','{"field1":"val1","field2":"val2","field3":null, "field4": 4, "field5": [1,2,3], "field6": {"f1":9}}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "test_json",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 30,
                            "sval": {
                              "sval": "scalar",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 39,
                            "sval": {
                              "sval": ""a scalar"",
                            },
                          },
                        },
                      ],
                    },
                  },
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 55,
                            "sval": {
                              "sval": "array",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 63,
                            "sval": {
                              "sval": "["zero", "one","two",null,"four","five", [1,2,3],{"f1":9}]",
                            },
                          },
                        },
                      ],
                    },
                  },
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 127,
                            "sval": {
                              "sval": "object",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 136,
                            "sval": {
                              "sval": "{"field1":"val1","field2":"val2","field3":null, "field4": 4, "field5": [1,2,3], "field6": {"f1":9}}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 206 1`] = `
[
  "SELECT test_json -> 'x'
FROM test_json
WHERE json_type = 'scalar'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 29,
                  "relname": "test_json",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "test_json",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 17,
                      "name": [
                        {
                          "String": {
                            "sval": "->",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 20,
                          "sval": {
                            "sval": "x",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 45,
                  },
                },
                "location": 55,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 57,
                    "sval": {
                      "sval": "scalar",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 222 1`] = `
[
  "SELECT test_json->>'field2'
FROM test_json
WHERE json_type = 'object'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 33,
                  "relname": "test_json",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "test_json",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 16,
                      "name": [
                        {
                          "String": {
                            "sval": "->>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 19,
                          "sval": {
                            "sval": "field2",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 49,
                  },
                },
                "location": 59,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 61,
                    "sval": {
                      "sval": "object",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 253 1`] = `
[
  "SELECT json_object_keys(test_json)
FROM test_json
WHERE json_type = 'scalar'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 40,
                  "relname": "test_json",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "test_json",
                                },
                              },
                            ],
                            "location": 24,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_object_keys",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 56,
                  },
                },
                "location": 66,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 68,
                    "sval": {
                      "sval": "scalar",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 278 1`] = `
[
  "select (test_json->>'field3') is null as expect_true
from test_json
where json_type = 'object'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 58,
                  "relname": "test_json",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "expect_true",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "test_json",
                                  },
                                },
                              ],
                              "location": 8,
                            },
                          },
                          "location": 17,
                          "name": [
                            {
                              "String": {
                                "sval": "->>",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "location": 20,
                              "sval": {
                                "sval": "field3",
                              },
                            },
                          },
                        },
                      },
                      "location": 30,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 74,
                  },
                },
                "location": 84,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 86,
                    "sval": {
                      "sval": "object",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 282 1`] = `
[
  "select (test_json->3) is null as expect_false
from test_json
where json_type = 'array'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 51,
                  "relname": "test_json",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "expect_false",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "test_json",
                                  },
                                },
                              ],
                              "location": 8,
                            },
                          },
                          "location": 17,
                          "name": [
                            {
                              "String": {
                                "sval": "->",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "ival": {
                                "ival": 3,
                              },
                              "location": 19,
                            },
                          },
                        },
                      },
                      "location": 22,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 67,
                  },
                },
                "location": 77,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 79,
                    "sval": {
                      "sval": "array",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 305 1`] = `
[
  "select '{"a": [{"b": "c"}, {"b": "cc"}]}'::json ->> null::text",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"a": [{"b": "c"}, {"b": "cc"}]}",
                              },
                            },
                          },
                          "location": 41,
                          "typeName": {
                            "location": 43,
                            "names": [
                              {
                                "String": {
                                  "sval": "json",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 48,
                      "name": [
                        {
                          "String": {
                            "sval": "->>",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "isnull": true,
                              "location": 52,
                            },
                          },
                          "location": 56,
                          "typeName": {
                            "location": 58,
                            "names": [
                              {
                                "String": {
                                  "sval": "text",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 321 1`] = `
[
  "SELECT json_array_length('[]')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 25,
                            "sval": {
                              "sval": "[]",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_array_length",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 332 1`] = `
[
  "select json_each_text('{"f1":[1,2,3],"f2":{"f3":1},"f4":null,"f5":"null"}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 22,
                            "sval": {
                              "sval": "{"f1":[1,2,3],"f2":{"f3":1},"f4":null,"f5":"null"}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_each_text",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 360 1`] = `
[
  "select '{"f2":{"f3":1},"f4":{"f5":99,"f6":"stringy"}}'::json#>>array['f4','f6']",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"f2":{"f3":1},"f4":{"f5":99,"f6":"stringy"}}",
                              },
                            },
                          },
                          "location": 54,
                          "typeName": {
                            "location": 56,
                            "names": [
                              {
                                "String": {
                                  "sval": "json",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 60,
                      "name": [
                        {
                          "String": {
                            "sval": "#>>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 69,
                                "sval": {
                                  "sval": "f4",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 74,
                                "sval": {
                                  "sval": "f6",
                                },
                              },
                            },
                          ],
                          "location": 63,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 366 1`] = `
[
  "select '{"a": {"b":{"c": "foo"}}}'::json #> '{}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"a": {"b":{"c": "foo"}}}",
                              },
                            },
                          },
                          "location": 34,
                          "typeName": {
                            "location": 36,
                            "names": [
                              {
                                "String": {
                                  "sval": "json",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 41,
                      "name": [
                        {
                          "String": {
                            "sval": "#>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 44,
                          "sval": {
                            "sval": "{}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 387 1`] = `
[
  "select '{"a": {"b":{"c": "foo"}}}'::json #>> '{}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"a": {"b":{"c": "foo"}}}",
                              },
                            },
                          },
                          "location": 34,
                          "typeName": {
                            "location": 36,
                            "names": [
                              {
                                "String": {
                                  "sval": "json",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 41,
                      "name": [
                        {
                          "String": {
                            "sval": "#>>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 45,
                          "sval": {
                            "sval": "{}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 416 1`] = `
[
  "create type jpop as (a text, b int, c timestamp)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "a",
                  "is_local": true,
                  "location": 21,
                  "typeName": {
                    "location": 23,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "b",
                  "is_local": true,
                  "location": 29,
                  "typeName": {
                    "location": 31,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c",
                  "is_local": true,
                  "location": 36,
                  "typeName": {
                    "location": 38,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "timestamp",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "jpop",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 418 1`] = `
[
  "CREATE DOMAIN js_int_not_null  AS int     NOT NULL",
  {
    "stmts": [
      {
        "stmt": {
          "CreateDomainStmt": {
            "constraints": [
              {
                "Constraint": {
                  "contype": "CONSTR_NOTNULL",
                  "location": 42,
                },
              },
            ],
            "domainname": [
              {
                "String": {
                  "sval": "js_int_not_null",
                },
              },
            ],
            "typeName": {
              "location": 34,
              "names": [
                {
                  "String": {
                    "sval": "pg_catalog",
                  },
                },
                {
                  "String": {
                    "sval": "int4",
                  },
                },
              ],
              "typemod": -1,
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 422 1`] = `
[
  "create type j_unordered_pair as (x int, y int)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "x",
                  "is_local": true,
                  "location": 33,
                  "typeName": {
                    "location": 35,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "y",
                  "is_local": true,
                  "location": 40,
                  "typeName": {
                    "location": 42,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "j_unordered_pair",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 425 1`] = `
[
  "CREATE TYPE jsrec AS (
	i	int,
	ia	_int4,
	ia1	int[],
	ia2	int[][],
	ia3	int[][][],
	ia1d	js_int_array_1d,
	ia2d	js_int_array_2d,
	t	text,
	ta	text[],
	c	char(10),
	ca	char(10)[],
	ts	timestamp,
	js	json,
	jsb	jsonb,
	jsa	json[],
	rec	jpop,
	reca	jpop[]
)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "i",
                  "is_local": true,
                  "location": 24,
                  "typeName": {
                    "location": 26,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia",
                  "is_local": true,
                  "location": 32,
                  "typeName": {
                    "location": 35,
                    "names": [
                      {
                        "String": {
                          "sval": "_int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia1",
                  "is_local": true,
                  "location": 43,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 47,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia2",
                  "is_local": true,
                  "location": 55,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 59,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia3",
                  "is_local": true,
                  "location": 69,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                      {
                        "Integer": {},
                      },
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 73,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia1d",
                  "is_local": true,
                  "location": 85,
                  "typeName": {
                    "location": 90,
                    "names": [
                      {
                        "String": {
                          "sval": "js_int_array_1d",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia2d",
                  "is_local": true,
                  "location": 108,
                  "typeName": {
                    "location": 113,
                    "names": [
                      {
                        "String": {
                          "sval": "js_int_array_2d",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "t",
                  "is_local": true,
                  "location": 131,
                  "typeName": {
                    "location": 133,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ta",
                  "is_local": true,
                  "location": 140,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 143,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c",
                  "is_local": true,
                  "location": 152,
                  "typeName": {
                    "location": 154,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "bpchar",
                        },
                      },
                    ],
                    "typemod": -1,
                    "typmods": [
                      {
                        "A_Const": {
                          "ival": {
                            "ival": 10,
                          },
                          "location": 159,
                        },
                      },
                    ],
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ca",
                  "is_local": true,
                  "location": 165,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 168,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "bpchar",
                        },
                      },
                    ],
                    "typemod": -1,
                    "typmods": [
                      {
                        "A_Const": {
                          "ival": {
                            "ival": 10,
                          },
                          "location": 173,
                        },
                      },
                    ],
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ts",
                  "is_local": true,
                  "location": 181,
                  "typeName": {
                    "location": 184,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "timestamp",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "js",
                  "is_local": true,
                  "location": 196,
                  "typeName": {
                    "location": 199,
                    "names": [
                      {
                        "String": {
                          "sval": "json",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "jsb",
                  "is_local": true,
                  "location": 206,
                  "typeName": {
                    "location": 210,
                    "names": [
                      {
                        "String": {
                          "sval": "jsonb",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "jsa",
                  "is_local": true,
                  "location": 218,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 222,
                    "names": [
                      {
                        "String": {
                          "sval": "json",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "rec",
                  "is_local": true,
                  "location": 231,
                  "typeName": {
                    "location": 235,
                    "names": [
                      {
                        "String": {
                          "sval": "jpop",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "reca",
                  "is_local": true,
                  "location": 242,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 247,
                    "names": [
                      {
                        "String": {
                          "sval": "jpop",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "jsrec",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 445 1`] = `
[
  "CREATE TYPE jsrec_i_not_null AS (
	i	js_int_not_null
)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "i",
                  "is_local": true,
                  "location": 35,
                  "typeName": {
                    "location": 37,
                    "names": [
                      {
                        "String": {
                          "sval": "js_int_not_null",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "jsrec_i_not_null",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 449 1`] = `
[
  "select * from json_populate_record(null::jpop,'{"a":"blurfl","x":43.2}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 35,
                                      },
                                    },
                                    "location": 39,
                                    "typeName": {
                                      "location": 41,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jpop",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 46,
                                    "sval": {
                                      "sval": "{"a":"blurfl","x":43.2}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 459 1`] = `
[
  "select * from json_populate_record(row('x',3,'2012-12-31 15:30:56')::jpop,'{}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "RowExpr": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "location": 39,
                                              "sval": {
                                                "sval": "x",
                                              },
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 3,
                                              },
                                              "location": 43,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "location": 45,
                                              "sval": {
                                                "sval": "2012-12-31 15:30:56",
                                              },
                                            },
                                          },
                                        ],
                                        "location": 35,
                                        "row_format": "COERCE_EXPLICIT_CALL",
                                      },
                                    },
                                    "location": 67,
                                    "typeName": {
                                      "location": 69,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jpop",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 74,
                                    "sval": {
                                      "sval": "{}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 461 1`] = `
[
  "SELECT i FROM json_populate_record(NULL::jsrec_i_not_null, '{"x": 43.2}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 35,
                                      },
                                    },
                                    "location": 39,
                                    "typeName": {
                                      "location": 41,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec_i_not_null",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 59,
                                    "sval": {
                                      "sval": "{"x": 43.2}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "i",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 465 1`] = `
[
  "SELECT ia FROM json_populate_record(NULL::jsrec, '{"ia": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 36,
                                      },
                                    },
                                    "location": 40,
                                    "typeName": {
                                      "location": 42,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 49,
                                    "sval": {
                                      "sval": "{"ia": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 15,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 473 1`] = `
[
  "SELECT ia1 FROM json_populate_record(NULL::jsrec, '{"ia1": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 50,
                                    "sval": {
                                      "sval": "{"ia1": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia1",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 478 1`] = `
[
  "SELECT ia1d FROM json_populate_record(NULL::jsrec, '{"ia1d": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "{"ia1d": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 17,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia1d",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 483 1`] = `
[
  "SELECT ia2 FROM json_populate_record(NULL::jsrec, '{"ia2": [1, "2", null, 4]}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 50,
                                    "sval": {
                                      "sval": "{"ia2": [1, "2", null, 4]}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia2",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 489 1`] = `
[
  "SELECT ia2d FROM json_populate_record(NULL::jsrec, '{"ia2d": [[1, "2"], [null, 4]]}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "{"ia2d": [[1, "2"], [null, 4]]}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 17,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia2d",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 492 1`] = `
[
  "SELECT ia3 FROM json_populate_record(NULL::jsrec, '{"ia3": [1, "2", null, 4]}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 50,
                                    "sval": {
                                      "sval": "{"ia3": [1, "2", null, 4]}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia3",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 499 1`] = `
[
  "SELECT ta FROM json_populate_record(NULL::jsrec, '{"ta": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 36,
                                      },
                                    },
                                    "location": 40,
                                    "typeName": {
                                      "location": 42,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 49,
                                    "sval": {
                                      "sval": "{"ta": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 15,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ta",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 504 1`] = `
[
  "SELECT c FROM json_populate_record(NULL::jsrec, '{"c": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 35,
                                      },
                                    },
                                    "location": 39,
                                    "typeName": {
                                      "location": 41,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 48,
                                    "sval": {
                                      "sval": "{"c": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "c",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 509 1`] = `
[
  "SELECT ca FROM json_populate_record(NULL::jsrec, '{"ca": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 36,
                                      },
                                    },
                                    "location": 40,
                                    "typeName": {
                                      "location": 42,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 49,
                                    "sval": {
                                      "sval": "{"ca": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 15,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ca",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 515 1`] = `
[
  "SELECT js FROM json_populate_record(NULL::jsrec, '{"js": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 36,
                                      },
                                    },
                                    "location": 40,
                                    "typeName": {
                                      "location": 42,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 49,
                                    "sval": {
                                      "sval": "{"js": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 15,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "js",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 523 1`] = `
[
  "SELECT jsb FROM json_populate_record(NULL::jsrec, '{"jsb": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 50,
                                    "sval": {
                                      "sval": "{"jsb": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "jsb",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 531 1`] = `
[
  "SELECT jsa FROM json_populate_record(NULL::jsrec, '{"jsa": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 50,
                                    "sval": {
                                      "sval": "{"jsa": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "jsa",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 536 1`] = `
[
  "SELECT rec FROM json_populate_record(NULL::jsrec, '{"rec": 123}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 50,
                                    "sval": {
                                      "sval": "{"rec": 123}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "rec",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 541 1`] = `
[
  "SELECT reca FROM json_populate_record(NULL::jsrec, '{"reca": 123}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "{"reca": 123}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 17,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "reca",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 547 1`] = `
[
  "SELECT rec FROM json_populate_record(
	row(NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,
		row('x',3,'2012-12-31 15:30:56')::jpop,NULL)::jsrec,
	'{"rec": {"a": "abc", "c": "01.02.2003", "x": 43.2}}'
) q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "RowExpr": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 43,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 48,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 53,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 58,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 63,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 68,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 73,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 78,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 83,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 88,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 93,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 98,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 103,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 108,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 113,
                                            },
                                          },
                                          {
                                            "TypeCast": {
                                              "arg": {
                                                "RowExpr": {
                                                  "args": [
                                                    {
                                                      "A_Const": {
                                                        "location": 125,
                                                        "sval": {
                                                          "sval": "x",
                                                        },
                                                      },
                                                    },
                                                    {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 3,
                                                        },
                                                        "location": 129,
                                                      },
                                                    },
                                                    {
                                                      "A_Const": {
                                                        "location": 131,
                                                        "sval": {
                                                          "sval": "2012-12-31 15:30:56",
                                                        },
                                                      },
                                                    },
                                                  ],
                                                  "location": 121,
                                                  "row_format": "COERCE_EXPLICIT_CALL",
                                                },
                                              },
                                              "location": 153,
                                              "typeName": {
                                                "location": 155,
                                                "names": [
                                                  {
                                                    "String": {
                                                      "sval": "jpop",
                                                    },
                                                  },
                                                ],
                                                "typemod": -1,
                                              },
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 160,
                                            },
                                          },
                                        ],
                                        "location": 39,
                                        "row_format": "COERCE_EXPLICIT_CALL",
                                      },
                                    },
                                    "location": 165,
                                    "typeName": {
                                      "location": 167,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 175,
                                    "sval": {
                                      "sval": "{"rec": {"a": "abc", "c": "01.02.2003", "x": 43.2}}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "rec",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 554 1`] = `
[
  "SELECT json_populate_record(null::record, '{"x": 0, "y": 1}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 28,
                              },
                            },
                            "location": 32,
                            "typeName": {
                              "location": 34,
                              "names": [
                                {
                                  "String": {
                                    "sval": "record",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 42,
                            "sval": {
                              "sval": "{"x": 0, "y": 1}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_populate_record",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 573 1`] = `
[
  "create type jpop2 as (a int, b json, c int, d int)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "a",
                  "is_local": true,
                  "location": 22,
                  "typeName": {
                    "location": 24,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "b",
                  "is_local": true,
                  "location": 29,
                  "typeName": {
                    "location": 31,
                    "names": [
                      {
                        "String": {
                          "sval": "json",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c",
                  "is_local": true,
                  "location": 37,
                  "typeName": {
                    "location": 39,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "d",
                  "is_local": true,
                  "location": 44,
                  "typeName": {
                    "location": 46,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "jpop2",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 576 1`] = `
[
  "select * from json_populate_recordset(null::jpop,'[{"a":"blurfl","x":43.2},{"b":3,"c":"2012-01-20 10:42:53"}]') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jpop",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 49,
                                    "sval": {
                                      "sval": "[{"a":"blurfl","x":43.2},{"b":3,"c":"2012-01-20 10:42:53"}]",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_recordset",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 581 1`] = `
[
  "SELECT json_populate_recordset(null::record, '[{"x": 0, "y": 1}]')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 31,
                              },
                            },
                            "location": 35,
                            "typeName": {
                              "location": 37,
                              "names": [
                                {
                                  "String": {
                                    "sval": "record",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 45,
                            "sval": {
                              "sval": "[{"x": 0, "y": 1}]",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_populate_recordset",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 601 1`] = `
[
  "select * from json_populate_recordset(row(0::int),'[{"a":"1","b":"2"},{"a":"3"}]') q (a text, b text)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 86,
                        "typeName": {
                          "location": 88,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 94,
                        "typeName": {
                          "location": 96,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "RowExpr": {
                                    "args": [
                                      {
                                        "TypeCast": {
                                          "arg": {
                                            "A_Const": {
                                              "ival": {},
                                              "location": 42,
                                            },
                                          },
                                          "location": 43,
                                          "typeName": {
                                            "location": 45,
                                            "names": [
                                              {
                                                "String": {
                                                  "sval": "pg_catalog",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "int4",
                                                },
                                              },
                                            ],
                                            "typemod": -1,
                                          },
                                        },
                                      },
                                    ],
                                    "location": 38,
                                    "row_format": "COERCE_EXPLICIT_CALL",
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 50,
                                    "sval": {
                                      "sval": "[{"a":"1","b":"2"},{"a":"3"}]",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_populate_recordset",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 607 1`] = `
[
  "CREATE TEMP TABLE jspoptest (js json)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "jspoptest",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "js",
                  "is_local": true,
                  "location": 29,
                  "typeName": {
                    "location": 32,
                    "names": [
                      {
                        "String": {
                          "sval": "json",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 609 1`] = `
[
  "INSERT INTO jspoptest
SELECT '{
	"jsa": [1, "2", null, 4],
	"rec": {"a": "abc", "c": "01.02.2003", "x": 43.2},
	"reca": [{"a": "abc", "b": 456}, null, {"c": "01.02.2003", "x": 43.2}]
}'::json
FROM generate_series(1, 3)",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "jspoptest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "fromClause": [
                  {
                    "RangeFunction": {
                      "functions": [
                        {
                          "List": {
                            "items": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 1,
                                        },
                                        "location": 213,
                                      },
                                    },
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 3,
                                        },
                                        "location": 216,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "generate_series",
                                      },
                                    },
                                  ],
                                  "location": 197,
                                },
                              },
                              {},
                            ],
                          },
                        },
                      ],
                    },
                  },
                ],
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "targetList": [
                  {
                    "ResTarget": {
                      "location": 29,
                      "val": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 29,
                              "sval": {
                                "sval": "{
	"jsa": [1, "2", null, 4],
	"rec": {"a": "abc", "c": "01.02.2003", "x": 43.2},
	"reca": [{"a": "abc", "b": 456}, null, {"c": "01.02.2003", "x": 43.2}]
}",
                              },
                            },
                          },
                          "location": 185,
                          "typeName": {
                            "location": 187,
                            "names": [
                              {
                                "String": {
                                  "sval": "json",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 617 1`] = `
[
  "SELECT (json_populate_record(NULL::jsrec, js)).* FROM jspoptest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 54,
                  "relname": "jspoptest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "FuncCall": {
                          "args": [
                            {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "isnull": true,
                                    "location": 29,
                                  },
                                },
                                "location": 33,
                                "typeName": {
                                  "location": 35,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "jsrec",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "js",
                                    },
                                  },
                                ],
                                "location": 42,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "json_populate_record",
                              },
                            },
                          ],
                          "location": 8,
                        },
                      },
                      "indirection": [
                        {
                          "A_Star": {},
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 619 1`] = `
[
  "DROP TYPE jsrec",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "TypeName": {
                  "location": 10,
                  "names": [
                    {
                      "String": {
                        "sval": "jsrec",
                      },
                    },
                  ],
                  "typemod": -1,
                },
              },
            ],
            "removeType": "OBJECT_TYPE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 628 1`] = `
[
  "select value, json_typeof(value)
  from (values (json '123.4'),
               (json '-1'),
               (json '"foo"'),
               (json 'true'),
               (json 'false'),
               (json 'null'),
               (json '[1, 2, 3]'),
               (json '[]'),
               (json '{"x":"foo", "y":123}'),
               (json '{}'),
               (NULL::json))
      as data(value)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "data",
                    "colnames": [
                      {
                        "String": {
                          "sval": "value",
                        },
                      },
                    ],
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "valuesLists": [
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 54,
                                      "sval": {
                                        "sval": "123.4",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 49,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 85,
                                      "sval": {
                                        "sval": "-1",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 80,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 113,
                                      "sval": {
                                        "sval": ""foo"",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 108,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 144,
                                      "sval": {
                                        "sval": "true",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 139,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 174,
                                      "sval": {
                                        "sval": "false",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 169,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 205,
                                      "sval": {
                                        "sval": "null",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 200,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 235,
                                      "sval": {
                                        "sval": "[1, 2, 3]",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 230,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 270,
                                      "sval": {
                                        "sval": "[]",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 265,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 298,
                                      "sval": {
                                        "sval": "{"x":"foo", "y":123}",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 293,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 344,
                                      "sval": {
                                        "sval": "{}",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 339,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                        {
                          "List": {
                            "items": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "isnull": true,
                                      "location": 367,
                                    },
                                  },
                                  "location": 371,
                                  "typeName": {
                                    "location": 373,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "json",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "value",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 14,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "value",
                                },
                              },
                            ],
                            "location": 26,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_typeof",
                          },
                        },
                      ],
                      "location": 14,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 645 1`] = `
[
  " -- ok
SELECT json_build_array(VARIADIC NULL::text[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 14,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 40,
                              },
                            },
                            "location": 44,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 46,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "func_variadic": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_array",
                          },
                        },
                      ],
                      "location": 14,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 648 1`] = `
[
  " -- ok
SELECT json_build_array(VARIADIC ARRAY['a', NULL]::text[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 14,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "location": 46,
                                      "sval": {
                                        "sval": "a",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "isnull": true,
                                      "location": 51,
                                    },
                                  },
                                ],
                                "location": 40,
                              },
                            },
                            "location": 56,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 58,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "func_variadic": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_array",
                          },
                        },
                      ],
                      "location": 14,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 652 1`] = `
[
  " -- ok

SELECT json_build_object('a',1,'b',1.2,'c',true,'d',null,'e',json '{"x": 3, "y": [1,2,3]}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 33,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 37,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 39,
                            "sval": {
                              "sval": "b",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "fval": {
                              "fval": "1.2",
                            },
                            "location": 43,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 47,
                            "sval": {
                              "sval": "c",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "boolval": {
                              "boolval": true,
                            },
                            "location": 51,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 56,
                            "sval": {
                              "sval": "d",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "isnull": true,
                            "location": 60,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 65,
                            "sval": {
                              "sval": "e",
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 74,
                                "sval": {
                                  "sval": "{"x": 3, "y": [1,2,3]}",
                                },
                              },
                            },
                            "location": -1,
                            "typeName": {
                              "location": 69,
                              "names": [
                                {
                                  "String": {
                                    "sval": "json",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_object",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 656 1`] = `
[
  "SELECT json_build_object(
       'a', json_build_object('b',false,'c',99),
       'd', json_build_object('e',array[9,8,7]::int[],
           'f', (select row_to_json(r) from ( select relkind, oid::regclass as name from pg_class where relname = 'pg_class') r)))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 33,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "A_Const": {
                                  "location": 56,
                                  "sval": {
                                    "sval": "b",
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "boolval": {},
                                  "location": 60,
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 66,
                                  "sval": {
                                    "sval": "c",
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 99,
                                  },
                                  "location": 70,
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "json_build_object",
                                },
                              },
                            ],
                            "location": 38,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 82,
                            "sval": {
                              "sval": "d",
                            },
                          },
                        },
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "A_Const": {
                                  "location": 105,
                                  "sval": {
                                    "sval": "e",
                                  },
                                },
                              },
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_ArrayExpr": {
                                      "elements": [
                                        {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 9,
                                            },
                                            "location": 115,
                                          },
                                        },
                                        {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 8,
                                            },
                                            "location": 117,
                                          },
                                        },
                                        {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 7,
                                            },
                                            "location": 119,
                                          },
                                        },
                                      ],
                                      "location": 109,
                                    },
                                  },
                                  "location": 121,
                                  "typeName": {
                                    "arrayBounds": [
                                      {
                                        "Integer": {},
                                      },
                                    ],
                                    "location": 123,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "pg_catalog",
                                        },
                                      },
                                      {
                                        "String": {
                                          "sval": "int4",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 141,
                                  "sval": {
                                    "sval": "f",
                                  },
                                },
                              },
                              {
                                "SubLink": {
                                  "location": 146,
                                  "subLinkType": "EXPR_SUBLINK",
                                  "subselect": {
                                    "SelectStmt": {
                                      "fromClause": [
                                        {
                                          "RangeSubselect": {
                                            "alias": {
                                              "aliasname": "r",
                                            },
                                            "subquery": {
                                              "SelectStmt": {
                                                "fromClause": [
                                                  {
                                                    "RangeVar": {
                                                      "inh": true,
                                                      "location": 219,
                                                      "relname": "pg_class",
                                                      "relpersistence": "p",
                                                    },
                                                  },
                                                ],
                                                "limitOption": "LIMIT_OPTION_DEFAULT",
                                                "op": "SETOP_NONE",
                                                "targetList": [
                                                  {
                                                    "ResTarget": {
                                                      "location": 183,
                                                      "val": {
                                                        "ColumnRef": {
                                                          "fields": [
                                                            {
                                                              "String": {
                                                                "sval": "relkind",
                                                              },
                                                            },
                                                          ],
                                                          "location": 183,
                                                        },
                                                      },
                                                    },
                                                  },
                                                  {
                                                    "ResTarget": {
                                                      "location": 192,
                                                      "name": "name",
                                                      "val": {
                                                        "TypeCast": {
                                                          "arg": {
                                                            "ColumnRef": {
                                                              "fields": [
                                                                {
                                                                  "String": {
                                                                    "sval": "oid",
                                                                  },
                                                                },
                                                              ],
                                                              "location": 192,
                                                            },
                                                          },
                                                          "location": 195,
                                                          "typeName": {
                                                            "location": 197,
                                                            "names": [
                                                              {
                                                                "String": {
                                                                  "sval": "regclass",
                                                                },
                                                              },
                                                            ],
                                                            "typemod": -1,
                                                          },
                                                        },
                                                      },
                                                    },
                                                  },
                                                ],
                                                "whereClause": {
                                                  "A_Expr": {
                                                    "kind": "AEXPR_OP",
                                                    "lexpr": {
                                                      "ColumnRef": {
                                                        "fields": [
                                                          {
                                                            "String": {
                                                              "sval": "relname",
                                                            },
                                                          },
                                                        ],
                                                        "location": 234,
                                                      },
                                                    },
                                                    "location": 242,
                                                    "name": [
                                                      {
                                                        "String": {
                                                          "sval": "=",
                                                        },
                                                      },
                                                    ],
                                                    "rexpr": {
                                                      "A_Const": {
                                                        "location": 244,
                                                        "sval": {
                                                          "sval": "pg_class",
                                                        },
                                                      },
                                                    },
                                                  },
                                                },
                                              },
                                            },
                                          },
                                        },
                                      ],
                                      "limitOption": "LIMIT_OPTION_DEFAULT",
                                      "op": "SETOP_NONE",
                                      "targetList": [
                                        {
                                          "ResTarget": {
                                            "location": 154,
                                            "val": {
                                              "FuncCall": {
                                                "args": [
                                                  {
                                                    "ColumnRef": {
                                                      "fields": [
                                                        {
                                                          "String": {
                                                            "sval": "r",
                                                          },
                                                        },
                                                      ],
                                                      "location": 166,
                                                    },
                                                  },
                                                ],
                                                "funcformat": "COERCE_EXPLICIT_CALL",
                                                "funcname": [
                                                  {
                                                    "String": {
                                                      "sval": "row_to_json",
                                                    },
                                                  },
                                                ],
                                                "location": 154,
                                              },
                                            },
                                          },
                                        },
                                      ],
                                    },
                                  },
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "json_build_object",
                                },
                              },
                            ],
                            "location": 87,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_object",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 664 1`] = `
[
  " -- ok
SELECT json_build_object(VARIADIC NULL::text[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 14,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 41,
                              },
                            },
                            "location": 45,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 47,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "func_variadic": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_object",
                          },
                        },
                      ],
                      "location": 14,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 667 1`] = `
[
  " -- error
SELECT json_build_object(VARIADIC ARRAY['a', NULL]::text[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 17,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "location": 50,
                                      "sval": {
                                        "sval": "a",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "isnull": true,
                                      "location": 55,
                                    },
                                  },
                                ],
                                "location": 44,
                              },
                            },
                            "location": 60,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 62,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "func_variadic": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_object",
                          },
                        },
                      ],
                      "location": 17,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 672 1`] = `
[
  " -- ok

-- empty objects/arrays
SELECT json_build_array()",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 39,
                  "val": {
                    "FuncCall": {
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_array",
                          },
                        },
                      ],
                      "location": 39,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 685 1`] = `
[
  "SELECT json_build_object(r,2) FROM (SELECT 1 AS a, 2 AS b) r",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "r",
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "targetList": [
                        {
                          "ResTarget": {
                            "location": 43,
                            "name": "a",
                            "val": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 43,
                              },
                            },
                          },
                        },
                        {
                          "ResTarget": {
                            "location": 51,
                            "name": "b",
                            "val": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 51,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "r",
                                },
                              },
                            ],
                            "location": 25,
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 27,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_object",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 691 1`] = `
[
  "CREATE TEMP TABLE foo (serial_num int, name text, type text)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "foo",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "serial_num",
                  "is_local": true,
                  "location": 23,
                  "typeName": {
                    "location": 34,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "name",
                  "is_local": true,
                  "location": 39,
                  "typeName": {
                    "location": 44,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "type",
                  "is_local": true,
                  "location": 50,
                  "typeName": {
                    "location": 55,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 696 1`] = `
[
  "SELECT json_build_object('turbines',json_object_agg(serial_num,json_build_object('name',name,'type',type)))
FROM foo",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 113,
                  "relname": "foo",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 25,
                            "sval": {
                              "sval": "turbines",
                            },
                          },
                        },
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "serial_num",
                                      },
                                    },
                                  ],
                                  "location": 52,
                                },
                              },
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "A_Const": {
                                        "location": 81,
                                        "sval": {
                                          "sval": "name",
                                        },
                                      },
                                    },
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "name",
                                            },
                                          },
                                        ],
                                        "location": 88,
                                      },
                                    },
                                    {
                                      "A_Const": {
                                        "location": 93,
                                        "sval": {
                                          "sval": "type",
                                        },
                                      },
                                    },
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "type",
                                            },
                                          },
                                        ],
                                        "location": 100,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "json_build_object",
                                      },
                                    },
                                  ],
                                  "location": 63,
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "json_object_agg",
                                },
                              },
                            ],
                            "location": 36,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_build_object",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 699 1`] = `
[
  "SELECT json_object_agg(name, type) FROM foo",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 40,
                  "relname": "foo",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "name",
                                },
                              },
                            ],
                            "location": 23,
                          },
                        },
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "type",
                                },
                              },
                            ],
                            "location": 29,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_object_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 701 1`] = `
[
  "INSERT INTO foo VALUES (999999, NULL, 'bar')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "foo",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 999999,
                            },
                            "location": 24,
                          },
                        },
                        {
                          "A_Const": {
                            "isnull": true,
                            "location": 32,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 38,
                            "sval": {
                              "sval": "bar",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 707 1`] = `
[
  "SELECT json_object('{}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 19,
                            "sval": {
                              "sval": "{}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "pg_catalog",
                          },
                        },
                        {
                          "String": {
                            "sval": "json_object",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 757 1`] = `
[
  "select * from json_to_recordset('[{"a":1,"b":"foo","d":false},{"a":2,"b":"bar","c":true}]')
    as x(a int, b text, c boolean)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 101,
                        "typeName": {
                          "location": 103,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 108,
                        "typeName": {
                          "location": 110,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "c",
                        "is_local": true,
                        "location": 116,
                        "typeName": {
                          "location": 118,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "bool",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 32,
                                    "sval": {
                                      "sval": "[{"a":1,"b":"foo","d":false},{"a":2,"b":"bar","c":true}]",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_to_recordset",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 760 1`] = `
[
  "select * from json_to_recordset('[{"a":1,"b":{"d":"foo"},"c":true},{"a":2,"c":false,"b":{"d":"bar"}}]')
    as x(a int, b json, c boolean)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 113,
                        "typeName": {
                          "location": 115,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 120,
                        "typeName": {
                          "location": 122,
                          "names": [
                            {
                              "String": {
                                "sval": "json",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "c",
                        "is_local": true,
                        "location": 128,
                        "typeName": {
                          "location": 130,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "bool",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 32,
                                    "sval": {
                                      "sval": "[{"a":1,"b":{"d":"foo"},"c":true},{"a":2,"c":false,"b":{"d":"bar"}}]",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_to_recordset",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 763 1`] = `
[
  "select *, c is null as c_is_null
from json_to_record('{"a":1, "b":{"c":16, "d":2}, "x":8, "ca": ["1 2", 3], "ia": [[1,2],[3,4]], "r": {"a": "aaa", "b": 123}}'::json)
    as t(a int, b json, c text, x int, ca char(5)[], ia int[][], r jpop)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "t",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 175,
                        "typeName": {
                          "location": 177,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 182,
                        "typeName": {
                          "location": 184,
                          "names": [
                            {
                              "String": {
                                "sval": "json",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "c",
                        "is_local": true,
                        "location": 190,
                        "typeName": {
                          "location": 192,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "x",
                        "is_local": true,
                        "location": 198,
                        "typeName": {
                          "location": 200,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "ca",
                        "is_local": true,
                        "location": 205,
                        "typeName": {
                          "arrayBounds": [
                            {
                              "Integer": {},
                            },
                          ],
                          "location": 208,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "bpchar",
                              },
                            },
                          ],
                          "typemod": -1,
                          "typmods": [
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 5,
                                },
                                "location": 213,
                              },
                            },
                          ],
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "ia",
                        "is_local": true,
                        "location": 219,
                        "typeName": {
                          "arrayBounds": [
                            {
                              "Integer": {},
                            },
                            {
                              "Integer": {},
                            },
                          ],
                          "location": 222,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "r",
                        "is_local": true,
                        "location": 231,
                        "typeName": {
                          "location": 233,
                          "names": [
                            {
                              "String": {
                                "sval": "jpop",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "location": 53,
                                        "sval": {
                                          "sval": "{"a":1, "b":{"c":16, "d":2}, "x":8, "ca": ["1 2", 3], "ia": [[1,2],[3,4]], "r": {"a": "aaa", "b": 123}}",
                                        },
                                      },
                                    },
                                    "location": 158,
                                    "typeName": {
                                      "location": 160,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "json",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_to_record",
                                  },
                                },
                              ],
                              "location": 38,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 10,
                  "name": "c_is_null",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 10,
                        },
                      },
                      "location": 12,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 767 1`] = `
[
  "select *, c is null as c_is_null
from json_to_recordset('[{"a":1, "b":{"c":16, "d":2}, "x":8}]'::json)
    as t(a int, b json, c text, x int)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "t",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 112,
                        "typeName": {
                          "location": 114,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 119,
                        "typeName": {
                          "location": 121,
                          "names": [
                            {
                              "String": {
                                "sval": "json",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "c",
                        "is_local": true,
                        "location": 127,
                        "typeName": {
                          "location": 129,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "x",
                        "is_local": true,
                        "location": 135,
                        "typeName": {
                          "location": 137,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "location": 56,
                                        "sval": {
                                          "sval": "[{"a":1, "b":{"c":16, "d":2}, "x":8}]",
                                        },
                                      },
                                    },
                                    "location": 95,
                                    "typeName": {
                                      "location": 97,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "json",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_to_recordset",
                                  },
                                },
                              ],
                              "location": 38,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 10,
                  "name": "c_is_null",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 10,
                        },
                      },
                      "location": 12,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 771 1`] = `
[
  "select * from json_to_record('{"ia": null}') as x(ia _int4)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "ia",
                        "is_local": true,
                        "location": 50,
                        "typeName": {
                          "location": 53,
                          "names": [
                            {
                              "String": {
                                "sval": "_int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 29,
                                    "sval": {
                                      "sval": "{"ia": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_to_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 778 1`] = `
[
  "select * from json_to_record('{"ia2": [1, 2, 3]}') as x(ia2 int[][])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "ia2",
                        "is_local": true,
                        "location": 56,
                        "typeName": {
                          "arrayBounds": [
                            {
                              "Integer": {},
                            },
                            {
                              "Integer": {},
                            },
                          ],
                          "location": 60,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 29,
                                    "sval": {
                                      "sval": "{"ia2": [1, 2, 3]}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_to_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 782 1`] = `
[
  "select * from json_to_record('{"out": {"key": 1}}') as x(out json)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "out",
                        "is_local": true,
                        "location": 57,
                        "typeName": {
                          "location": 61,
                          "names": [
                            {
                              "String": {
                                "sval": "json",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 29,
                                    "sval": {
                                      "sval": "{"out": {"key": 1}}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "json_to_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 793 1`] = `
[
  "select json_strip_nulls('1')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 24,
                            "sval": {
                              "sval": "1",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_strip_nulls",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 809 1`] = `
[
  "select to_tsvector('{"a": "aaa bbb ddd ccc", "b": ["eee fff ggg"], "c": {"d": "hhh iii"}}'::json)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 19,
                                "sval": {
                                  "sval": "{"a": "aaa bbb ddd ccc", "b": ["eee fff ggg"], "c": {"d": "hhh iii"}}",
                                },
                              },
                            },
                            "location": 90,
                            "typeName": {
                              "location": 92,
                              "names": [
                                {
                                  "String": {
                                    "sval": "json",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "to_tsvector",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 821 1`] = `
[
  "select json_to_tsvector('english', '{"a": "aaa in bbb", "b": 123, "c": 456, "d": true, "f": false, "g": null}'::json, '"all"')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 24,
                            "sval": {
                              "sval": "english",
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 35,
                                "sval": {
                                  "sval": "{"a": "aaa in bbb", "b": 123, "c": 456, "d": true, "f": false, "g": null}",
                                },
                              },
                            },
                            "location": 110,
                            "typeName": {
                              "location": 112,
                              "names": [
                                {
                                  "String": {
                                    "sval": "json",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 118,
                            "sval": {
                              "sval": ""all"",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "json_to_tsvector",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`json.sql > line 854 1`] = `
[
  "select ts_headline('{"a": "aaa bbb", "b": {"c": "ccc ddd fff", "c1": "ccc1 ddd1"}, "d": ["ggg hhh", "iii jjj"]}'::json, tsquery('bbb & ddd & hhh'))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 19,
                                "sval": {
                                  "sval": "{"a": "aaa bbb", "b": {"c": "ccc ddd fff", "c1": "ccc1 ddd1"}, "d": ["ggg hhh", "iii jjj"]}",
                                },
                              },
                            },
                            "location": 112,
                            "typeName": {
                              "location": 114,
                              "names": [
                                {
                                  "String": {
                                    "sval": "json",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "A_Const": {
                                  "location": 128,
                                  "sval": {
                                    "sval": "bbb & ddd & hhh",
                                  },
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "tsquery",
                                },
                              },
                            ],
                            "location": 120,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "ts_headline",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;
