// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`jsonb.sql > line 12 1`] = `
[
  "SELECT '""'::jsonb",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Const": {
                          "location": 7,
                          "sval": {
                            "sval": """",
                          },
                        },
                      },
                      "location": 11,
                      "typeName": {
                        "location": 13,
                        "names": [
                          {
                            "String": {
                              "sval": "jsonb",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 52 1`] = `
[
  "		-- ERROR, no value

-- Recursion.
SET max_stack_depth = '100kB'",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "args": [
              {
                "A_Const": {
                  "location": 58,
                  "sval": {
                    "sval": "100kB",
                  },
                },
              },
            ],
            "kind": "VAR_SET_VALUE",
            "name": "max_stack_depth",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 90 1`] = `
[
  "select pg_input_is_valid('{"a":true}', 'jsonb')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 25,
                            "sval": {
                              "sval": "{"a":true}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 39,
                            "sval": {
                              "sval": "jsonb",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "pg_input_is_valid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 96 1`] = `
[
  "SELECT array_to_json(ARRAY [jsonb '{"a":1}', jsonb '{"b":[2,3]}'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 34,
                                      "sval": {
                                        "sval": "{"a":1}",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 28,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "jsonb",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_Const": {
                                      "location": 51,
                                      "sval": {
                                        "sval": "{"b":[2,3]}",
                                      },
                                    },
                                  },
                                  "location": -1,
                                  "typeName": {
                                    "location": 45,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "jsonb",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                            ],
                            "location": 21,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "array_to_json",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 101 1`] = `
[
  "SELECT x, 'txt' || x as y
FROM generate_series(1,3) AS x",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 1,
                                    },
                                    "location": 47,
                                  },
                                },
                                {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 3,
                                    },
                                    "location": 49,
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "generate_series",
                                  },
                                },
                              ],
                              "location": 31,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "x",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 10,
                  "name": "y",
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "A_Const": {
                          "location": 10,
                          "sval": {
                            "sval": "txt",
                          },
                        },
                      },
                      "location": 16,
                      "name": [
                        {
                          "String": {
                            "sval": "||",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "x",
                              },
                            },
                          ],
                          "location": 19,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 104 1`] = `
[
  "analyze rows",
  {
    "stmts": [
      {
        "stmt": {
          "VacuumStmt": {
            "rels": [
              {
                "VacuumRelation": {
                  "relation": {
                    "inh": true,
                    "location": 8,
                    "relname": "rows",
                    "relpersistence": "p",
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 106 1`] = `
[
  "select attname, to_jsonb(histogram_bounds) histogram_bounds
from pg_stats
where tablename = 'rows' and
      schemaname = pg_my_temp_schema()::regnamespace::text
order by 1",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 65,
                  "relname": "pg_stats",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 171,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "attname",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 16,
                  "name": "histogram_bounds",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "histogram_bounds",
                                },
                              },
                            ],
                            "location": 25,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "to_jsonb",
                          },
                        },
                      ],
                      "location": 16,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "tablename",
                              },
                            },
                          ],
                          "location": 80,
                        },
                      },
                      "location": 90,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 92,
                          "sval": {
                            "sval": "rows",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "schemaname",
                              },
                            },
                          ],
                          "location": 109,
                        },
                      },
                      "location": 120,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "TypeCast": {
                              "arg": {
                                "FuncCall": {
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "pg_my_temp_schema",
                                      },
                                    },
                                  ],
                                  "location": 122,
                                },
                              },
                              "location": 141,
                              "typeName": {
                                "location": 143,
                                "names": [
                                  {
                                    "String": {
                                      "sval": "regnamespace",
                                    },
                                  },
                                ],
                                "typemod": -1,
                              },
                            },
                          },
                          "location": 155,
                          "typeName": {
                            "location": 157,
                            "names": [
                              {
                                "String": {
                                  "sval": "text",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 99,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 116 1`] = `
[
  "BEGIN",
  {
    "stmts": [
      {
        "stmt": {
          "TransactionStmt": {
            "kind": "TRANS_STMT_BEGIN",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 123 1`] = `
[
  "select to_jsonb(date '2014-05-28')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 21,
                                "sval": {
                                  "sval": "2014-05-28",
                                },
                              },
                            },
                            "location": -1,
                            "typeName": {
                              "location": 16,
                              "names": [
                                {
                                  "String": {
                                    "sval": "date",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "to_jsonb",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 141 1`] = `
[
  "SELECT jsonb_agg(q ORDER BY x, y)
  FROM rows q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "inh": true,
                  "location": 41,
                  "relname": "rows",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_order": [
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "x",
                                    },
                                  },
                                ],
                                "location": 28,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                          },
                        },
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "y",
                                    },
                                  },
                                ],
                                "location": 31,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                          },
                        },
                      ],
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "q",
                                },
                              },
                            ],
                            "location": 17,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 144 1`] = `
[
  "UPDATE rows SET x = NULL WHERE x = 1",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "rows",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "location": 16,
                  "name": "x",
                  "val": {
                    "A_Const": {
                      "isnull": true,
                      "location": 20,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "x",
                        },
                      },
                    ],
                    "location": 31,
                  },
                },
                "location": 33,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "ival": {
                      "ival": 1,
                    },
                    "location": 35,
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 146 1`] = `
[
  "SELECT jsonb_agg(q ORDER BY x NULLS FIRST, y)
  FROM rows q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "inh": true,
                  "location": 53,
                  "relname": "rows",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_order": [
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "x",
                                    },
                                  },
                                ],
                                "location": 28,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_FIRST",
                          },
                        },
                        {
                          "SortBy": {
                            "location": -1,
                            "node": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "y",
                                    },
                                  },
                                ],
                                "location": 43,
                              },
                            },
                            "sortby_dir": "SORTBY_DEFAULT",
                            "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                          },
                        },
                      ],
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "q",
                                },
                              },
                            ],
                            "location": 17,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 150 1`] = `
[
  "CREATE TEMP TABLE test_jsonb (
       json_type text,
       test_json jsonb
)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "test_jsonb",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "json_type",
                  "is_local": true,
                  "location": 38,
                  "typeName": {
                    "location": 48,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "test_json",
                  "is_local": true,
                  "location": 61,
                  "typeName": {
                    "location": 71,
                    "names": [
                      {
                        "String": {
                          "sval": "jsonb",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 155 1`] = `
[
  "INSERT INTO test_jsonb VALUES
('scalar','"a scalar"'),
('array','["zero", "one","two",null,"four","five", [1,2,3],{"f1":9}]'),
('object','{"field1":"val1","field2":"val2","field3":null, "field4": 4, "field5": [1,2,3], "field6": {"f1":9}}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "test_jsonb",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 31,
                            "sval": {
                              "sval": "scalar",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 40,
                            "sval": {
                              "sval": ""a scalar"",
                            },
                          },
                        },
                      ],
                    },
                  },
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 56,
                            "sval": {
                              "sval": "array",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 64,
                            "sval": {
                              "sval": "["zero", "one","two",null,"four","five", [1,2,3],{"f1":9}]",
                            },
                          },
                        },
                      ],
                    },
                  },
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "location": 128,
                            "sval": {
                              "sval": "object",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 137,
                            "sval": {
                              "sval": "{"field1":"val1","field2":"val2","field3":null, "field4": 4, "field5": [1,2,3], "field6": {"f1":9}}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 160 1`] = `
[
  "SELECT test_json -> 'x' FROM test_jsonb WHERE json_type = 'scalar'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 29,
                  "relname": "test_jsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "test_json",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 17,
                      "name": [
                        {
                          "String": {
                            "sval": "->",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 20,
                          "sval": {
                            "sval": "x",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 46,
                  },
                },
                "location": 56,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 58,
                    "sval": {
                      "sval": "scalar",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 165 1`] = `
[
  "SELECT test_json ->> 'field2' FROM test_jsonb WHERE json_type = 'scalar'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 35,
                  "relname": "test_jsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "test_json",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 17,
                      "name": [
                        {
                          "String": {
                            "sval": "->>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 21,
                          "sval": {
                            "sval": "field2",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 52,
                  },
                },
                "location": 62,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 64,
                    "sval": {
                      "sval": "scalar",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 185 1`] = `
[
  "SELECT jsonb_object_keys(test_json) FROM test_jsonb WHERE json_type = 'scalar'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 41,
                  "relname": "test_jsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "test_json",
                                },
                              },
                            ],
                            "location": 25,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_object_keys",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 58,
                  },
                },
                "location": 68,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 70,
                    "sval": {
                      "sval": "scalar",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 190 1`] = `
[
  "SELECT (test_json->'field3') IS NULL AS expect_false FROM test_jsonb WHERE json_type = 'object'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 58,
                  "relname": "test_jsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "expect_false",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "test_json",
                                  },
                                },
                              ],
                              "location": 8,
                            },
                          },
                          "location": 17,
                          "name": [
                            {
                              "String": {
                                "sval": "->",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "location": 19,
                              "sval": {
                                "sval": "field3",
                              },
                            },
                          },
                        },
                      },
                      "location": 29,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "json_type",
                        },
                      },
                    ],
                    "location": 75,
                  },
                },
                "location": 85,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 87,
                    "sval": {
                      "sval": "object",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 196 1`] = `
[
  "select '{"a": [{"b": "c"}, {"b": "cc"}]}'::jsonb -> null::text",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"a": [{"b": "c"}, {"b": "cc"}]}",
                              },
                            },
                          },
                          "location": 41,
                          "typeName": {
                            "location": 43,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 49,
                      "name": [
                        {
                          "String": {
                            "sval": "->",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "isnull": true,
                              "location": 52,
                            },
                          },
                          "location": 56,
                          "typeName": {
                            "location": 58,
                            "names": [
                              {
                                "String": {
                                  "sval": "text",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 208 1`] = `
[
  "select '{"a": [{"b": "c"}, {"b": "cc"}]}'::jsonb ->> null::text",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"a": [{"b": "c"}, {"b": "cc"}]}",
                              },
                            },
                          },
                          "location": 41,
                          "typeName": {
                            "location": 43,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 49,
                      "name": [
                        {
                          "String": {
                            "sval": "->>",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "isnull": true,
                              "location": 53,
                            },
                          },
                          "location": 57,
                          "typeName": {
                            "location": 59,
                            "names": [
                              {
                                "String": {
                                  "sval": "text",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 221 1`] = `
[
  "SELECT '{"x":"y"}'::jsonb = '{"x":"y"}'::jsonb",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"x":"y"}",
                              },
                            },
                          },
                          "location": 18,
                          "typeName": {
                            "location": 20,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 26,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 28,
                              "sval": {
                                "sval": "{"x":"y"}",
                              },
                            },
                          },
                          "location": 39,
                          "typeName": {
                            "location": 41,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 224 1`] = `
[
  "SELECT '{"x":"y"}'::jsonb <> '{"x":"y"}'::jsonb",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"x":"y"}",
                              },
                            },
                          },
                          "location": 18,
                          "typeName": {
                            "location": 20,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 26,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 29,
                              "sval": {
                                "sval": "{"x":"y"}",
                              },
                            },
                          },
                          "location": 40,
                          "typeName": {
                            "location": 42,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 228 1`] = `
[
  "SELECT jsonb_contains('{"a":"b", "b":1, "c":null}', '{"a":"b"}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 22,
                            "sval": {
                              "sval": "{"a":"b", "b":1, "c":null}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 52,
                            "sval": {
                              "sval": "{"a":"b"}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_contains",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 243 1`] = `
[
  "SELECT '[1,2]'::jsonb @> '[1,2,2]'::jsonb",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "[1,2]",
                              },
                            },
                          },
                          "location": 14,
                          "typeName": {
                            "location": 16,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 22,
                      "name": [
                        {
                          "String": {
                            "sval": "@>",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 25,
                              "sval": {
                                "sval": "[1,2,2]",
                              },
                            },
                          },
                          "location": 34,
                          "typeName": {
                            "location": 36,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 250 1`] = `
[
  "SELECT jsonb_contained('{"a":"b"}', '{"a":"b", "b":1, "c":null}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 23,
                            "sval": {
                              "sval": "{"a":"b"}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 36,
                            "sval": {
                              "sval": "{"a":"b", "b":1, "c":null}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_contained",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 277 1`] = `
[
  "SELECT jsonb_array_length('[1,2,3,{"f1":1,"f2":[5,6]},4]')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 26,
                            "sval": {
                              "sval": "[1,2,3,{"f1":1,"f2":[5,6]},4]",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_array_length",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 283 1`] = `
[
  "SELECT jsonb_each('{"f1":[1,2,3],"f2":{"f3":1},"f4":null}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 18,
                            "sval": {
                              "sval": "{"f1":[1,2,3],"f2":{"f3":1},"f4":null}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_each",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 288 1`] = `
[
  "SELECT jsonb_each_text('{"f1":[1,2,3],"f2":{"f3":1},"f4":null,"f5":"null"}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 23,
                            "sval": {
                              "sval": "{"f1":[1,2,3],"f2":{"f3":1},"f4":null,"f5":"null"}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_each_text",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 294 1`] = `
[
  "SELECT jsonb_exists('{"a":null, "b":"qq"}', 'a')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 20,
                            "sval": {
                              "sval": "{"a":null, "b":"qq"}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 44,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_exists",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 303 1`] = `
[
  "SELECT count(*) from testjsonb  WHERE j->'array' ? 'bar'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 21,
                  "relname": "testjsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_star": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "count",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "A_Expr": {
                    "kind": "AEXPR_OP",
                    "lexpr": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "j",
                            },
                          },
                        ],
                        "location": 38,
                      },
                    },
                    "location": 39,
                    "name": [
                      {
                        "String": {
                          "sval": "->",
                        },
                      },
                    ],
                    "rexpr": {
                      "A_Const": {
                        "location": 41,
                        "sval": {
                          "sval": "array",
                        },
                      },
                    },
                  },
                },
                "location": 49,
                "name": [
                  {
                    "String": {
                      "sval": "?",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 51,
                    "sval": {
                      "sval": "bar",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 308 1`] = `
[
  "SELECT count(*) from testjsonb  WHERE j->'array' @> '5'::jsonb",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 21,
                  "relname": "testjsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_star": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "count",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "A_Expr": {
                    "kind": "AEXPR_OP",
                    "lexpr": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "j",
                            },
                          },
                        ],
                        "location": 38,
                      },
                    },
                    "location": 39,
                    "name": [
                      {
                        "String": {
                          "sval": "->",
                        },
                      },
                    ],
                    "rexpr": {
                      "A_Const": {
                        "location": 41,
                        "sval": {
                          "sval": "array",
                        },
                      },
                    },
                  },
                },
                "location": 49,
                "name": [
                  {
                    "String": {
                      "sval": "@>",
                    },
                  },
                ],
                "rexpr": {
                  "TypeCast": {
                    "arg": {
                      "A_Const": {
                        "location": 52,
                        "sval": {
                          "sval": "5",
                        },
                      },
                    },
                    "location": 55,
                    "typeName": {
                      "location": 57,
                      "names": [
                        {
                          "String": {
                            "sval": "jsonb",
                          },
                        },
                      ],
                      "typemod": -1,
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 310 1`] = `
[
  "SELECT jsonb_exists_any('{"a":null, "b":"qq"}', ARRAY['a','b'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 24,
                            "sval": {
                              "sval": "{"a":null, "b":"qq"}",
                            },
                          },
                        },
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "location": 54,
                                  "sval": {
                                    "sval": "a",
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 58,
                                  "sval": {
                                    "sval": "b",
                                  },
                                },
                              },
                            ],
                            "location": 48,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_exists_any",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 321 1`] = `
[
  "SELECT jsonb_exists_all('{"a":null, "b":"qq"}', ARRAY['a','b'])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 24,
                            "sval": {
                              "sval": "{"a":null, "b":"qq"}",
                            },
                          },
                        },
                        {
                          "A_ArrayExpr": {
                            "elements": [
                              {
                                "A_Const": {
                                  "location": 54,
                                  "sval": {
                                    "sval": "a",
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 58,
                                  "sval": {
                                    "sval": "b",
                                  },
                                },
                              },
                            ],
                            "location": 48,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_exists_all",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 334 1`] = `
[
  "SELECT jsonb_typeof('{}') AS object",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "object",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 20,
                            "sval": {
                              "sval": "{}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_typeof",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 353 1`] = `
[
  " -- ok
SELECT jsonb_build_array(VARIADIC NULL::text[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 14,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 41,
                              },
                            },
                            "location": 45,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 47,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "func_variadic": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_array",
                          },
                        },
                      ],
                      "location": 14,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 356 1`] = `
[
  " -- ok
SELECT jsonb_build_array(VARIADIC ARRAY['a', NULL]::text[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 14,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "location": 47,
                                      "sval": {
                                        "sval": "a",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "isnull": true,
                                      "location": 52,
                                    },
                                  },
                                ],
                                "location": 41,
                              },
                            },
                            "location": 57,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 59,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "func_variadic": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_array",
                          },
                        },
                      ],
                      "location": 14,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 360 1`] = `
[
  " -- ok

SELECT jsonb_build_object('a',1,'b',1.2,'c',true,'d',null,'e',json '{"x": 3, "y": [1,2,3]}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 34,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 38,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 40,
                            "sval": {
                              "sval": "b",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "fval": {
                              "fval": "1.2",
                            },
                            "location": 44,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 48,
                            "sval": {
                              "sval": "c",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "boolval": {
                              "boolval": true,
                            },
                            "location": 52,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 57,
                            "sval": {
                              "sval": "d",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "isnull": true,
                            "location": 61,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 66,
                            "sval": {
                              "sval": "e",
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 75,
                                "sval": {
                                  "sval": "{"x": 3, "y": [1,2,3]}",
                                },
                              },
                            },
                            "location": -1,
                            "typeName": {
                              "location": 70,
                              "names": [
                                {
                                  "String": {
                                    "sval": "json",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_object",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 364 1`] = `
[
  "SELECT jsonb_build_object(
       'a', jsonb_build_object('b',false,'c',99),
       'd', jsonb_build_object('e',array[9,8,7]::int[],
           'f', (select row_to_json(r) from ( select relkind, oid::regclass as name from pg_class where relname = 'pg_class') r)))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 34,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "A_Const": {
                                  "location": 58,
                                  "sval": {
                                    "sval": "b",
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "boolval": {},
                                  "location": 62,
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 68,
                                  "sval": {
                                    "sval": "c",
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "ival": {
                                    "ival": 99,
                                  },
                                  "location": 72,
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "jsonb_build_object",
                                },
                              },
                            ],
                            "location": 39,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 84,
                            "sval": {
                              "sval": "d",
                            },
                          },
                        },
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "A_Const": {
                                  "location": 108,
                                  "sval": {
                                    "sval": "e",
                                  },
                                },
                              },
                              {
                                "TypeCast": {
                                  "arg": {
                                    "A_ArrayExpr": {
                                      "elements": [
                                        {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 9,
                                            },
                                            "location": 118,
                                          },
                                        },
                                        {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 8,
                                            },
                                            "location": 120,
                                          },
                                        },
                                        {
                                          "A_Const": {
                                            "ival": {
                                              "ival": 7,
                                            },
                                            "location": 122,
                                          },
                                        },
                                      ],
                                      "location": 112,
                                    },
                                  },
                                  "location": 124,
                                  "typeName": {
                                    "arrayBounds": [
                                      {
                                        "Integer": {},
                                      },
                                    ],
                                    "location": 126,
                                    "names": [
                                      {
                                        "String": {
                                          "sval": "pg_catalog",
                                        },
                                      },
                                      {
                                        "String": {
                                          "sval": "int4",
                                        },
                                      },
                                    ],
                                    "typemod": -1,
                                  },
                                },
                              },
                              {
                                "A_Const": {
                                  "location": 144,
                                  "sval": {
                                    "sval": "f",
                                  },
                                },
                              },
                              {
                                "SubLink": {
                                  "location": 149,
                                  "subLinkType": "EXPR_SUBLINK",
                                  "subselect": {
                                    "SelectStmt": {
                                      "fromClause": [
                                        {
                                          "RangeSubselect": {
                                            "alias": {
                                              "aliasname": "r",
                                            },
                                            "subquery": {
                                              "SelectStmt": {
                                                "fromClause": [
                                                  {
                                                    "RangeVar": {
                                                      "inh": true,
                                                      "location": 222,
                                                      "relname": "pg_class",
                                                      "relpersistence": "p",
                                                    },
                                                  },
                                                ],
                                                "limitOption": "LIMIT_OPTION_DEFAULT",
                                                "op": "SETOP_NONE",
                                                "targetList": [
                                                  {
                                                    "ResTarget": {
                                                      "location": 186,
                                                      "val": {
                                                        "ColumnRef": {
                                                          "fields": [
                                                            {
                                                              "String": {
                                                                "sval": "relkind",
                                                              },
                                                            },
                                                          ],
                                                          "location": 186,
                                                        },
                                                      },
                                                    },
                                                  },
                                                  {
                                                    "ResTarget": {
                                                      "location": 195,
                                                      "name": "name",
                                                      "val": {
                                                        "TypeCast": {
                                                          "arg": {
                                                            "ColumnRef": {
                                                              "fields": [
                                                                {
                                                                  "String": {
                                                                    "sval": "oid",
                                                                  },
                                                                },
                                                              ],
                                                              "location": 195,
                                                            },
                                                          },
                                                          "location": 198,
                                                          "typeName": {
                                                            "location": 200,
                                                            "names": [
                                                              {
                                                                "String": {
                                                                  "sval": "regclass",
                                                                },
                                                              },
                                                            ],
                                                            "typemod": -1,
                                                          },
                                                        },
                                                      },
                                                    },
                                                  },
                                                ],
                                                "whereClause": {
                                                  "A_Expr": {
                                                    "kind": "AEXPR_OP",
                                                    "lexpr": {
                                                      "ColumnRef": {
                                                        "fields": [
                                                          {
                                                            "String": {
                                                              "sval": "relname",
                                                            },
                                                          },
                                                        ],
                                                        "location": 237,
                                                      },
                                                    },
                                                    "location": 245,
                                                    "name": [
                                                      {
                                                        "String": {
                                                          "sval": "=",
                                                        },
                                                      },
                                                    ],
                                                    "rexpr": {
                                                      "A_Const": {
                                                        "location": 247,
                                                        "sval": {
                                                          "sval": "pg_class",
                                                        },
                                                      },
                                                    },
                                                  },
                                                },
                                              },
                                            },
                                          },
                                        },
                                      ],
                                      "limitOption": "LIMIT_OPTION_DEFAULT",
                                      "op": "SETOP_NONE",
                                      "targetList": [
                                        {
                                          "ResTarget": {
                                            "location": 157,
                                            "val": {
                                              "FuncCall": {
                                                "args": [
                                                  {
                                                    "ColumnRef": {
                                                      "fields": [
                                                        {
                                                          "String": {
                                                            "sval": "r",
                                                          },
                                                        },
                                                      ],
                                                      "location": 169,
                                                    },
                                                  },
                                                ],
                                                "funcformat": "COERCE_EXPLICIT_CALL",
                                                "funcname": [
                                                  {
                                                    "String": {
                                                      "sval": "row_to_json",
                                                    },
                                                  },
                                                ],
                                                "location": 157,
                                              },
                                            },
                                          },
                                        },
                                      ],
                                    },
                                  },
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "jsonb_build_object",
                                },
                              },
                            ],
                            "location": 89,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_object",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 372 1`] = `
[
  " -- ok
SELECT jsonb_build_object(VARIADIC NULL::text[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 14,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 42,
                              },
                            },
                            "location": 46,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 48,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "func_variadic": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_object",
                          },
                        },
                      ],
                      "location": 14,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 375 1`] = `
[
  " -- error
SELECT jsonb_build_object(VARIADIC ARRAY['a', NULL]::text[])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 17,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_ArrayExpr": {
                                "elements": [
                                  {
                                    "A_Const": {
                                      "location": 51,
                                      "sval": {
                                        "sval": "a",
                                      },
                                    },
                                  },
                                  {
                                    "A_Const": {
                                      "isnull": true,
                                      "location": 56,
                                    },
                                  },
                                ],
                                "location": 45,
                              },
                            },
                            "location": 61,
                            "typeName": {
                              "arrayBounds": [
                                {
                                  "Integer": {},
                                },
                              ],
                              "location": 63,
                              "names": [
                                {
                                  "String": {
                                    "sval": "text",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "func_variadic": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_object",
                          },
                        },
                      ],
                      "location": 17,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 380 1`] = `
[
  " -- ok

-- empty objects/arrays
SELECT jsonb_build_array()",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 39,
                  "val": {
                    "FuncCall": {
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_array",
                          },
                        },
                      ],
                      "location": 39,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 393 1`] = `
[
  "SELECT jsonb_build_object(r,2) FROM (SELECT 1 AS a, 2 AS b) r",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "r",
                  },
                  "subquery": {
                    "SelectStmt": {
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "targetList": [
                        {
                          "ResTarget": {
                            "location": 44,
                            "name": "a",
                            "val": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 44,
                              },
                            },
                          },
                        },
                        {
                          "ResTarget": {
                            "location": 52,
                            "name": "b",
                            "val": {
                              "A_Const": {
                                "ival": {
                                  "ival": 2,
                                },
                                "location": 52,
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "r",
                                },
                              },
                            ],
                            "location": 26,
                          },
                        },
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 28,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_object",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 400 1`] = `
[
  "SELECT jsonb_object_agg(1, NULL::jsonb)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 24,
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 27,
                              },
                            },
                            "location": 31,
                            "typeName": {
                              "location": 33,
                              "names": [
                                {
                                  "String": {
                                    "sval": "jsonb",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_object_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 403 1`] = `
[
  "CREATE TEMP TABLE foo (serial_num int, name text, type text)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "foo",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "serial_num",
                  "is_local": true,
                  "location": 23,
                  "typeName": {
                    "location": 34,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "name",
                  "is_local": true,
                  "location": 39,
                  "typeName": {
                    "location": 44,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "type",
                  "is_local": true,
                  "location": 50,
                  "typeName": {
                    "location": 55,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 408 1`] = `
[
  "SELECT jsonb_build_object('turbines',jsonb_object_agg(serial_num,jsonb_build_object('name',name,'type',type)))
FROM foo",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 116,
                  "relname": "foo",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 26,
                            "sval": {
                              "sval": "turbines",
                            },
                          },
                        },
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "serial_num",
                                      },
                                    },
                                  ],
                                  "location": 54,
                                },
                              },
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "A_Const": {
                                        "location": 84,
                                        "sval": {
                                          "sval": "name",
                                        },
                                      },
                                    },
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "name",
                                            },
                                          },
                                        ],
                                        "location": 91,
                                      },
                                    },
                                    {
                                      "A_Const": {
                                        "location": 96,
                                        "sval": {
                                          "sval": "type",
                                        },
                                      },
                                    },
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "type",
                                            },
                                          },
                                        ],
                                        "location": 103,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "jsonb_build_object",
                                      },
                                    },
                                  ],
                                  "location": 65,
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "jsonb_object_agg",
                                },
                              },
                            ],
                            "location": 37,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_build_object",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 411 1`] = `
[
  "SELECT jsonb_object_agg(name, type) FROM foo",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 41,
                  "relname": "foo",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "name",
                                },
                              },
                            ],
                            "location": 24,
                          },
                        },
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "type",
                                },
                              },
                            ],
                            "location": 30,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_object_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 413 1`] = `
[
  "INSERT INTO foo VALUES (999999, NULL, 'bar')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "foo",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 999999,
                            },
                            "location": 24,
                          },
                        },
                        {
                          "A_Const": {
                            "isnull": true,
                            "location": 32,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 38,
                            "sval": {
                              "sval": "bar",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 417 1`] = `
[
  "SELECT jsonb_object_agg(DISTINCT 'a', 'abc')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_distinct": true,
                      "args": [
                        {
                          "A_Const": {
                            "location": 33,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 38,
                            "sval": {
                              "sval": "abc",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_object_agg",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 422 1`] = `
[
  "SELECT jsonb_object('{}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 20,
                            "sval": {
                              "sval": "{}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_object",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 469 1`] = `
[
  "SELECT jsonb_extract_path('{"f2":{"f3":1},"f4":{"f5":99,"f6":"stringy"}}','f4','f6')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 26,
                            "sval": {
                              "sval": "{"f2":{"f3":1},"f4":{"f5":99,"f6":"stringy"}}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 74,
                            "sval": {
                              "sval": "f4",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 79,
                            "sval": {
                              "sval": "f6",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_extract_path",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 479 1`] = `
[
  "SELECT jsonb_extract_path('{"f2":{"f3":1},"f4":{"f5":null,"f6":"stringy"}}','f4','f5') IS NULL AS expect_false",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "expect_false",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "FuncCall": {
                          "args": [
                            {
                              "A_Const": {
                                "location": 26,
                                "sval": {
                                  "sval": "{"f2":{"f3":1},"f4":{"f5":null,"f6":"stringy"}}",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 76,
                                "sval": {
                                  "sval": "f4",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 81,
                                "sval": {
                                  "sval": "f5",
                                },
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "jsonb_extract_path",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 87,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 485 1`] = `
[
  "SELECT '{"f2":{"f3":1},"f4":{"f5":99,"f6":"stringy"}}'::jsonb#>array['f4','f6']",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"f2":{"f3":1},"f4":{"f5":99,"f6":"stringy"}}",
                              },
                            },
                          },
                          "location": 54,
                          "typeName": {
                            "location": 56,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 61,
                      "name": [
                        {
                          "String": {
                            "sval": "#>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 69,
                                "sval": {
                                  "sval": "f4",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 74,
                                "sval": {
                                  "sval": "f6",
                                },
                              },
                            },
                          ],
                          "location": 63,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 490 1`] = `
[
  "SELECT '{"f2":{"f3":1},"f4":{"f5":99,"f6":"stringy"}}'::jsonb#>>array['f4','f6']",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"f2":{"f3":1},"f4":{"f5":99,"f6":"stringy"}}",
                              },
                            },
                          },
                          "location": 54,
                          "typeName": {
                            "location": 56,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 61,
                      "name": [
                        {
                          "String": {
                            "sval": "#>>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_ArrayExpr": {
                          "elements": [
                            {
                              "A_Const": {
                                "location": 70,
                                "sval": {
                                  "sval": "f4",
                                },
                              },
                            },
                            {
                              "A_Const": {
                                "location": 75,
                                "sval": {
                                  "sval": "f6",
                                },
                              },
                            },
                          ],
                          "location": 64,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 496 1`] = `
[
  "select '{"a": {"b":{"c": "foo"}}}'::jsonb #> '{}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"a": {"b":{"c": "foo"}}}",
                              },
                            },
                          },
                          "location": 34,
                          "typeName": {
                            "location": 36,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 42,
                      "name": [
                        {
                          "String": {
                            "sval": "#>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 45,
                          "sval": {
                            "sval": "{}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 517 1`] = `
[
  "select '{"a": {"b":{"c": "foo"}}}'::jsonb #>> '{}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"a": {"b":{"c": "foo"}}}",
                              },
                            },
                          },
                          "location": 34,
                          "typeName": {
                            "location": 36,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 42,
                      "name": [
                        {
                          "String": {
                            "sval": "#>>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 46,
                          "sval": {
                            "sval": "{}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 539 1`] = `
[
  "SELECT jsonb_array_elements('[1,true,[1,[2,3]],null,{"f1":1,"f2":[7,8,9]},false]')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 28,
                            "sval": {
                              "sval": "[1,true,[1,[2,3]],null,{"f1":1,"f2":[7,8,9]},false]",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_array_elements",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 545 1`] = `
[
  "CREATE TYPE jbpop AS (a text, b int, c timestamp)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "a",
                  "is_local": true,
                  "location": 22,
                  "typeName": {
                    "location": 24,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "b",
                  "is_local": true,
                  "location": 30,
                  "typeName": {
                    "location": 32,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c",
                  "is_local": true,
                  "location": 37,
                  "typeName": {
                    "location": 39,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "timestamp",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "jbpop",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 547 1`] = `
[
  "CREATE DOMAIN jsb_int_not_null  AS int     NOT NULL",
  {
    "stmts": [
      {
        "stmt": {
          "CreateDomainStmt": {
            "constraints": [
              {
                "Constraint": {
                  "contype": "CONSTR_NOTNULL",
                  "location": 43,
                },
              },
            ],
            "domainname": [
              {
                "String": {
                  "sval": "jsb_int_not_null",
                },
              },
            ],
            "typeName": {
              "location": 35,
              "names": [
                {
                  "String": {
                    "sval": "pg_catalog",
                  },
                },
                {
                  "String": {
                    "sval": "int4",
                  },
                },
              ],
              "typemod": -1,
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 551 1`] = `
[
  "create type jb_unordered_pair as (x int, y int)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "x",
                  "is_local": true,
                  "location": 34,
                  "typeName": {
                    "location": 36,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "y",
                  "is_local": true,
                  "location": 41,
                  "typeName": {
                    "location": 43,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "jb_unordered_pair",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 554 1`] = `
[
  "CREATE TYPE jsbrec AS (
	i	int,
	ia	_int4,
	ia1	int[],
	ia2	int[][],
	ia3	int[][][],
	ia1d	jsb_int_array_1d,
	ia2d	jsb_int_array_2d,
	t	text,
	ta	text[],
	c	char(10),
	ca	char(10)[],
	ts	timestamp,
	js	json,
	jsb	jsonb,
	jsa	json[],
	rec	jbpop,
	reca	jbpop[]
)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "i",
                  "is_local": true,
                  "location": 25,
                  "typeName": {
                    "location": 27,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia",
                  "is_local": true,
                  "location": 33,
                  "typeName": {
                    "location": 36,
                    "names": [
                      {
                        "String": {
                          "sval": "_int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia1",
                  "is_local": true,
                  "location": 44,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 48,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia2",
                  "is_local": true,
                  "location": 56,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 60,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia3",
                  "is_local": true,
                  "location": 70,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                      {
                        "Integer": {},
                      },
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 74,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia1d",
                  "is_local": true,
                  "location": 86,
                  "typeName": {
                    "location": 91,
                    "names": [
                      {
                        "String": {
                          "sval": "jsb_int_array_1d",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ia2d",
                  "is_local": true,
                  "location": 110,
                  "typeName": {
                    "location": 115,
                    "names": [
                      {
                        "String": {
                          "sval": "jsb_int_array_2d",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "t",
                  "is_local": true,
                  "location": 134,
                  "typeName": {
                    "location": 136,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ta",
                  "is_local": true,
                  "location": 143,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 146,
                    "names": [
                      {
                        "String": {
                          "sval": "text",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "c",
                  "is_local": true,
                  "location": 155,
                  "typeName": {
                    "location": 157,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "bpchar",
                        },
                      },
                    ],
                    "typemod": -1,
                    "typmods": [
                      {
                        "A_Const": {
                          "ival": {
                            "ival": 10,
                          },
                          "location": 162,
                        },
                      },
                    ],
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ca",
                  "is_local": true,
                  "location": 168,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 171,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "bpchar",
                        },
                      },
                    ],
                    "typemod": -1,
                    "typmods": [
                      {
                        "A_Const": {
                          "ival": {
                            "ival": 10,
                          },
                          "location": 176,
                        },
                      },
                    ],
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "ts",
                  "is_local": true,
                  "location": 184,
                  "typeName": {
                    "location": 187,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "timestamp",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "js",
                  "is_local": true,
                  "location": 199,
                  "typeName": {
                    "location": 202,
                    "names": [
                      {
                        "String": {
                          "sval": "json",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "jsb",
                  "is_local": true,
                  "location": 209,
                  "typeName": {
                    "location": 213,
                    "names": [
                      {
                        "String": {
                          "sval": "jsonb",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "jsa",
                  "is_local": true,
                  "location": 221,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 225,
                    "names": [
                      {
                        "String": {
                          "sval": "json",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "rec",
                  "is_local": true,
                  "location": 234,
                  "typeName": {
                    "location": 238,
                    "names": [
                      {
                        "String": {
                          "sval": "jbpop",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "reca",
                  "is_local": true,
                  "location": 246,
                  "typeName": {
                    "arrayBounds": [
                      {
                        "Integer": {},
                      },
                    ],
                    "location": 251,
                    "names": [
                      {
                        "String": {
                          "sval": "jbpop",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "jsbrec",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 574 1`] = `
[
  "CREATE TYPE jsbrec_i_not_null AS (
	i	jsb_int_not_null
)",
  {
    "stmts": [
      {
        "stmt": {
          "CompositeTypeStmt": {
            "coldeflist": [
              {
                "ColumnDef": {
                  "colname": "i",
                  "is_local": true,
                  "location": 36,
                  "typeName": {
                    "location": 38,
                    "names": [
                      {
                        "String": {
                          "sval": "jsb_int_not_null",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
            "typevar": {
              "location": 12,
              "relname": "jsbrec_i_not_null",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 578 1`] = `
[
  "SELECT * FROM jsonb_populate_record(NULL::jbpop,'{"a":"blurfl","x":43.2}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 36,
                                      },
                                    },
                                    "location": 40,
                                    "typeName": {
                                      "location": 42,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jbpop",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 48,
                                    "sval": {
                                      "sval": "{"a":"blurfl","x":43.2}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 588 1`] = `
[
  "SELECT * FROM jsonb_populate_record(row('x',3,'2012-12-31 15:30:56')::jbpop, '{}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "RowExpr": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "location": 40,
                                              "sval": {
                                                "sval": "x",
                                              },
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 3,
                                              },
                                              "location": 44,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "location": 46,
                                              "sval": {
                                                "sval": "2012-12-31 15:30:56",
                                              },
                                            },
                                          },
                                        ],
                                        "location": 36,
                                        "row_format": "COERCE_EXPLICIT_CALL",
                                      },
                                    },
                                    "location": 68,
                                    "typeName": {
                                      "location": 70,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jbpop",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 77,
                                    "sval": {
                                      "sval": "{}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 590 1`] = `
[
  "SELECT i FROM jsonb_populate_record(NULL::jsbrec_i_not_null, '{"x": 43.2}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 36,
                                      },
                                    },
                                    "location": 40,
                                    "typeName": {
                                      "location": 42,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec_i_not_null",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 61,
                                    "sval": {
                                      "sval": "{"x": 43.2}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "i",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 594 1`] = `
[
  "SELECT ia FROM jsonb_populate_record(NULL::jsbrec, '{"ia": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "{"ia": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 15,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 602 1`] = `
[
  "SELECT ia1 FROM jsonb_populate_record(NULL::jsbrec, '{"ia1": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 52,
                                    "sval": {
                                      "sval": "{"ia1": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia1",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 607 1`] = `
[
  "SELECT ia1d FROM jsonb_populate_record(NULL::jsbrec, '{"ia1d": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 39,
                                      },
                                    },
                                    "location": 43,
                                    "typeName": {
                                      "location": 45,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 53,
                                    "sval": {
                                      "sval": "{"ia1d": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 17,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia1d",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 612 1`] = `
[
  "SELECT ia2 FROM jsonb_populate_record(NULL::jsbrec, '{"ia2": [1, "2", null, 4]}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 52,
                                    "sval": {
                                      "sval": "{"ia2": [1, "2", null, 4]}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia2",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 618 1`] = `
[
  "SELECT ia2d FROM jsonb_populate_record(NULL::jsbrec, '{"ia2d": [[1, "2"], [null, 4]]}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 39,
                                      },
                                    },
                                    "location": 43,
                                    "typeName": {
                                      "location": 45,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 53,
                                    "sval": {
                                      "sval": "{"ia2d": [[1, "2"], [null, 4]]}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 17,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia2d",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 621 1`] = `
[
  "SELECT ia3 FROM jsonb_populate_record(NULL::jsbrec, '{"ia3": [1, "2", null, 4]}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 52,
                                    "sval": {
                                      "sval": "{"ia3": [1, "2", null, 4]}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ia3",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 628 1`] = `
[
  "SELECT ta FROM jsonb_populate_record(NULL::jsbrec, '{"ta": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "{"ta": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 15,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ta",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 633 1`] = `
[
  "SELECT c FROM jsonb_populate_record(NULL::jsbrec, '{"c": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 36,
                                      },
                                    },
                                    "location": 40,
                                    "typeName": {
                                      "location": 42,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 50,
                                    "sval": {
                                      "sval": "{"c": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "c",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 638 1`] = `
[
  "SELECT ca FROM jsonb_populate_record(NULL::jsbrec, '{"ca": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "{"ca": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 15,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ca",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 644 1`] = `
[
  "SELECT js FROM jsonb_populate_record(NULL::jsbrec, '{"js": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 37,
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "{"js": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 15,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "js",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 652 1`] = `
[
  "SELECT jsb FROM jsonb_populate_record(NULL::jsbrec, '{"jsb": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 52,
                                    "sval": {
                                      "sval": "{"jsb": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "jsb",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 660 1`] = `
[
  "SELECT jsa FROM jsonb_populate_record(NULL::jsbrec, '{"jsa": null}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 52,
                                    "sval": {
                                      "sval": "{"jsa": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "jsa",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 665 1`] = `
[
  "SELECT rec FROM jsonb_populate_record(NULL::jsbrec, '{"rec": 123}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 38,
                                      },
                                    },
                                    "location": 42,
                                    "typeName": {
                                      "location": 44,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 52,
                                    "sval": {
                                      "sval": "{"rec": 123}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "rec",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 670 1`] = `
[
  "SELECT reca FROM jsonb_populate_record(NULL::jsbrec, '{"reca": 123}') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 39,
                                      },
                                    },
                                    "location": 43,
                                    "typeName": {
                                      "location": 45,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 53,
                                    "sval": {
                                      "sval": "{"reca": 123}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 17,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "reca",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 676 1`] = `
[
  "SELECT rec FROM jsonb_populate_record(
	row(NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,
		row('x',3,'2012-12-31 15:30:56')::jbpop,NULL)::jsbrec,
	'{"rec": {"a": "abc", "c": "01.02.2003", "x": 43.2}}'
) q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "RowExpr": {
                                        "args": [
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 44,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 49,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 54,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 59,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 64,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 69,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 74,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 79,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 84,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 89,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 94,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 99,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 104,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 109,
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 114,
                                            },
                                          },
                                          {
                                            "TypeCast": {
                                              "arg": {
                                                "RowExpr": {
                                                  "args": [
                                                    {
                                                      "A_Const": {
                                                        "location": 126,
                                                        "sval": {
                                                          "sval": "x",
                                                        },
                                                      },
                                                    },
                                                    {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 3,
                                                        },
                                                        "location": 130,
                                                      },
                                                    },
                                                    {
                                                      "A_Const": {
                                                        "location": 132,
                                                        "sval": {
                                                          "sval": "2012-12-31 15:30:56",
                                                        },
                                                      },
                                                    },
                                                  ],
                                                  "location": 122,
                                                  "row_format": "COERCE_EXPLICIT_CALL",
                                                },
                                              },
                                              "location": 154,
                                              "typeName": {
                                                "location": 156,
                                                "names": [
                                                  {
                                                    "String": {
                                                      "sval": "jbpop",
                                                    },
                                                  },
                                                ],
                                                "typemod": -1,
                                              },
                                            },
                                          },
                                          {
                                            "A_Const": {
                                              "isnull": true,
                                              "location": 162,
                                            },
                                          },
                                        ],
                                        "location": 40,
                                        "row_format": "COERCE_EXPLICIT_CALL",
                                      },
                                    },
                                    "location": 167,
                                    "typeName": {
                                      "location": 169,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsbrec",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 178,
                                    "sval": {
                                      "sval": "{"rec": {"a": "abc", "c": "01.02.2003", "x": 43.2}}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_record",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "rec",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 683 1`] = `
[
  "SELECT jsonb_populate_record(null::record, '{"x": 0, "y": 1}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 29,
                              },
                            },
                            "location": 33,
                            "typeName": {
                              "location": 35,
                              "names": [
                                {
                                  "String": {
                                    "sval": "record",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 43,
                            "sval": {
                              "sval": "{"x": 0, "y": 1}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_populate_record",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 694 1`] = `
[
  "SELECT * FROM jsonb_populate_recordset(NULL::jbpop,'[{"a":"blurfl","x":43.2},{"b":3,"c":"2012-01-20 10:42:53"}]') q",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "isnull": true,
                                        "location": 39,
                                      },
                                    },
                                    "location": 43,
                                    "typeName": {
                                      "location": 45,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jbpop",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "[{"a":"blurfl","x":43.2},{"b":3,"c":"2012-01-20 10:42:53"}]",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_recordset",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 706 1`] = `
[
  "SELECT jsonb_populate_recordset(null::record, '[{"x": 0, "y": 1}]')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "isnull": true,
                                "location": 32,
                              },
                            },
                            "location": 36,
                            "typeName": {
                              "location": 38,
                              "names": [
                                {
                                  "String": {
                                    "sval": "record",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 46,
                            "sval": {
                              "sval": "[{"x": 0, "y": 1}]",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_populate_recordset",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 726 1`] = `
[
  "select * from jsonb_populate_recordset(row(0::int),'[{"a":"1","b":"2"},{"a":"3"}]') q (a text, b text)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "q",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 87,
                        "typeName": {
                          "location": 89,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 95,
                        "typeName": {
                          "location": 97,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "RowExpr": {
                                    "args": [
                                      {
                                        "TypeCast": {
                                          "arg": {
                                            "A_Const": {
                                              "ival": {},
                                              "location": 43,
                                            },
                                          },
                                          "location": 44,
                                          "typeName": {
                                            "location": 46,
                                            "names": [
                                              {
                                                "String": {
                                                  "sval": "pg_catalog",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "int4",
                                                },
                                              },
                                            ],
                                            "typemod": -1,
                                          },
                                        },
                                      },
                                    ],
                                    "location": 39,
                                    "row_format": "COERCE_EXPLICIT_CALL",
                                  },
                                },
                                {
                                  "A_Const": {
                                    "location": 51,
                                    "sval": {
                                      "sval": "[{"a":"1","b":"2"},{"a":"3"}]",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_populate_recordset",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 736 1`] = `
[
  "select * from jsonb_to_recordset('[{"a":1,"b":"foo","d":false},{"a":2,"b":"bar","c":true}]')
    as x(a int, b text, c boolean)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 102,
                        "typeName": {
                          "location": 104,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 109,
                        "typeName": {
                          "location": 111,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "c",
                        "is_local": true,
                        "location": 117,
                        "typeName": {
                          "location": 119,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "bool",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 33,
                                    "sval": {
                                      "sval": "[{"a":1,"b":"foo","d":false},{"a":2,"b":"bar","c":true}]",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_to_recordset",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 739 1`] = `
[
  "select *, c is null as c_is_null
from jsonb_to_record('{"a":1, "b":{"c":16, "d":2}, "x":8, "ca": ["1 2", 3], "ia": [[1,2],[3,4]], "r": {"a": "aaa", "b": 123}}'::jsonb)
    as t(a int, b jsonb, c text, x int, ca char(5)[], ia int[][], r jbpop)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "t",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 177,
                        "typeName": {
                          "location": 179,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 184,
                        "typeName": {
                          "location": 186,
                          "names": [
                            {
                              "String": {
                                "sval": "jsonb",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "c",
                        "is_local": true,
                        "location": 193,
                        "typeName": {
                          "location": 195,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "x",
                        "is_local": true,
                        "location": 201,
                        "typeName": {
                          "location": 203,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "ca",
                        "is_local": true,
                        "location": 208,
                        "typeName": {
                          "arrayBounds": [
                            {
                              "Integer": {},
                            },
                          ],
                          "location": 211,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "bpchar",
                              },
                            },
                          ],
                          "typemod": -1,
                          "typmods": [
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 5,
                                },
                                "location": 216,
                              },
                            },
                          ],
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "ia",
                        "is_local": true,
                        "location": 222,
                        "typeName": {
                          "arrayBounds": [
                            {
                              "Integer": {},
                            },
                            {
                              "Integer": {},
                            },
                          ],
                          "location": 225,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "r",
                        "is_local": true,
                        "location": 234,
                        "typeName": {
                          "location": 236,
                          "names": [
                            {
                              "String": {
                                "sval": "jbpop",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "location": 54,
                                        "sval": {
                                          "sval": "{"a":1, "b":{"c":16, "d":2}, "x":8, "ca": ["1 2", 3], "ia": [[1,2],[3,4]], "r": {"a": "aaa", "b": 123}}",
                                        },
                                      },
                                    },
                                    "location": 159,
                                    "typeName": {
                                      "location": 161,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsonb",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_to_record",
                                  },
                                },
                              ],
                              "location": 38,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 10,
                  "name": "c_is_null",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 10,
                        },
                      },
                      "location": 12,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 743 1`] = `
[
  "select *, c is null as c_is_null
from jsonb_to_recordset('[{"a":1, "b":{"c":16, "d":2}, "x":8}]'::jsonb)
    as t(a int, b jsonb, c text, x int)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "t",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "a",
                        "is_local": true,
                        "location": 114,
                        "typeName": {
                          "location": 116,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "b",
                        "is_local": true,
                        "location": 121,
                        "typeName": {
                          "location": 123,
                          "names": [
                            {
                              "String": {
                                "sval": "jsonb",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "c",
                        "is_local": true,
                        "location": 130,
                        "typeName": {
                          "location": 132,
                          "names": [
                            {
                              "String": {
                                "sval": "text",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                    {
                      "ColumnDef": {
                        "colname": "x",
                        "is_local": true,
                        "location": 138,
                        "typeName": {
                          "location": 140,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "location": 57,
                                        "sval": {
                                          "sval": "[{"a":1, "b":{"c":16, "d":2}, "x":8}]",
                                        },
                                      },
                                    },
                                    "location": 96,
                                    "typeName": {
                                      "location": 98,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsonb",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_to_recordset",
                                  },
                                },
                              ],
                              "location": 38,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 10,
                  "name": "c_is_null",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                          ],
                          "location": 10,
                        },
                      },
                      "location": 12,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 747 1`] = `
[
  "select * from jsonb_to_record('{"ia": null}') as x(ia _int4)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "ia",
                        "is_local": true,
                        "location": 51,
                        "typeName": {
                          "location": 54,
                          "names": [
                            {
                              "String": {
                                "sval": "_int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 30,
                                    "sval": {
                                      "sval": "{"ia": null}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_to_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 754 1`] = `
[
  "select * from jsonb_to_record('{"ia2": [1, 2, 3]}') as x(ia2 int[][])",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "ia2",
                        "is_local": true,
                        "location": 57,
                        "typeName": {
                          "arrayBounds": [
                            {
                              "Integer": {},
                            },
                            {
                              "Integer": {},
                            },
                          ],
                          "location": 61,
                          "names": [
                            {
                              "String": {
                                "sval": "pg_catalog",
                              },
                            },
                            {
                              "String": {
                                "sval": "int4",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 30,
                                    "sval": {
                                      "sval": "{"ia2": [1, 2, 3]}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_to_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 758 1`] = `
[
  "select * from jsonb_to_record('{"out": {"key": 1}}') as x(out json)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "x",
                  },
                  "coldeflist": [
                    {
                      "ColumnDef": {
                        "colname": "out",
                        "is_local": true,
                        "location": 58,
                        "typeName": {
                          "location": 62,
                          "names": [
                            {
                              "String": {
                                "sval": "json",
                              },
                            },
                          ],
                          "typemod": -1,
                        },
                      },
                    },
                  ],
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 30,
                                    "sval": {
                                      "sval": "{"out": {"key": 1}}",
                                    },
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "jsonb_to_record",
                                  },
                                },
                              ],
                              "location": 14,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 766 1`] = `
[
  "CREATE TEMP TABLE jsbpoptest (js jsonb)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "jsbpoptest",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "js",
                  "is_local": true,
                  "location": 30,
                  "typeName": {
                    "location": 33,
                    "names": [
                      {
                        "String": {
                          "sval": "jsonb",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 768 1`] = `
[
  "INSERT INTO jsbpoptest
SELECT '{
	"jsa": [1, "2", null, 4],
	"rec": {"a": "abc", "c": "01.02.2003", "x": 43.2},
	"reca": [{"a": "abc", "b": 456}, null, {"c": "01.02.2003", "x": 43.2}]
}'::jsonb
FROM generate_series(1, 3)",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "jsbpoptest",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "fromClause": [
                  {
                    "RangeFunction": {
                      "functions": [
                        {
                          "List": {
                            "items": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 1,
                                        },
                                        "location": 215,
                                      },
                                    },
                                    {
                                      "A_Const": {
                                        "ival": {
                                          "ival": 3,
                                        },
                                        "location": 218,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "generate_series",
                                      },
                                    },
                                  ],
                                  "location": 199,
                                },
                              },
                              {},
                            ],
                          },
                        },
                      ],
                    },
                  },
                ],
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "targetList": [
                  {
                    "ResTarget": {
                      "location": 30,
                      "val": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 30,
                              "sval": {
                                "sval": "{
	"jsa": [1, "2", null, 4],
	"rec": {"a": "abc", "c": "01.02.2003", "x": 43.2},
	"reca": [{"a": "abc", "b": 456}, null, {"c": "01.02.2003", "x": 43.2}]
}",
                              },
                            },
                          },
                          "location": 186,
                          "typeName": {
                            "location": 188,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 776 1`] = `
[
  "SELECT (jsonb_populate_record(NULL::jsbrec, js)).* FROM jsbpoptest",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 56,
                  "relname": "jsbpoptest",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "FuncCall": {
                          "args": [
                            {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "isnull": true,
                                    "location": 30,
                                  },
                                },
                                "location": 34,
                                "typeName": {
                                  "location": 36,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "jsbrec",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "js",
                                    },
                                  },
                                ],
                                "location": 44,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "jsonb_populate_record",
                              },
                            },
                          ],
                          "location": 8,
                        },
                      },
                      "indirection": [
                        {
                          "A_Star": {},
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 778 1`] = `
[
  "DROP TYPE jsbrec",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "TypeName": {
                  "location": 10,
                  "names": [
                    {
                      "String": {
                        "sval": "jsbrec",
                      },
                    },
                  ],
                  "typemod": -1,
                },
              },
            ],
            "removeType": "OBJECT_TYPE",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 787 1`] = `
[
  "SELECT count(*) FROM testjsonb WHERE j @> '{"wait":null}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 21,
                  "relname": "testjsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_star": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "count",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "j",
                        },
                      },
                    ],
                    "location": 37,
                  },
                },
                "location": 39,
                "name": [
                  {
                    "String": {
                      "sval": "@>",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 42,
                    "sval": {
                      "sval": "{"wait":null}",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 815 1`] = `
[
  "CREATE INDEX jidx ON testjsonb USING gin (j)",
  {
    "stmts": [
      {
        "stmt": {
          "IndexStmt": {
            "accessMethod": "gin",
            "idxname": "jidx",
            "indexParams": [
              {
                "IndexElem": {
                  "name": "j",
                  "nulls_ordering": "SORTBY_NULLS_DEFAULT",
                  "ordering": "SORTBY_DEFAULT",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 21,
              "relname": "testjsonb",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 832 1`] = `
[
  "EXPLAIN (COSTS OFF)
SELECT count(*) FROM testjsonb WHERE j @@ '$.wait == null'",
  {
    "stmts": [
      {
        "stmt": {
          "ExplainStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "off",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "costs",
                  "location": 9,
                },
              },
            ],
            "query": {
              "SelectStmt": {
                "fromClause": [
                  {
                    "RangeVar": {
                      "inh": true,
                      "location": 41,
                      "relname": "testjsonb",
                      "relpersistence": "p",
                    },
                  },
                ],
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "targetList": [
                  {
                    "ResTarget": {
                      "location": 27,
                      "val": {
                        "FuncCall": {
                          "agg_star": true,
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "count",
                              },
                            },
                          ],
                          "location": 27,
                        },
                      },
                    },
                  },
                ],
                "whereClause": {
                  "A_Expr": {
                    "kind": "AEXPR_OP",
                    "lexpr": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "j",
                            },
                          },
                        ],
                        "location": 57,
                      },
                    },
                    "location": 59,
                    "name": [
                      {
                        "String": {
                          "sval": "@@",
                        },
                      },
                    ],
                    "rexpr": {
                      "A_Const": {
                        "location": 62,
                        "sval": {
                          "sval": "$.wait == null",
                        },
                      },
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 852 1`] = `
[
  "SELECT count(*) FROM testjsonb WHERE j @? '$.wait ? (@ == null)'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 21,
                  "relname": "testjsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_star": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "count",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "j",
                        },
                      },
                    ],
                    "location": 37,
                  },
                },
                "location": 39,
                "name": [
                  {
                    "String": {
                      "sval": "@?",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 42,
                    "sval": {
                      "sval": "$.wait ? (@ == null)",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 866 1`] = `
[
  "CREATE INDEX jidx_array ON testjsonb USING gin((j->'array'))",
  {
    "stmts": [
      {
        "stmt": {
          "IndexStmt": {
            "accessMethod": "gin",
            "idxname": "jidx_array",
            "indexParams": [
              {
                "IndexElem": {
                  "expr": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "j",
                              },
                            },
                          ],
                          "location": 48,
                        },
                      },
                      "location": 49,
                      "name": [
                        {
                          "String": {
                            "sval": "->",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 51,
                          "sval": {
                            "sval": "array",
                          },
                        },
                      },
                    },
                  },
                  "nulls_ordering": "SORTBY_NULLS_DEFAULT",
                  "ordering": "SORTBY_DEFAULT",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 27,
              "relname": "testjsonb",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 874 1`] = `
[
  "RESET enable_seqscan",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "kind": "VAR_RESET",
            "name": "enable_seqscan",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 876 1`] = `
[
  "SELECT count(*) FROM (SELECT (jsonb_each(j)).key FROM testjsonb) AS wow",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeSubselect": {
                  "alias": {
                    "aliasname": "wow",
                  },
                  "subquery": {
                    "SelectStmt": {
                      "fromClause": [
                        {
                          "RangeVar": {
                            "inh": true,
                            "location": 54,
                            "relname": "testjsonb",
                            "relpersistence": "p",
                          },
                        },
                      ],
                      "limitOption": "LIMIT_OPTION_DEFAULT",
                      "op": "SETOP_NONE",
                      "targetList": [
                        {
                          "ResTarget": {
                            "location": 29,
                            "val": {
                              "A_Indirection": {
                                "arg": {
                                  "FuncCall": {
                                    "args": [
                                      {
                                        "ColumnRef": {
                                          "fields": [
                                            {
                                              "String": {
                                                "sval": "j",
                                              },
                                            },
                                          ],
                                          "location": 41,
                                        },
                                      },
                                    ],
                                    "funcformat": "COERCE_EXPLICIT_CALL",
                                    "funcname": [
                                      {
                                        "String": {
                                          "sval": "jsonb_each",
                                        },
                                      },
                                    ],
                                    "location": 30,
                                  },
                                },
                                "indirection": [
                                  {
                                    "String": {
                                      "sval": "key",
                                    },
                                  },
                                ],
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_star": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "count",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 880 1`] = `
[
  "SELECT count(distinct j) FROM testjsonb",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 30,
                  "relname": "testjsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_distinct": true,
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "j",
                                },
                              },
                            ],
                            "location": 22,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "count",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 889 1`] = `
[
  "RESET enable_hashagg",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "kind": "VAR_RESET",
            "name": "enable_hashagg",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 892 1`] = `
[
  "DROP INDEX jidx",
  {
    "stmts": [
      {
        "stmt": {
          "DropStmt": {
            "behavior": "DROP_RESTRICT",
            "objects": [
              {
                "List": {
                  "items": [
                    {
                      "String": {
                        "sval": "jidx",
                      },
                    },
                  ],
                },
              },
            ],
            "removeType": "OBJECT_INDEX",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 895 1`] = `
[
  "CREATE INDEX jidx ON testjsonb USING btree (j)",
  {
    "stmts": [
      {
        "stmt": {
          "IndexStmt": {
            "accessMethod": "btree",
            "idxname": "jidx",
            "indexParams": [
              {
                "IndexElem": {
                  "name": "j",
                  "nulls_ordering": "SORTBY_NULLS_DEFAULT",
                  "ordering": "SORTBY_DEFAULT",
                },
              },
            ],
            "relation": {
              "inh": true,
              "location": 21,
              "relname": "testjsonb",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 898 1`] = `
[
  "SELECT count(*) FROM testjsonb WHERE j > '{"p":1}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 21,
                  "relname": "testjsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_star": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "count",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "j",
                        },
                      },
                    ],
                    "location": 37,
                  },
                },
                "location": 39,
                "name": [
                  {
                    "String": {
                      "sval": ">",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 41,
                    "sval": {
                      "sval": "{"p":1}",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 914 1`] = `
[
  "SELECT count(*) FROM testjsonb WHERE j @@ '$.wait == null'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 21,
                  "relname": "testjsonb",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "agg_star": true,
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "count",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "j",
                        },
                      },
                    ],
                    "location": 37,
                  },
                },
                "location": 39,
                "name": [
                  {
                    "String": {
                      "sval": "@@",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 42,
                    "sval": {
                      "sval": "$.wait == null",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 928 1`] = `
[
  "EXPLAIN (COSTS OFF)
SELECT count(*) FROM testjsonb WHERE j @? '$.wait ? (@ == null)'",
  {
    "stmts": [
      {
        "stmt": {
          "ExplainStmt": {
            "options": [
              {
                "DefElem": {
                  "arg": {
                    "String": {
                      "sval": "off",
                    },
                  },
                  "defaction": "DEFELEM_UNSPEC",
                  "defname": "costs",
                  "location": 9,
                },
              },
            ],
            "query": {
              "SelectStmt": {
                "fromClause": [
                  {
                    "RangeVar": {
                      "inh": true,
                      "location": 41,
                      "relname": "testjsonb",
                      "relpersistence": "p",
                    },
                  },
                ],
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "targetList": [
                  {
                    "ResTarget": {
                      "location": 27,
                      "val": {
                        "FuncCall": {
                          "agg_star": true,
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "count",
                              },
                            },
                          ],
                          "location": 27,
                        },
                      },
                    },
                  },
                ],
                "whereClause": {
                  "A_Expr": {
                    "kind": "AEXPR_OP",
                    "lexpr": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "j",
                            },
                          },
                        ],
                        "location": 57,
                      },
                    },
                    "location": 59,
                    "name": [
                      {
                        "String": {
                          "sval": "@?",
                        },
                      },
                    ],
                    "rexpr": {
                      "A_Const": {
                        "location": 62,
                        "sval": {
                          "sval": "$.wait ? (@ == null)",
                        },
                      },
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 953 1`] = `
[
  "SELECT
  '{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}'::jsonb -> 'ff',
  '{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}'::jsonb -> 'qq',
  ('{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}'::jsonb -> 'Y') IS NULL AS f,
  ('{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}'::jsonb ->> 'Y') IS NULL AS t,
   '{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}'::jsonb -> 'x'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 9,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 9,
                              "sval": {
                                "sval": "{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}",
                              },
                            },
                          },
                          "location": 61,
                          "typeName": {
                            "location": 63,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 69,
                      "name": [
                        {
                          "String": {
                            "sval": "->",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 72,
                          "sval": {
                            "sval": "ff",
                          },
                        },
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 80,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 80,
                              "sval": {
                                "sval": "{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}",
                              },
                            },
                          },
                          "location": 132,
                          "typeName": {
                            "location": 134,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 140,
                      "name": [
                        {
                          "String": {
                            "sval": "->",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 143,
                          "sval": {
                            "sval": "qq",
                          },
                        },
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 151,
                  "name": "f",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "TypeCast": {
                              "arg": {
                                "A_Const": {
                                  "location": 152,
                                  "sval": {
                                    "sval": "{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}",
                                  },
                                },
                              },
                              "location": 204,
                              "typeName": {
                                "location": 206,
                                "names": [
                                  {
                                    "String": {
                                      "sval": "jsonb",
                                    },
                                  },
                                ],
                                "typemod": -1,
                              },
                            },
                          },
                          "location": 212,
                          "name": [
                            {
                              "String": {
                                "sval": "->",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "location": 215,
                              "sval": {
                                "sval": "Y",
                              },
                            },
                          },
                        },
                      },
                      "location": 220,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 236,
                  "name": "t",
                  "val": {
                    "NullTest": {
                      "arg": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "TypeCast": {
                              "arg": {
                                "A_Const": {
                                  "location": 237,
                                  "sval": {
                                    "sval": "{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}",
                                  },
                                },
                              },
                              "location": 289,
                              "typeName": {
                                "location": 291,
                                "names": [
                                  {
                                    "String": {
                                      "sval": "jsonb",
                                    },
                                  },
                                ],
                                "typemod": -1,
                              },
                            },
                          },
                          "location": 297,
                          "name": [
                            {
                              "String": {
                                "sval": "->>",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "location": 301,
                              "sval": {
                                "sval": "Y",
                              },
                            },
                          },
                        },
                      },
                      "location": 306,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 323,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 323,
                              "sval": {
                                "sval": "{"ff":{"a":12,"b":16},"qq":123,"x":[1,2],"Y":null}",
                              },
                            },
                          },
                          "location": 375,
                          "typeName": {
                            "location": 377,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 383,
                      "name": [
                        {
                          "String": {
                            "sval": "->",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 386,
                          "sval": {
                            "sval": "x",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 982 1`] = `
[
  "create temp table nestjsonb (j jsonb)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "nestjsonb",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "j",
                  "is_local": true,
                  "location": 29,
                  "typeName": {
                    "location": 31,
                    "names": [
                      {
                        "String": {
                          "sval": "jsonb",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 988 1`] = `
[
  "set enable_seqscan = on",
  {
    "stmts": [
      {
        "stmt": {
          "VariableSetStmt": {
            "args": [
              {
                "A_Const": {
                  "location": 21,
                  "sval": {
                    "sval": "on",
                  },
                },
              },
            ],
            "kind": "VAR_SET_VALUE",
            "name": "enable_seqscan",
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1040 1`] = `
[
  "SELECT '{"n":null,"a":1,"b":[1,2],"c":{"1":2},"d":{"1":[2,3]}}'::jsonb ? 'n'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"n":null,"a":1,"b":[1,2],"c":{"1":2},"d":{"1":[2,3]}}",
                              },
                            },
                          },
                          "location": 63,
                          "typeName": {
                            "location": 65,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 71,
                      "name": [
                        {
                          "String": {
                            "sval": "?",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 73,
                          "sval": {
                            "sval": "n",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1051 1`] = `
[
  "select jsonb_strip_nulls('1')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 25,
                            "sval": {
                              "sval": "1",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_strip_nulls",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1071 1`] = `
[
  "select jsonb_concat('{"d": "test", "a": [1, 2]}', '{"g": "test2", "c": {"c1":1, "c2":2}}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 20,
                            "sval": {
                              "sval": "{"d": "test", "a": [1, 2]}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 50,
                            "sval": {
                              "sval": "{"g": "test2", "c": {"c1":1, "c2":2}}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_concat",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1073 1`] = `
[
  "select '{"aa":1 , "b":2, "cq":3}'::jsonb || '{"cq":"l", "b":"g", "fg":false}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"aa":1 , "b":2, "cq":3}",
                              },
                            },
                          },
                          "location": 33,
                          "typeName": {
                            "location": 35,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 41,
                      "name": [
                        {
                          "String": {
                            "sval": "||",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 44,
                          "sval": {
                            "sval": "{"cq":"l", "b":"g", "fg":false}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1105 1`] = `
[
  "select pg_column_size('{}'::jsonb || '{}'::jsonb) = pg_column_size('{}'::jsonb)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "A_Expr": {
                                "kind": "AEXPR_OP",
                                "lexpr": {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "location": 22,
                                        "sval": {
                                          "sval": "{}",
                                        },
                                      },
                                    },
                                    "location": 26,
                                    "typeName": {
                                      "location": 28,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsonb",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                                "location": 34,
                                "name": [
                                  {
                                    "String": {
                                      "sval": "||",
                                    },
                                  },
                                ],
                                "rexpr": {
                                  "TypeCast": {
                                    "arg": {
                                      "A_Const": {
                                        "location": 37,
                                        "sval": {
                                          "sval": "{}",
                                        },
                                      },
                                    },
                                    "location": 41,
                                    "typeName": {
                                      "location": 43,
                                      "names": [
                                        {
                                          "String": {
                                            "sval": "jsonb",
                                          },
                                        },
                                      ],
                                      "typemod": -1,
                                    },
                                  },
                                },
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "pg_column_size",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 50,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "location": 67,
                                    "sval": {
                                      "sval": "{}",
                                    },
                                  },
                                },
                                "location": 71,
                                "typeName": {
                                  "location": 73,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "jsonb",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "pg_column_size",
                              },
                            },
                          ],
                          "location": 52,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1110 1`] = `
[
  "select jsonb_delete('{"a":1 , "b":2, "c":3}'::jsonb, 'a')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 20,
                                "sval": {
                                  "sval": "{"a":1 , "b":2, "c":3}",
                                },
                              },
                            },
                            "location": 44,
                            "typeName": {
                              "location": 46,
                              "names": [
                                {
                                  "String": {
                                    "sval": "jsonb",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 53,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_delete",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1122 1`] = `
[
  "select '["a","b","c"]'::jsonb - 3",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "["a","b","c"]",
                              },
                            },
                          },
                          "location": 22,
                          "typeName": {
                            "location": 24,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 30,
                      "name": [
                        {
                          "String": {
                            "sval": "-",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 3,
                          },
                          "location": 32,
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1135 1`] = `
[
  "select jsonb_set('{"n":null, "a":1, "b":[1,2], "c":{"1":2}, "d":{"1":[2,3]}}'::jsonb, '{n}', '[1,2,3]')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 17,
                                "sval": {
                                  "sval": "{"n":null, "a":1, "b":[1,2], "c":{"1":2}, "d":{"1":[2,3]}}",
                                },
                              },
                            },
                            "location": 77,
                            "typeName": {
                              "location": 79,
                              "names": [
                                {
                                  "String": {
                                    "sval": "jsonb",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 86,
                            "sval": {
                              "sval": "{n}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 93,
                            "sval": {
                              "sval": "[1,2,3]",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_set",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1148 1`] = `
[
  "select jsonb_delete_path('{"n":null, "a":1, "b":[1,2], "c":{"1":2}, "d":{"1":[2,3]}}', '{n}')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 25,
                            "sval": {
                              "sval": "{"n":null, "a":1, "b":[1,2], "c":{"1":2}, "d":{"1":[2,3]}}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 87,
                            "sval": {
                              "sval": "{n}",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_delete_path",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1152 1`] = `
[
  "select '{"n":null, "a":1, "b":[1,2], "c":{"1":2}, "d":{"1":[2,3]}}'::jsonb #- '{n}'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "{"n":null, "a":1, "b":[1,2], "c":{"1":2}, "d":{"1":[2,3]}}",
                              },
                            },
                          },
                          "location": 67,
                          "typeName": {
                            "location": 69,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 75,
                      "name": [
                        {
                          "String": {
                            "sval": "#-",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 78,
                          "sval": {
                            "sval": "{n}",
                          },
                        },
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1202 1`] = `
[
  "select jsonb_set_lax('{"a":1,"b":2}','{b}','5') ",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 21,
                            "sval": {
                              "sval": "{"a":1,"b":2}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 37,
                            "sval": {
                              "sval": "{b}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 43,
                            "sval": {
                              "sval": "5",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_set_lax",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1211 1`] = `
[
  "select jsonb_set_lax('{"a":1,"b":2}', '{b}', null, null_value_treatment => 'raise_exception') as raise_exception",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "raise_exception",
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 21,
                            "sval": {
                              "sval": "{"a":1,"b":2}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 38,
                            "sval": {
                              "sval": "{b}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "isnull": true,
                            "location": 45,
                          },
                        },
                        {
                          "NamedArgExpr": {
                            "arg": {
                              "A_Const": {
                                "location": 75,
                                "sval": {
                                  "sval": "raise_exception",
                                },
                              },
                            },
                            "argnumber": -1,
                            "location": 51,
                            "name": "null_value_treatment",
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_set_lax",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1227 1`] = `
[
  "select jsonb_insert('{"a": [0,1,2]}', '{a, 0}', '"new_value"')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 20,
                            "sval": {
                              "sval": "{"a": [0,1,2]}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 38,
                            "sval": {
                              "sval": "{a, 0}",
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 48,
                            "sval": {
                              "sval": ""new_value"",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_insert",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1248 1`] = `
[
  "select ('123'::jsonb)['a']",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 8,
                              "sval": {
                                "sval": "123",
                              },
                            },
                          },
                          "location": 13,
                          "typeName": {
                            "location": 15,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "uidx": {
                              "A_Const": {
                                "location": 22,
                                "sval": {
                                  "sval": "a",
                                },
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1275 1`] = `
[
  "select ('{"a": 1}'::jsonb)['a':'b']",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "A_Indirection": {
                      "arg": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 8,
                              "sval": {
                                "sval": "{"a": 1}",
                              },
                            },
                          },
                          "location": 18,
                          "typeName": {
                            "location": 20,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "indirection": [
                        {
                          "A_Indices": {
                            "is_slice": true,
                            "lidx": {
                              "A_Const": {
                                "location": 27,
                                "sval": {
                                  "sval": "a",
                                },
                              },
                            },
                            "uidx": {
                              "A_Const": {
                                "location": 31,
                                "sval": {
                                  "sval": "b",
                                },
                              },
                            },
                          },
                        },
                      ],
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1281 1`] = `
[
  "create TEMP TABLE test_jsonb_subscript (
       id int,
       test_json jsonb
)",
  {
    "stmts": [
      {
        "stmt": {
          "CreateStmt": {
            "oncommit": "ONCOMMIT_NOOP",
            "relation": {
              "inh": true,
              "location": 18,
              "relname": "test_jsonb_subscript",
              "relpersistence": "t",
            },
            "tableElts": [
              {
                "ColumnDef": {
                  "colname": "id",
                  "is_local": true,
                  "location": 48,
                  "typeName": {
                    "location": 51,
                    "names": [
                      {
                        "String": {
                          "sval": "pg_catalog",
                        },
                      },
                      {
                        "String": {
                          "sval": "int4",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
              {
                "ColumnDef": {
                  "colname": "test_json",
                  "is_local": true,
                  "location": 63,
                  "typeName": {
                    "location": 73,
                    "names": [
                      {
                        "String": {
                          "sval": "jsonb",
                        },
                      },
                    ],
                    "typemod": -1,
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1286 1`] = `
[
  "insert into test_jsonb_subscript values
(1, '{}'), -- empty jsonb
(2, '{"key": "value"}')",
  {
    "stmts": [
      {
        "stmt": {
          "InsertStmt": {
            "override": "OVERRIDING_NOT_SET",
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "test_jsonb_subscript",
              "relpersistence": "p",
            },
            "selectStmt": {
              "SelectStmt": {
                "limitOption": "LIMIT_OPTION_DEFAULT",
                "op": "SETOP_NONE",
                "valuesLists": [
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 1,
                            },
                            "location": 41,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 44,
                            "sval": {
                              "sval": "{}",
                            },
                          },
                        },
                      ],
                    },
                  },
                  {
                    "List": {
                      "items": [
                        {
                          "A_Const": {
                            "ival": {
                              "ival": 2,
                            },
                            "location": 67,
                          },
                        },
                        {
                          "A_Const": {
                            "location": 70,
                            "sval": {
                              "sval": "{"key": "value"}",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1288 1`] = `
[
  " -- jsonb with data

-- update empty jsonb
update test_jsonb_subscript set test_json['a'] = '1' where id = 1",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 50,
              "relname": "test_jsonb_subscript",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "uidx": {
                          "A_Const": {
                            "location": 85,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                      },
                    },
                  ],
                  "location": 75,
                  "name": "test_json",
                  "val": {
                    "A_Const": {
                      "location": 92,
                      "sval": {
                        "sval": "1",
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "id",
                        },
                      },
                    ],
                    "location": 102,
                  },
                },
                "location": 105,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "ival": {
                      "ival": 1,
                    },
                    "location": 107,
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1299 1`] = `
[
  "update test_jsonb_subscript set test_json['a'] = '"test"'",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "test_jsonb_subscript",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "indirection": [
                    {
                      "A_Indices": {
                        "uidx": {
                          "A_Const": {
                            "location": 42,
                            "sval": {
                              "sval": "a",
                            },
                          },
                        },
                      },
                    },
                  ],
                  "location": 32,
                  "name": "test_json",
                  "val": {
                    "A_Const": {
                      "location": 49,
                      "sval": {
                        "sval": ""test"",
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1311 1`] = `
[
  "select * from test_jsonb_subscript where test_json['key'] = '"value"'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 14,
                  "relname": "test_jsonb_subscript",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "A_Indirection": {
                    "arg": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "test_json",
                            },
                          },
                        ],
                        "location": 41,
                      },
                    },
                    "indirection": [
                      {
                        "A_Indices": {
                          "uidx": {
                            "A_Const": {
                              "location": 51,
                              "sval": {
                                "sval": "key",
                              },
                            },
                          },
                        },
                      },
                    ],
                  },
                },
                "location": 58,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "location": 60,
                    "sval": {
                      "sval": ""value"",
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1325 1`] = `
[
  "update test_jsonb_subscript set test_json = NULL where id = 3",
  {
    "stmts": [
      {
        "stmt": {
          "UpdateStmt": {
            "relation": {
              "inh": true,
              "location": 7,
              "relname": "test_jsonb_subscript",
              "relpersistence": "p",
            },
            "targetList": [
              {
                "ResTarget": {
                  "location": 32,
                  "name": "test_json",
                  "val": {
                    "A_Const": {
                      "isnull": true,
                      "location": 44,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "id",
                        },
                      },
                    ],
                    "location": 55,
                  },
                },
                "location": 58,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Const": {
                    "ival": {
                      "ival": 3,
                    },
                    "location": 60,
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1330 1`] = `
[
  "delete from test_jsonb_subscript",
  {
    "stmts": [
      {
        "stmt": {
          "DeleteStmt": {
            "relation": {
              "inh": true,
              "location": 12,
              "relname": "test_jsonb_subscript",
              "relpersistence": "p",
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1437 1`] = `
[
  "  select s, ('{"' || s || '": "bar"}')::jsonb from repeat('xyzzy', 500) s",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeFunction": {
                  "alias": {
                    "aliasname": "s",
                  },
                  "functions": [
                    {
                      "List": {
                        "items": [
                          {
                            "FuncCall": {
                              "args": [
                                {
                                  "A_Const": {
                                    "location": 58,
                                    "sval": {
                                      "sval": "xyzzy",
                                    },
                                  },
                                },
                                {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 500,
                                    },
                                    "location": 67,
                                  },
                                },
                              ],
                              "funcformat": "COERCE_EXPLICIT_CALL",
                              "funcname": [
                                {
                                  "String": {
                                    "sval": "repeat",
                                  },
                                },
                              ],
                              "location": 51,
                            },
                          },
                          {},
                        ],
                      },
                    },
                  ],
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 9,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "s",
                          },
                        },
                      ],
                      "location": 9,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 12,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "A_Expr": {
                              "kind": "AEXPR_OP",
                              "lexpr": {
                                "A_Const": {
                                  "location": 13,
                                  "sval": {
                                    "sval": "{"",
                                  },
                                },
                              },
                              "location": 18,
                              "name": [
                                {
                                  "String": {
                                    "sval": "||",
                                  },
                                },
                              ],
                              "rexpr": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "s",
                                      },
                                    },
                                  ],
                                  "location": 21,
                                },
                              },
                            },
                          },
                          "location": 23,
                          "name": [
                            {
                              "String": {
                                "sval": "||",
                              },
                            },
                          ],
                          "rexpr": {
                            "A_Const": {
                              "location": 26,
                              "sval": {
                                "sval": "": "bar"}",
                              },
                            },
                          },
                        },
                      },
                      "location": 38,
                      "typeName": {
                        "location": 40,
                        "names": [
                          {
                            "String": {
                              "sval": "jsonb",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1442 1`] = `
[
  "table test_jsonb_subscript",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 6,
                  "relname": "test_jsonb_subscript",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": -1,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": -1,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1446 1`] = `
[
  "select to_tsvector('{"a": "aaa bbb ddd ccc", "b": ["eee fff ggg"], "c": {"d": "hhh iii"}}'::jsonb)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 19,
                                "sval": {
                                  "sval": "{"a": "aaa bbb ddd ccc", "b": ["eee fff ggg"], "c": {"d": "hhh iii"}}",
                                },
                              },
                            },
                            "location": 90,
                            "typeName": {
                              "location": 92,
                              "names": [
                                {
                                  "String": {
                                    "sval": "jsonb",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "to_tsvector",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1458 1`] = `
[
  "select jsonb_to_tsvector('english', '{"a": "aaa in bbb", "b": 123, "c": 456, "d": true, "f": false, "g": null}'::jsonb, '"all"')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "A_Const": {
                            "location": 25,
                            "sval": {
                              "sval": "english",
                            },
                          },
                        },
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 36,
                                "sval": {
                                  "sval": "{"a": "aaa in bbb", "b": 123, "c": 456, "d": true, "f": false, "g": null}",
                                },
                              },
                            },
                            "location": 111,
                            "typeName": {
                              "location": 113,
                              "names": [
                                {
                                  "String": {
                                    "sval": "jsonb",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "A_Const": {
                            "location": 120,
                            "sval": {
                              "sval": ""all"",
                            },
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "jsonb_to_tsvector",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1491 1`] = `
[
  "select ts_headline('{"a": "aaa bbb", "b": {"c": "ccc ddd fff", "c1": "ccc1 ddd1"}, "d": ["ggg hhh", "iii jjj"]}'::jsonb, tsquery('bbb & ddd & hhh'))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "FuncCall": {
                      "args": [
                        {
                          "TypeCast": {
                            "arg": {
                              "A_Const": {
                                "location": 19,
                                "sval": {
                                  "sval": "{"a": "aaa bbb", "b": {"c": "ccc ddd fff", "c1": "ccc1 ddd1"}, "d": ["ggg hhh", "iii jjj"]}",
                                },
                              },
                            },
                            "location": 112,
                            "typeName": {
                              "location": 114,
                              "names": [
                                {
                                  "String": {
                                    "sval": "jsonb",
                                  },
                                },
                              ],
                              "typemod": -1,
                            },
                          },
                        },
                        {
                          "FuncCall": {
                            "args": [
                              {
                                "A_Const": {
                                  "location": 129,
                                  "sval": {
                                    "sval": "bbb & ddd & hhh",
                                  },
                                },
                              },
                            ],
                            "funcformat": "COERCE_EXPLICIT_CALL",
                            "funcname": [
                              {
                                "String": {
                                  "sval": "tsquery",
                                },
                              },
                            ],
                            "location": 121,
                          },
                        },
                      ],
                      "funcformat": "COERCE_EXPLICIT_CALL",
                      "funcname": [
                        {
                          "String": {
                            "sval": "ts_headline",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`jsonb.sql > line 1502 1`] = `
[
  "select 'true'::jsonb::bool",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 7,
                              "sval": {
                                "sval": "true",
                              },
                            },
                          },
                          "location": 13,
                          "typeName": {
                            "location": 15,
                            "names": [
                              {
                                "String": {
                                  "sval": "jsonb",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                      "location": 20,
                      "typeName": {
                        "location": 22,
                        "names": [
                          {
                            "String": {
                              "sval": "bool",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;
