// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`opr_sanity.sql > line 41 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE prosrc IS NULL",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "NullTest": {
                "arg": {
                  "ColumnRef": {
                    "fields": [
                      {
                        "String": {
                          "sval": "prosrc",
                        },
                      },
                    ],
                    "location": 51,
                  },
                },
                "location": 58,
                "nulltesttype": "IS_NULL",
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 49 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc AS p1
WHERE proretset AND prokind != 'f'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "proretset",
                          },
                        },
                      ],
                      "location": 51,
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "prokind",
                              },
                            },
                          ],
                          "location": 65,
                        },
                      },
                      "location": 73,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 76,
                          "sval": {
                            "sval": "f",
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 61,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 55 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc AS p1
WHERE prosecdef
ORDER BY 1",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 70,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "ColumnRef": {
                "fields": [
                  {
                    "String": {
                      "sval": "prosecdef",
                    },
                  },
                ],
                "location": 51,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 61 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc AS p1
WHERE (pronargdefaults <> 0) != (proargdefaults IS NOT NULL)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_OP",
                "lexpr": {
                  "A_Expr": {
                    "kind": "AEXPR_OP",
                    "lexpr": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "pronargdefaults",
                            },
                          },
                        ],
                        "location": 52,
                      },
                    },
                    "location": 68,
                    "name": [
                      {
                        "String": {
                          "sval": "<>",
                        },
                      },
                    ],
                    "rexpr": {
                      "A_Const": {
                        "ival": {},
                        "location": 71,
                      },
                    },
                  },
                },
                "location": 74,
                "name": [
                  {
                    "String": {
                      "sval": "<>",
                    },
                  },
                ],
                "rexpr": {
                  "NullTest": {
                    "arg": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "proargdefaults",
                            },
                          },
                        ],
                        "location": 78,
                      },
                    },
                    "location": 93,
                    "nulltesttype": "IS_NOT_NULL",
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 66 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE prolang = 13 AND (probin IS NULL OR probin = '' OR probin = '-')",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "prolang",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 59,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 13,
                          },
                          "location": 61,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "NullTest": {
                            "arg": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "probin",
                                    },
                                  },
                                ],
                                "location": 69,
                              },
                            },
                            "location": 76,
                            "nulltesttype": "IS_NULL",
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "probin",
                                    },
                                  },
                                ],
                                "location": 87,
                              },
                            },
                            "location": 94,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "location": 96,
                                "sval": {
                                  "sval": "",
                                },
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "probin",
                                    },
                                  },
                                ],
                                "location": 102,
                              },
                            },
                            "location": 109,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "location": 111,
                                "sval": {
                                  "sval": "-",
                                },
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 84,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 64,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 70 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE prolang != 13 AND probin IS NOT NULL",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "prolang",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 59,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 13,
                          },
                          "location": 62,
                        },
                      },
                    },
                  },
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "probin",
                              },
                            },
                          ],
                          "location": 69,
                        },
                      },
                      "location": 76,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 65,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 133 1`] = `
[
  "SELECT DISTINCT p1.proargtypes[0]::regtype, p2.proargtypes[0]::regtype
FROM pg_proc AS p1, pg_proc AS p2
WHERE p1.oid != p2.oid AND
    p1.prosrc = p2.prosrc AND
    p1.prolang = 12 AND p2.prolang = 12 AND
    p1.prokind != 'a' AND p2.prokind != 'a' AND
    p1.prosrc NOT LIKE E'range\\\\_constructor_' AND
    p2.prosrc NOT LIKE E'range\\\\_constructor_' AND
    p1.prosrc NOT LIKE E'multirange\\\\_constructor_' AND
    p2.prosrc NOT LIKE E'multirange\\\\_constructor_' AND
    (p1.proargtypes[0] < p2.proargtypes[0])
ORDER BY 1, 2",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "distinctClause": [
              {},
            ],
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 76,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p2",
                  },
                  "inh": true,
                  "location": 91,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 521,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 2,
                      },
                      "location": 524,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 16,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "p1",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "proargtypes",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {},
                                    "location": 31,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                      "location": 33,
                      "typeName": {
                        "location": 35,
                        "names": [
                          {
                            "String": {
                              "sval": "regtype",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 44,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "p2",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "proargtypes",
                                  },
                                },
                              ],
                              "location": 44,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {},
                                    "location": 59,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                      "location": 61,
                      "typeName": {
                        "location": 63,
                        "names": [
                          {
                            "String": {
                              "sval": "regtype",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 111,
                        },
                      },
                      "location": 118,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 121,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosrc",
                              },
                            },
                          ],
                          "location": 136,
                        },
                      },
                      "location": 146,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosrc",
                              },
                            },
                          ],
                          "location": 148,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prolang",
                              },
                            },
                          ],
                          "location": 166,
                        },
                      },
                      "location": 177,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 12,
                          },
                          "location": 179,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "prolang",
                              },
                            },
                          ],
                          "location": 186,
                        },
                      },
                      "location": 197,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 12,
                          },
                          "location": 199,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prokind",
                              },
                            },
                          ],
                          "location": 210,
                        },
                      },
                      "location": 221,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 224,
                          "sval": {
                            "sval": "a",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "prokind",
                              },
                            },
                          ],
                          "location": 232,
                        },
                      },
                      "location": 243,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 246,
                          "sval": {
                            "sval": "a",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_LIKE",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosrc",
                              },
                            },
                          ],
                          "location": 258,
                        },
                      },
                      "location": 268,
                      "name": [
                        {
                          "String": {
                            "sval": "!~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 277,
                          "sval": {
                            "sval": "range\\_constructor_",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_LIKE",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosrc",
                              },
                            },
                          ],
                          "location": 309,
                        },
                      },
                      "location": 319,
                      "name": [
                        {
                          "String": {
                            "sval": "!~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 328,
                          "sval": {
                            "sval": "range\\_constructor_",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_LIKE",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosrc",
                              },
                            },
                          ],
                          "location": 360,
                        },
                      },
                      "location": 370,
                      "name": [
                        {
                          "String": {
                            "sval": "!~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 379,
                          "sval": {
                            "sval": "multirange\\_constructor_",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_LIKE",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosrc",
                              },
                            },
                          ],
                          "location": 416,
                        },
                      },
                      "location": 426,
                      "name": [
                        {
                          "String": {
                            "sval": "!~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 435,
                          "sval": {
                            "sval": "multirange\\_constructor_",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "p1",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "proargtypes",
                                  },
                                },
                              ],
                              "location": 473,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {},
                                    "location": 488,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                      "location": 491,
                      "name": [
                        {
                          "String": {
                            "sval": "<",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "p2",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "proargtypes",
                                  },
                                },
                              ],
                              "location": 493,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {},
                                    "location": 508,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 128,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 159 1`] = `
[
  "SELECT DISTINCT p1.proargtypes[2]::regtype, p2.proargtypes[2]::regtype
FROM pg_proc AS p1, pg_proc AS p2
WHERE p1.oid != p2.oid AND
    p1.prosrc = p2.prosrc AND
    p1.prolang = 12 AND p2.prolang = 12 AND
    p1.prokind != 'a' AND p2.prokind != 'a' AND
    (p1.proargtypes[2] < p2.proargtypes[2])
ORDER BY 1, 2",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "distinctClause": [
              {},
            ],
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 76,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p2",
                  },
                  "inh": true,
                  "location": 91,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 307,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 2,
                      },
                      "location": 310,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 16,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "p1",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "proargtypes",
                                  },
                                },
                              ],
                              "location": 16,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 2,
                                    },
                                    "location": 31,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                      "location": 33,
                      "typeName": {
                        "location": 35,
                        "names": [
                          {
                            "String": {
                              "sval": "regtype",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 44,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "p2",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "proargtypes",
                                  },
                                },
                              ],
                              "location": 44,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 2,
                                    },
                                    "location": 59,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                      "location": 61,
                      "typeName": {
                        "location": 63,
                        "names": [
                          {
                            "String": {
                              "sval": "regtype",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 111,
                        },
                      },
                      "location": 118,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 121,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosrc",
                              },
                            },
                          ],
                          "location": 136,
                        },
                      },
                      "location": 146,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosrc",
                              },
                            },
                          ],
                          "location": 148,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prolang",
                              },
                            },
                          ],
                          "location": 166,
                        },
                      },
                      "location": 177,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 12,
                          },
                          "location": 179,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "prolang",
                              },
                            },
                          ],
                          "location": 186,
                        },
                      },
                      "location": 197,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 12,
                          },
                          "location": 199,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prokind",
                              },
                            },
                          ],
                          "location": 210,
                        },
                      },
                      "location": 221,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 224,
                          "sval": {
                            "sval": "a",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "prokind",
                              },
                            },
                          ],
                          "location": 232,
                        },
                      },
                      "location": 243,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 246,
                          "sval": {
                            "sval": "a",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "p1",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "proargtypes",
                                  },
                                },
                              ],
                              "location": 259,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 2,
                                    },
                                    "location": 274,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                      "location": 277,
                      "name": [
                        {
                          "String": {
                            "sval": "<",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Indirection": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "p2",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "proargtypes",
                                  },
                                },
                              ],
                              "location": 279,
                            },
                          },
                          "indirection": [
                            {
                              "A_Indices": {
                                "uidx": {
                                  "A_Const": {
                                    "ival": {
                                      "ival": 2,
                                    },
                                    "location": 294,
                                  },
                                },
                              },
                            },
                          ],
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 128,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 268 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE p1.prorettype = 'anycompatiblerange'::regtype
  AND NOT
     'anycompatiblerange'::regtype = ANY (p1.proargtypes)
ORDER BY 2",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 2,
                      },
                      "location": 174,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prorettype",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 65,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 67,
                              "sval": {
                                "sval": "anycompatiblerange",
                              },
                            },
                          },
                          "location": 87,
                          "typeName": {
                            "location": 89,
                            "names": [
                              {
                                "String": {
                                  "sval": "regtype",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP_ANY",
                            "lexpr": {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "location": 112,
                                    "sval": {
                                      "sval": "anycompatiblerange",
                                    },
                                  },
                                },
                                "location": 132,
                                "typeName": {
                                  "location": 134,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "regtype",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                            "location": 142,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "proargtypes",
                                    },
                                  },
                                ],
                                "location": 149,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "NOT_EXPR",
                      "location": 103,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 99,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 313 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE proargmodes IS NOT NULL AND
    array_length(proargmodes,1) < array_length(proargtypes,1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proargmodes",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 63,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proargmodes",
                                    },
                                  },
                                ],
                                "location": 96,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 108,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 83,
                        },
                      },
                      "location": 111,
                      "name": [
                        {
                          "String": {
                            "sval": "<",
                          },
                        },
                      ],
                      "rexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proargtypes",
                                    },
                                  },
                                ],
                                "location": 126,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 138,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 113,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 75,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 318 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE proargnames IS NOT NULL AND
    array_length(proargnames,1) < array_length(proargtypes,1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proargnames",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 63,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proargnames",
                                    },
                                  },
                                ],
                                "location": 96,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 108,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 83,
                        },
                      },
                      "location": 111,
                      "name": [
                        {
                          "String": {
                            "sval": "<",
                          },
                        },
                      ],
                      "rexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proargtypes",
                                    },
                                  },
                                ],
                                "location": 126,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 138,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 113,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 75,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 323 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE proallargtypes IS NOT NULL AND proargmodes IS NOT NULL AND
    array_length(proallargtypes,1) <> array_length(proargmodes,1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proallargtypes",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 66,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proargmodes",
                              },
                            },
                          ],
                          "location": 82,
                        },
                      },
                      "location": 94,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proallargtypes",
                                    },
                                  },
                                ],
                                "location": 127,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 142,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 114,
                        },
                      },
                      "location": 145,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proargmodes",
                                    },
                                  },
                                ],
                                "location": 161,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 173,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 148,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 78,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 328 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE proallargtypes IS NOT NULL AND proargnames IS NOT NULL AND
    array_length(proallargtypes,1) <> array_length(proargnames,1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proallargtypes",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 66,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proargnames",
                              },
                            },
                          ],
                          "location": 82,
                        },
                      },
                      "location": 94,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proallargtypes",
                                    },
                                  },
                                ],
                                "location": 127,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 142,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 114,
                        },
                      },
                      "location": 145,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proargnames",
                                    },
                                  },
                                ],
                                "location": 161,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 173,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 148,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 78,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 333 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1
WHERE proargmodes IS NOT NULL AND proargnames IS NOT NULL AND
    array_length(proargmodes,1) <> array_length(proargnames,1)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proargmodes",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 63,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proargnames",
                              },
                            },
                          ],
                          "location": 79,
                        },
                      },
                      "location": 91,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proargmodes",
                                    },
                                  },
                                ],
                                "location": 124,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 136,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 111,
                        },
                      },
                      "location": 139,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "FuncCall": {
                          "args": [
                            {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "proargnames",
                                    },
                                  },
                                ],
                                "location": 155,
                              },
                            },
                            {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 167,
                              },
                            },
                          ],
                          "funcformat": "COERCE_EXPLICIT_CALL",
                          "funcname": [
                            {
                              "String": {
                                "sval": "array_length",
                              },
                            },
                          ],
                          "location": 142,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 75,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 339 1`] = `
[
  "SELECT p1.oid, p1.proname, p1.proargtypes, p1.proallargtypes, p1.proargmodes
FROM pg_proc as p1
WHERE proallargtypes IS NOT NULL AND
  ARRAY(SELECT unnest(proargtypes)) <>
  ARRAY(SELECT proallargtypes[i]
        FROM generate_series(1, array_length(proallargtypes, 1)) g(i)
        WHERE proargmodes IS NULL OR proargmodes[i] IN ('i', 'b', 'v'))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 82,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 27,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proargtypes",
                          },
                        },
                      ],
                      "location": 27,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 43,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proallargtypes",
                          },
                        },
                      ],
                      "location": 43,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 62,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proargmodes",
                          },
                        },
                      ],
                      "location": 62,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proallargtypes",
                              },
                            },
                          ],
                          "location": 102,
                        },
                      },
                      "location": 117,
                      "nulltesttype": "IS_NOT_NULL",
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "SubLink": {
                          "location": 135,
                          "subLinkType": "ARRAY_SUBLINK",
                          "subselect": {
                            "SelectStmt": {
                              "limitOption": "LIMIT_OPTION_DEFAULT",
                              "op": "SETOP_NONE",
                              "targetList": [
                                {
                                  "ResTarget": {
                                    "location": 148,
                                    "val": {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "ColumnRef": {
                                              "fields": [
                                                {
                                                  "String": {
                                                    "sval": "proargtypes",
                                                  },
                                                },
                                              ],
                                              "location": 155,
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "unnest",
                                            },
                                          },
                                        ],
                                        "location": 148,
                                      },
                                    },
                                  },
                                },
                              ],
                            },
                          },
                        },
                      },
                      "location": 169,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "SubLink": {
                          "location": 174,
                          "subLinkType": "ARRAY_SUBLINK",
                          "subselect": {
                            "SelectStmt": {
                              "fromClause": [
                                {
                                  "RangeFunction": {
                                    "alias": {
                                      "aliasname": "g",
                                      "colnames": [
                                        {
                                          "String": {
                                            "sval": "i",
                                          },
                                        },
                                      ],
                                    },
                                    "functions": [
                                      {
                                        "List": {
                                          "items": [
                                            {
                                              "FuncCall": {
                                                "args": [
                                                  {
                                                    "A_Const": {
                                                      "ival": {
                                                        "ival": 1,
                                                      },
                                                      "location": 234,
                                                    },
                                                  },
                                                  {
                                                    "FuncCall": {
                                                      "args": [
                                                        {
                                                          "ColumnRef": {
                                                            "fields": [
                                                              {
                                                                "String": {
                                                                  "sval": "proallargtypes",
                                                                },
                                                              },
                                                            ],
                                                            "location": 250,
                                                          },
                                                        },
                                                        {
                                                          "A_Const": {
                                                            "ival": {
                                                              "ival": 1,
                                                            },
                                                            "location": 266,
                                                          },
                                                        },
                                                      ],
                                                      "funcformat": "COERCE_EXPLICIT_CALL",
                                                      "funcname": [
                                                        {
                                                          "String": {
                                                            "sval": "array_length",
                                                          },
                                                        },
                                                      ],
                                                      "location": 237,
                                                    },
                                                  },
                                                ],
                                                "funcformat": "COERCE_EXPLICIT_CALL",
                                                "funcname": [
                                                  {
                                                    "String": {
                                                      "sval": "generate_series",
                                                    },
                                                  },
                                                ],
                                                "location": 218,
                                              },
                                            },
                                            {},
                                          ],
                                        },
                                      },
                                    ],
                                  },
                                },
                              ],
                              "limitOption": "LIMIT_OPTION_DEFAULT",
                              "op": "SETOP_NONE",
                              "targetList": [
                                {
                                  "ResTarget": {
                                    "location": 187,
                                    "val": {
                                      "A_Indirection": {
                                        "arg": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "proallargtypes",
                                                },
                                              },
                                            ],
                                            "location": 187,
                                          },
                                        },
                                        "indirection": [
                                          {
                                            "A_Indices": {
                                              "uidx": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "i",
                                                      },
                                                    },
                                                  ],
                                                  "location": 202,
                                                },
                                              },
                                            },
                                          },
                                        ],
                                      },
                                    },
                                  },
                                },
                              ],
                              "whereClause": {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "NullTest": {
                                        "arg": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "proargmodes",
                                                },
                                              },
                                            ],
                                            "location": 289,
                                          },
                                        },
                                        "location": 301,
                                        "nulltesttype": "IS_NULL",
                                      },
                                    },
                                    {
                                      "A_Expr": {
                                        "kind": "AEXPR_IN",
                                        "lexpr": {
                                          "A_Indirection": {
                                            "arg": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "proargmodes",
                                                    },
                                                  },
                                                ],
                                                "location": 312,
                                              },
                                            },
                                            "indirection": [
                                              {
                                                "A_Indices": {
                                                  "uidx": {
                                                    "ColumnRef": {
                                                      "fields": [
                                                        {
                                                          "String": {
                                                            "sval": "i",
                                                          },
                                                        },
                                                      ],
                                                      "location": 324,
                                                    },
                                                  },
                                                },
                                              },
                                            ],
                                          },
                                        },
                                        "location": 327,
                                        "name": [
                                          {
                                            "String": {
                                              "sval": "=",
                                            },
                                          },
                                        ],
                                        "rexpr": {
                                          "List": {
                                            "items": [
                                              {
                                                "A_Const": {
                                                  "location": 331,
                                                  "sval": {
                                                    "sval": "i",
                                                  },
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "location": 336,
                                                  "sval": {
                                                    "sval": "b",
                                                  },
                                                },
                                              },
                                              {
                                                "A_Const": {
                                                  "location": 341,
                                                  "sval": {
                                                    "sval": "v",
                                                  },
                                                },
                                              },
                                            ],
                                          },
                                        },
                                      },
                                    },
                                  ],
                                  "boolop": "OR_EXPR",
                                  "location": 309,
                                },
                              },
                            },
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 129,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 367 1`] = `
[
  "SELECT oid::regprocedure, proargmodes, provariadic
FROM pg_proc
WHERE (proargmodes IS NOT NULL AND 'v' = any(proargmodes))
    IS DISTINCT FROM
    (provariadic != 0)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 56,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 10,
                      "typeName": {
                        "location": 12,
                        "names": [
                          {
                            "String": {
                              "sval": "regprocedure",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 26,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "proargmodes",
                          },
                        },
                      ],
                      "location": 26,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 39,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "provariadic",
                          },
                        },
                      ],
                      "location": 39,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "A_Expr": {
                "kind": "AEXPR_DISTINCT",
                "lexpr": {
                  "BoolExpr": {
                    "args": [
                      {
                        "NullTest": {
                          "arg": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "proargmodes",
                                  },
                                },
                              ],
                              "location": 71,
                            },
                          },
                          "location": 83,
                          "nulltesttype": "IS_NOT_NULL",
                        },
                      },
                      {
                        "A_Expr": {
                          "kind": "AEXPR_OP_ANY",
                          "lexpr": {
                            "A_Const": {
                              "location": 99,
                              "sval": {
                                "sval": "v",
                              },
                            },
                          },
                          "location": 103,
                          "name": [
                            {
                              "String": {
                                "sval": "=",
                              },
                            },
                          ],
                          "rexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "proargmodes",
                                  },
                                },
                              ],
                              "location": 109,
                            },
                          },
                        },
                      },
                    ],
                    "boolop": "AND_EXPR",
                    "location": 95,
                  },
                },
                "location": 127,
                "name": [
                  {
                    "String": {
                      "sval": "=",
                    },
                  },
                ],
                "rexpr": {
                  "A_Expr": {
                    "kind": "AEXPR_OP",
                    "lexpr": {
                      "ColumnRef": {
                        "fields": [
                          {
                            "String": {
                              "sval": "provariadic",
                            },
                          },
                        ],
                        "location": 149,
                      },
                    },
                    "location": 161,
                    "name": [
                      {
                        "String": {
                          "sval": "<>",
                        },
                      },
                    ],
                    "rexpr": {
                      "A_Const": {
                        "ival": {},
                        "location": 164,
                      },
                    },
                  },
                },
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 374 1`] = `
[
  "SELECT p1.oid, p1.proname, p2.oid, p2.proname
FROM pg_proc AS p1, pg_proc AS p2
WHERE p2.oid = p1.prosupport AND
    (p2.prorettype != 'internal'::regtype OR p2.proretset OR p2.pronargs != 1
     OR p2.proargtypes[0] != 'internal'::regtype)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 51,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p2",
                  },
                  "inh": true,
                  "location": 66,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 27,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p2",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 27,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 35,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p2",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 35,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 86,
                        },
                      },
                      "location": 93,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "prosupport",
                              },
                            },
                          ],
                          "location": 95,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p2",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "prorettype",
                                    },
                                  },
                                ],
                                "location": 118,
                              },
                            },
                            "location": 132,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "location": 135,
                                    "sval": {
                                      "sval": "internal",
                                    },
                                  },
                                },
                                "location": 145,
                                "typeName": {
                                  "location": 147,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "regtype",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                          },
                        },
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "p2",
                                },
                              },
                              {
                                "String": {
                                  "sval": "proretset",
                                },
                              },
                            ],
                            "location": 158,
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p2",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "pronargs",
                                    },
                                  },
                                ],
                                "location": 174,
                              },
                            },
                            "location": 186,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 189,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "A_Indirection": {
                                "arg": {
                                  "ColumnRef": {
                                    "fields": [
                                      {
                                        "String": {
                                          "sval": "p2",
                                        },
                                      },
                                      {
                                        "String": {
                                          "sval": "proargtypes",
                                        },
                                      },
                                    ],
                                    "location": 199,
                                  },
                                },
                                "indirection": [
                                  {
                                    "A_Indices": {
                                      "uidx": {
                                        "A_Const": {
                                          "ival": {},
                                          "location": 214,
                                        },
                                      },
                                    },
                                  },
                                ],
                              },
                            },
                            "location": 217,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "TypeCast": {
                                "arg": {
                                  "A_Const": {
                                    "location": 220,
                                    "sval": {
                                      "sval": "internal",
                                    },
                                  },
                                },
                                "location": 230,
                                "typeName": {
                                  "location": 232,
                                  "names": [
                                    {
                                      "String": {
                                        "sval": "regtype",
                                      },
                                    },
                                  ],
                                  "typemod": -1,
                                },
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 155,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 109,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 381 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc as p1 LEFT JOIN pg_description as d
     ON p1.tableoid = d.classoid and p1.oid = d.objoid and d.objsubid = 0
WHERE d.classoid IS NULL AND p1.oid <= 9999",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "JoinExpr": {
                  "jointype": "JOIN_LEFT",
                  "larg": {
                    "RangeVar": {
                      "alias": {
                        "aliasname": "p1",
                      },
                      "inh": true,
                      "location": 31,
                      "relname": "pg_proc",
                      "relpersistence": "p",
                    },
                  },
                  "quals": {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "tableoid",
                                    },
                                  },
                                ],
                                "location": 83,
                              },
                            },
                            "location": 95,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "d",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "classoid",
                                    },
                                  },
                                ],
                                "location": 97,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "oid",
                                    },
                                  },
                                ],
                                "location": 112,
                              },
                            },
                            "location": 119,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "d",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "objoid",
                                    },
                                  },
                                ],
                                "location": 121,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "d",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "objsubid",
                                    },
                                  },
                                ],
                                "location": 134,
                              },
                            },
                            "location": 145,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {},
                                "location": 147,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "AND_EXPR",
                      "location": 108,
                    },
                  },
                  "rarg": {
                    "RangeVar": {
                      "alias": {
                        "aliasname": "d",
                      },
                      "inh": true,
                      "location": 55,
                      "relname": "pg_description",
                      "relpersistence": "p",
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "d",
                              },
                            },
                            {
                              "String": {
                                "sval": "classoid",
                              },
                            },
                          ],
                          "location": 155,
                        },
                      },
                      "location": 166,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 178,
                        },
                      },
                      "location": 185,
                      "name": [
                        {
                          "String": {
                            "sval": "<=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 9999,
                          },
                          "location": 188,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 174,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 430 1`] = `
[
  "SELECT p1.oid, p1.proname
FROM pg_proc AS p1
WHERE provolatile = 'i' AND proparallel = 'u'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 31,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "provolatile",
                              },
                            },
                          ],
                          "location": 51,
                        },
                      },
                      "location": 63,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 65,
                          "sval": {
                            "sval": "i",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "proparallel",
                              },
                            },
                          ],
                          "location": 73,
                        },
                      },
                      "location": 85,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 87,
                          "sval": {
                            "sval": "u",
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 69,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 461 1`] = `
[
  "SELECT c.*
FROM pg_cast c, pg_proc p
WHERE c.castfunc = p.oid AND p.pronargs < 2 AND castsource = casttarget",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "c",
                  },
                  "inh": true,
                  "location": 16,
                  "relname": "pg_cast",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p",
                  },
                  "inh": true,
                  "location": 27,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "c",
                          },
                        },
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                            {
                              "String": {
                                "sval": "castfunc",
                              },
                            },
                          ],
                          "location": 43,
                        },
                      },
                      "location": 54,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 56,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p",
                              },
                            },
                            {
                              "String": {
                                "sval": "pronargs",
                              },
                            },
                          ],
                          "location": 66,
                        },
                      },
                      "location": 77,
                      "name": [
                        {
                          "String": {
                            "sval": "<",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 2,
                          },
                          "location": 79,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "castsource",
                              },
                            },
                          ],
                          "location": 85,
                        },
                      },
                      "location": 96,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "casttarget",
                              },
                            },
                          ],
                          "location": 98,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 62,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 482 1`] = `
[
  "SELECT c.*
FROM pg_cast c, pg_proc p
WHERE c.castfunc = p.oid AND
    ((p.pronargs > 1 AND p.proargtypes[1] != 'int4'::regtype) OR
     (p.pronargs > 2 AND p.proargtypes[2] != 'bool'::regtype))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "c",
                  },
                  "inh": true,
                  "location": 16,
                  "relname": "pg_cast",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p",
                  },
                  "inh": true,
                  "location": 27,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "c",
                          },
                        },
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "c",
                              },
                            },
                            {
                              "String": {
                                "sval": "castfunc",
                              },
                            },
                          ],
                          "location": 43,
                        },
                      },
                      "location": 54,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 56,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 72,
                                    },
                                  },
                                  "location": 83,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 1,
                                      },
                                      "location": 85,
                                    },
                                  },
                                },
                              },
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "A_Indirection": {
                                      "arg": {
                                        "ColumnRef": {
                                          "fields": [
                                            {
                                              "String": {
                                                "sval": "p",
                                              },
                                            },
                                            {
                                              "String": {
                                                "sval": "proargtypes",
                                              },
                                            },
                                          ],
                                          "location": 91,
                                        },
                                      },
                                      "indirection": [
                                        {
                                          "A_Indices": {
                                            "uidx": {
                                              "A_Const": {
                                                "ival": {
                                                  "ival": 1,
                                                },
                                                "location": 105,
                                              },
                                            },
                                          },
                                        },
                                      ],
                                    },
                                  },
                                  "location": 108,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "<>",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "TypeCast": {
                                      "arg": {
                                        "A_Const": {
                                          "location": 111,
                                          "sval": {
                                            "sval": "int4",
                                          },
                                        },
                                      },
                                      "location": 117,
                                      "typeName": {
                                        "location": 119,
                                        "names": [
                                          {
                                            "String": {
                                              "sval": "regtype",
                                            },
                                          },
                                        ],
                                        "typemod": -1,
                                      },
                                    },
                                  },
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 87,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 137,
                                    },
                                  },
                                  "location": 148,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 2,
                                      },
                                      "location": 150,
                                    },
                                  },
                                },
                              },
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "A_Indirection": {
                                      "arg": {
                                        "ColumnRef": {
                                          "fields": [
                                            {
                                              "String": {
                                                "sval": "p",
                                              },
                                            },
                                            {
                                              "String": {
                                                "sval": "proargtypes",
                                              },
                                            },
                                          ],
                                          "location": 156,
                                        },
                                      },
                                      "indirection": [
                                        {
                                          "A_Indices": {
                                            "uidx": {
                                              "A_Const": {
                                                "ival": {
                                                  "ival": 2,
                                                },
                                                "location": 170,
                                              },
                                            },
                                          },
                                        },
                                      ],
                                    },
                                  },
                                  "location": 173,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "<>",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "TypeCast": {
                                      "arg": {
                                        "A_Const": {
                                          "location": 176,
                                          "sval": {
                                            "sval": "bool",
                                          },
                                        },
                                      },
                                      "location": 182,
                                      "typeName": {
                                        "location": 184,
                                        "names": [
                                          {
                                            "String": {
                                              "sval": "regtype",
                                            },
                                          },
                                        ],
                                        "typemod": -1,
                                      },
                                    },
                                  },
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 152,
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 128,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 62,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 695 1`] = `
[
  "SELECT o1.oid, o1.oprname, p1.oid, p1.proname
FROM pg_operator AS o1, pg_proc AS p1
WHERE o1.oprcode = p1.oid AND
    o1.oprkind = 'l' AND
    (p1.pronargs != 1
     OR NOT binary_coercible(p1.prorettype, o1.oprresult)
     OR NOT binary_coercible(o1.oprright, p1.proargtypes[0])
     OR o1.oprleft != 0)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "o1",
                  },
                  "inh": true,
                  "location": 51,
                  "relname": "pg_operator",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 70,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oprname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 27,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 27,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 35,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 35,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprcode",
                              },
                            },
                          ],
                          "location": 90,
                        },
                      },
                      "location": 101,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 103,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprkind",
                              },
                            },
                          ],
                          "location": 118,
                        },
                      },
                      "location": 129,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 131,
                          "sval": {
                            "sval": "l",
                          },
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "pronargs",
                                    },
                                  },
                                ],
                                "location": 144,
                              },
                            },
                            "location": 156,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {
                                  "ival": 1,
                                },
                                "location": 159,
                              },
                            },
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "p1",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "prorettype",
                                            },
                                          },
                                        ],
                                        "location": 190,
                                      },
                                    },
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "o1",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "oprresult",
                                            },
                                          },
                                        ],
                                        "location": 205,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "binary_coercible",
                                      },
                                    },
                                  ],
                                  "location": 173,
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 169,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "o1",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "oprright",
                                            },
                                          },
                                        ],
                                        "location": 248,
                                      },
                                    },
                                    {
                                      "A_Indirection": {
                                        "arg": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "p1",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "proargtypes",
                                                },
                                              },
                                            ],
                                            "location": 261,
                                          },
                                        },
                                        "indirection": [
                                          {
                                            "A_Indices": {
                                              "uidx": {
                                                "A_Const": {
                                                  "ival": {},
                                                  "location": 276,
                                                },
                                              },
                                            },
                                          },
                                        ],
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "binary_coercible",
                                      },
                                    },
                                  ],
                                  "location": 231,
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 227,
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "o1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "oprleft",
                                    },
                                  },
                                ],
                                "location": 288,
                              },
                            },
                            "location": 299,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {},
                                "location": 302,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 166,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 110,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 749 1`] = `
[
  "SELECT o1.oid, o1.oprname
FROM pg_operator as o1 LEFT JOIN pg_description as d
     ON o1.tableoid = d.classoid and o1.oid = d.objoid and d.objsubid = 0
WHERE d.classoid IS NULL AND o1.oid <= 9999",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "JoinExpr": {
                  "jointype": "JOIN_LEFT",
                  "larg": {
                    "RangeVar": {
                      "alias": {
                        "aliasname": "o1",
                      },
                      "inh": true,
                      "location": 31,
                      "relname": "pg_operator",
                      "relpersistence": "p",
                    },
                  },
                  "quals": {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "o1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "tableoid",
                                    },
                                  },
                                ],
                                "location": 87,
                              },
                            },
                            "location": 99,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "d",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "classoid",
                                    },
                                  },
                                ],
                                "location": 101,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "o1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "oid",
                                    },
                                  },
                                ],
                                "location": 116,
                              },
                            },
                            "location": 123,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "d",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "objoid",
                                    },
                                  },
                                ],
                                "location": 125,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "d",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "objsubid",
                                    },
                                  },
                                ],
                                "location": 138,
                              },
                            },
                            "location": 149,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {},
                                "location": 151,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "AND_EXPR",
                      "location": 112,
                    },
                  },
                  "rarg": {
                    "RangeVar": {
                      "alias": {
                        "aliasname": "d",
                      },
                      "inh": true,
                      "location": 59,
                      "relname": "pg_description",
                      "relpersistence": "p",
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oprname",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "NullTest": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "d",
                              },
                            },
                            {
                              "String": {
                                "sval": "classoid",
                              },
                            },
                          ],
                          "location": 159,
                        },
                      },
                      "location": 170,
                      "nulltesttype": "IS_NULL",
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 182,
                        },
                      },
                      "location": 189,
                      "name": [
                        {
                          "String": {
                            "sval": "<=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 9999,
                          },
                          "location": 192,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 178,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 762 1`] = `
[
  "WITH funcdescs AS (
  SELECT p.oid as p_oid, proname, o.oid as o_oid,
    pd.description as prodesc,
    'implementation of ' || oprname || ' operator' as expecteddesc,
    od.description as oprdesc
  FROM pg_proc p JOIN pg_operator o ON oprcode = p.oid
       LEFT JOIN pg_description pd ON
         (pd.objoid = p.oid and pd.classoid = p.tableoid and pd.objsubid = 0)
       LEFT JOIN pg_description od ON
         (od.objoid = o.oid and od.classoid = o.tableoid and od.objsubid = 0)
  WHERE o.oid <= 9999
)
SELECT * FROM funcdescs
  WHERE prodesc IS DISTINCT FROM expecteddesc
    AND oprdesc NOT LIKE 'deprecated%'
    AND prodesc IS DISTINCT FROM oprdesc",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 524,
                  "relname": "funcdescs",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 517,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "A_Star": {},
                        },
                      ],
                      "location": 517,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_DISTINCT",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "prodesc",
                              },
                            },
                          ],
                          "location": 542,
                        },
                      },
                      "location": 550,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "expecteddesc",
                              },
                            },
                          ],
                          "location": 567,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_LIKE",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "oprdesc",
                              },
                            },
                          ],
                          "location": 588,
                        },
                      },
                      "location": 596,
                      "name": [
                        {
                          "String": {
                            "sval": "!~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 605,
                          "sval": {
                            "sval": "deprecated%",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_DISTINCT",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "prodesc",
                              },
                            },
                          ],
                          "location": 627,
                        },
                      },
                      "location": 635,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "oprdesc",
                              },
                            },
                          ],
                          "location": 652,
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 584,
              },
            },
            "withClause": {
              "ctes": [
                {
                  "CommonTableExpr": {
                    "ctematerialized": "CTEMaterializeDefault",
                    "ctename": "funcdescs",
                    "ctequery": {
                      "SelectStmt": {
                        "fromClause": [
                          {
                            "JoinExpr": {
                              "jointype": "JOIN_LEFT",
                              "larg": {
                                "JoinExpr": {
                                  "jointype": "JOIN_LEFT",
                                  "larg": {
                                    "JoinExpr": {
                                      "jointype": "JOIN_INNER",
                                      "larg": {
                                        "RangeVar": {
                                          "alias": {
                                            "aliasname": "p",
                                          },
                                          "inh": true,
                                          "location": 206,
                                          "relname": "pg_proc",
                                          "relpersistence": "p",
                                        },
                                      },
                                      "quals": {
                                        "A_Expr": {
                                          "kind": "AEXPR_OP",
                                          "lexpr": {
                                            "ColumnRef": {
                                              "fields": [
                                                {
                                                  "String": {
                                                    "sval": "oprcode",
                                                  },
                                                },
                                              ],
                                              "location": 238,
                                            },
                                          },
                                          "location": 246,
                                          "name": [
                                            {
                                              "String": {
                                                "sval": "=",
                                              },
                                            },
                                          ],
                                          "rexpr": {
                                            "ColumnRef": {
                                              "fields": [
                                                {
                                                  "String": {
                                                    "sval": "p",
                                                  },
                                                },
                                                {
                                                  "String": {
                                                    "sval": "oid",
                                                  },
                                                },
                                              ],
                                              "location": 248,
                                            },
                                          },
                                        },
                                      },
                                      "rarg": {
                                        "RangeVar": {
                                          "alias": {
                                            "aliasname": "o",
                                          },
                                          "inh": true,
                                          "location": 221,
                                          "relname": "pg_operator",
                                          "relpersistence": "p",
                                        },
                                      },
                                    },
                                  },
                                  "quals": {
                                    "BoolExpr": {
                                      "args": [
                                        {
                                          "A_Expr": {
                                            "kind": "AEXPR_OP",
                                            "lexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "pd",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "objoid",
                                                    },
                                                  },
                                                ],
                                                "location": 302,
                                              },
                                            },
                                            "location": 312,
                                            "name": [
                                              {
                                                "String": {
                                                  "sval": "=",
                                                },
                                              },
                                            ],
                                            "rexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "p",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "oid",
                                                    },
                                                  },
                                                ],
                                                "location": 314,
                                              },
                                            },
                                          },
                                        },
                                        {
                                          "A_Expr": {
                                            "kind": "AEXPR_OP",
                                            "lexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "pd",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "classoid",
                                                    },
                                                  },
                                                ],
                                                "location": 324,
                                              },
                                            },
                                            "location": 336,
                                            "name": [
                                              {
                                                "String": {
                                                  "sval": "=",
                                                },
                                              },
                                            ],
                                            "rexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "p",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "tableoid",
                                                    },
                                                  },
                                                ],
                                                "location": 338,
                                              },
                                            },
                                          },
                                        },
                                        {
                                          "A_Expr": {
                                            "kind": "AEXPR_OP",
                                            "lexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "pd",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "objsubid",
                                                    },
                                                  },
                                                ],
                                                "location": 353,
                                              },
                                            },
                                            "location": 365,
                                            "name": [
                                              {
                                                "String": {
                                                  "sval": "=",
                                                },
                                              },
                                            ],
                                            "rexpr": {
                                              "A_Const": {
                                                "ival": {},
                                                "location": 367,
                                              },
                                            },
                                          },
                                        },
                                      ],
                                      "boolop": "AND_EXPR",
                                      "location": 320,
                                    },
                                  },
                                  "rarg": {
                                    "RangeVar": {
                                      "alias": {
                                        "aliasname": "pd",
                                      },
                                      "inh": true,
                                      "location": 271,
                                      "relname": "pg_description",
                                      "relpersistence": "p",
                                    },
                                  },
                                },
                              },
                              "quals": {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "A_Expr": {
                                        "kind": "AEXPR_OP",
                                        "lexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "od",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "objoid",
                                                },
                                              },
                                            ],
                                            "location": 418,
                                          },
                                        },
                                        "location": 428,
                                        "name": [
                                          {
                                            "String": {
                                              "sval": "=",
                                            },
                                          },
                                        ],
                                        "rexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "o",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "oid",
                                                },
                                              },
                                            ],
                                            "location": 430,
                                          },
                                        },
                                      },
                                    },
                                    {
                                      "A_Expr": {
                                        "kind": "AEXPR_OP",
                                        "lexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "od",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "classoid",
                                                },
                                              },
                                            ],
                                            "location": 440,
                                          },
                                        },
                                        "location": 452,
                                        "name": [
                                          {
                                            "String": {
                                              "sval": "=",
                                            },
                                          },
                                        ],
                                        "rexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "o",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "tableoid",
                                                },
                                              },
                                            ],
                                            "location": 454,
                                          },
                                        },
                                      },
                                    },
                                    {
                                      "A_Expr": {
                                        "kind": "AEXPR_OP",
                                        "lexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "od",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "objsubid",
                                                },
                                              },
                                            ],
                                            "location": 469,
                                          },
                                        },
                                        "location": 481,
                                        "name": [
                                          {
                                            "String": {
                                              "sval": "=",
                                            },
                                          },
                                        ],
                                        "rexpr": {
                                          "A_Const": {
                                            "ival": {},
                                            "location": 483,
                                          },
                                        },
                                      },
                                    },
                                  ],
                                  "boolop": "AND_EXPR",
                                  "location": 436,
                                },
                              },
                              "rarg": {
                                "RangeVar": {
                                  "alias": {
                                    "aliasname": "od",
                                  },
                                  "inh": true,
                                  "location": 387,
                                  "relname": "pg_description",
                                  "relpersistence": "p",
                                },
                              },
                            },
                          },
                        ],
                        "limitOption": "LIMIT_OPTION_DEFAULT",
                        "op": "SETOP_NONE",
                        "targetList": [
                          {
                            "ResTarget": {
                              "location": 29,
                              "name": "p_oid",
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "p",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "oid",
                                      },
                                    },
                                  ],
                                  "location": 29,
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 45,
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "proname",
                                      },
                                    },
                                  ],
                                  "location": 45,
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 54,
                              "name": "o_oid",
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "o",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "oid",
                                      },
                                    },
                                  ],
                                  "location": 54,
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 74,
                              "name": "prodesc",
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "pd",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "description",
                                      },
                                    },
                                  ],
                                  "location": 74,
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 105,
                              "name": "expecteddesc",
                              "val": {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "A_Expr": {
                                      "kind": "AEXPR_OP",
                                      "lexpr": {
                                        "A_Const": {
                                          "location": 105,
                                          "sval": {
                                            "sval": "implementation of ",
                                          },
                                        },
                                      },
                                      "location": 126,
                                      "name": [
                                        {
                                          "String": {
                                            "sval": "||",
                                          },
                                        },
                                      ],
                                      "rexpr": {
                                        "ColumnRef": {
                                          "fields": [
                                            {
                                              "String": {
                                                "sval": "oprname",
                                              },
                                            },
                                          ],
                                          "location": 129,
                                        },
                                      },
                                    },
                                  },
                                  "location": 137,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "||",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "location": 140,
                                      "sval": {
                                        "sval": " operator",
                                      },
                                    },
                                  },
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 173,
                              "name": "oprdesc",
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "od",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "description",
                                      },
                                    },
                                  ],
                                  "location": 173,
                                },
                              },
                            },
                          },
                        ],
                        "whereClause": {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "o",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "oid",
                                    },
                                  },
                                ],
                                "location": 494,
                              },
                            },
                            "location": 500,
                            "name": [
                              {
                                "String": {
                                  "sval": "<=",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {
                                  "ival": 9999,
                                },
                                "location": 503,
                              },
                            },
                          },
                        },
                      },
                    },
                    "location": 5,
                  },
                },
              ],
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 783 1`] = `
[
  "WITH funcdescs AS (
  SELECT p.oid as p_oid, proname, o.oid as o_oid,
    pd.description as prodesc,
    'implementation of ' || oprname || ' operator' as expecteddesc,
    od.description as oprdesc
  FROM pg_proc p JOIN pg_operator o ON oprcode = p.oid
       LEFT JOIN pg_description pd ON
         (pd.objoid = p.oid and pd.classoid = p.tableoid and pd.objsubid = 0)
       LEFT JOIN pg_description od ON
         (od.objoid = o.oid and od.classoid = o.tableoid and od.objsubid = 0)
  WHERE o.oid <= 9999
)
SELECT p_oid, proname, prodesc FROM funcdescs
  WHERE prodesc IS DISTINCT FROM expecteddesc
    AND oprdesc NOT LIKE 'deprecated%'
ORDER BY 1",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "inh": true,
                  "location": 546,
                  "relname": "funcdescs",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 650,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 517,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p_oid",
                          },
                        },
                      ],
                      "location": 517,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 524,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 524,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 533,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "prodesc",
                          },
                        },
                      ],
                      "location": 533,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_DISTINCT",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "prodesc",
                              },
                            },
                          ],
                          "location": 564,
                        },
                      },
                      "location": 572,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "expecteddesc",
                              },
                            },
                          ],
                          "location": 589,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_LIKE",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "oprdesc",
                              },
                            },
                          ],
                          "location": 610,
                        },
                      },
                      "location": 618,
                      "name": [
                        {
                          "String": {
                            "sval": "!~~",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 627,
                          "sval": {
                            "sval": "deprecated%",
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 606,
              },
            },
            "withClause": {
              "ctes": [
                {
                  "CommonTableExpr": {
                    "ctematerialized": "CTEMaterializeDefault",
                    "ctename": "funcdescs",
                    "ctequery": {
                      "SelectStmt": {
                        "fromClause": [
                          {
                            "JoinExpr": {
                              "jointype": "JOIN_LEFT",
                              "larg": {
                                "JoinExpr": {
                                  "jointype": "JOIN_LEFT",
                                  "larg": {
                                    "JoinExpr": {
                                      "jointype": "JOIN_INNER",
                                      "larg": {
                                        "RangeVar": {
                                          "alias": {
                                            "aliasname": "p",
                                          },
                                          "inh": true,
                                          "location": 206,
                                          "relname": "pg_proc",
                                          "relpersistence": "p",
                                        },
                                      },
                                      "quals": {
                                        "A_Expr": {
                                          "kind": "AEXPR_OP",
                                          "lexpr": {
                                            "ColumnRef": {
                                              "fields": [
                                                {
                                                  "String": {
                                                    "sval": "oprcode",
                                                  },
                                                },
                                              ],
                                              "location": 238,
                                            },
                                          },
                                          "location": 246,
                                          "name": [
                                            {
                                              "String": {
                                                "sval": "=",
                                              },
                                            },
                                          ],
                                          "rexpr": {
                                            "ColumnRef": {
                                              "fields": [
                                                {
                                                  "String": {
                                                    "sval": "p",
                                                  },
                                                },
                                                {
                                                  "String": {
                                                    "sval": "oid",
                                                  },
                                                },
                                              ],
                                              "location": 248,
                                            },
                                          },
                                        },
                                      },
                                      "rarg": {
                                        "RangeVar": {
                                          "alias": {
                                            "aliasname": "o",
                                          },
                                          "inh": true,
                                          "location": 221,
                                          "relname": "pg_operator",
                                          "relpersistence": "p",
                                        },
                                      },
                                    },
                                  },
                                  "quals": {
                                    "BoolExpr": {
                                      "args": [
                                        {
                                          "A_Expr": {
                                            "kind": "AEXPR_OP",
                                            "lexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "pd",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "objoid",
                                                    },
                                                  },
                                                ],
                                                "location": 302,
                                              },
                                            },
                                            "location": 312,
                                            "name": [
                                              {
                                                "String": {
                                                  "sval": "=",
                                                },
                                              },
                                            ],
                                            "rexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "p",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "oid",
                                                    },
                                                  },
                                                ],
                                                "location": 314,
                                              },
                                            },
                                          },
                                        },
                                        {
                                          "A_Expr": {
                                            "kind": "AEXPR_OP",
                                            "lexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "pd",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "classoid",
                                                    },
                                                  },
                                                ],
                                                "location": 324,
                                              },
                                            },
                                            "location": 336,
                                            "name": [
                                              {
                                                "String": {
                                                  "sval": "=",
                                                },
                                              },
                                            ],
                                            "rexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "p",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "tableoid",
                                                    },
                                                  },
                                                ],
                                                "location": 338,
                                              },
                                            },
                                          },
                                        },
                                        {
                                          "A_Expr": {
                                            "kind": "AEXPR_OP",
                                            "lexpr": {
                                              "ColumnRef": {
                                                "fields": [
                                                  {
                                                    "String": {
                                                      "sval": "pd",
                                                    },
                                                  },
                                                  {
                                                    "String": {
                                                      "sval": "objsubid",
                                                    },
                                                  },
                                                ],
                                                "location": 353,
                                              },
                                            },
                                            "location": 365,
                                            "name": [
                                              {
                                                "String": {
                                                  "sval": "=",
                                                },
                                              },
                                            ],
                                            "rexpr": {
                                              "A_Const": {
                                                "ival": {},
                                                "location": 367,
                                              },
                                            },
                                          },
                                        },
                                      ],
                                      "boolop": "AND_EXPR",
                                      "location": 320,
                                    },
                                  },
                                  "rarg": {
                                    "RangeVar": {
                                      "alias": {
                                        "aliasname": "pd",
                                      },
                                      "inh": true,
                                      "location": 271,
                                      "relname": "pg_description",
                                      "relpersistence": "p",
                                    },
                                  },
                                },
                              },
                              "quals": {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "A_Expr": {
                                        "kind": "AEXPR_OP",
                                        "lexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "od",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "objoid",
                                                },
                                              },
                                            ],
                                            "location": 418,
                                          },
                                        },
                                        "location": 428,
                                        "name": [
                                          {
                                            "String": {
                                              "sval": "=",
                                            },
                                          },
                                        ],
                                        "rexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "o",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "oid",
                                                },
                                              },
                                            ],
                                            "location": 430,
                                          },
                                        },
                                      },
                                    },
                                    {
                                      "A_Expr": {
                                        "kind": "AEXPR_OP",
                                        "lexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "od",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "classoid",
                                                },
                                              },
                                            ],
                                            "location": 440,
                                          },
                                        },
                                        "location": 452,
                                        "name": [
                                          {
                                            "String": {
                                              "sval": "=",
                                            },
                                          },
                                        ],
                                        "rexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "o",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "tableoid",
                                                },
                                              },
                                            ],
                                            "location": 454,
                                          },
                                        },
                                      },
                                    },
                                    {
                                      "A_Expr": {
                                        "kind": "AEXPR_OP",
                                        "lexpr": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "od",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "objsubid",
                                                },
                                              },
                                            ],
                                            "location": 469,
                                          },
                                        },
                                        "location": 481,
                                        "name": [
                                          {
                                            "String": {
                                              "sval": "=",
                                            },
                                          },
                                        ],
                                        "rexpr": {
                                          "A_Const": {
                                            "ival": {},
                                            "location": 483,
                                          },
                                        },
                                      },
                                    },
                                  ],
                                  "boolop": "AND_EXPR",
                                  "location": 436,
                                },
                              },
                              "rarg": {
                                "RangeVar": {
                                  "alias": {
                                    "aliasname": "od",
                                  },
                                  "inh": true,
                                  "location": 387,
                                  "relname": "pg_description",
                                  "relpersistence": "p",
                                },
                              },
                            },
                          },
                        ],
                        "limitOption": "LIMIT_OPTION_DEFAULT",
                        "op": "SETOP_NONE",
                        "targetList": [
                          {
                            "ResTarget": {
                              "location": 29,
                              "name": "p_oid",
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "p",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "oid",
                                      },
                                    },
                                  ],
                                  "location": 29,
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 45,
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "proname",
                                      },
                                    },
                                  ],
                                  "location": 45,
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 54,
                              "name": "o_oid",
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "o",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "oid",
                                      },
                                    },
                                  ],
                                  "location": 54,
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 74,
                              "name": "prodesc",
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "pd",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "description",
                                      },
                                    },
                                  ],
                                  "location": 74,
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 105,
                              "name": "expecteddesc",
                              "val": {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "A_Expr": {
                                      "kind": "AEXPR_OP",
                                      "lexpr": {
                                        "A_Const": {
                                          "location": 105,
                                          "sval": {
                                            "sval": "implementation of ",
                                          },
                                        },
                                      },
                                      "location": 126,
                                      "name": [
                                        {
                                          "String": {
                                            "sval": "||",
                                          },
                                        },
                                      ],
                                      "rexpr": {
                                        "ColumnRef": {
                                          "fields": [
                                            {
                                              "String": {
                                                "sval": "oprname",
                                              },
                                            },
                                          ],
                                          "location": 129,
                                        },
                                      },
                                    },
                                  },
                                  "location": 137,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "||",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "location": 140,
                                      "sval": {
                                        "sval": " operator",
                                      },
                                    },
                                  },
                                },
                              },
                            },
                          },
                          {
                            "ResTarget": {
                              "location": 173,
                              "name": "oprdesc",
                              "val": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "od",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "description",
                                      },
                                    },
                                  ],
                                  "location": 173,
                                },
                              },
                            },
                          },
                        ],
                        "whereClause": {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "o",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "oid",
                                    },
                                  },
                                ],
                                "location": 494,
                              },
                            },
                            "location": 500,
                            "name": [
                              {
                                "String": {
                                  "sval": "<=",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {
                                  "ival": 9999,
                                },
                                "location": 503,
                              },
                            },
                          },
                        },
                      },
                    },
                    "location": 5,
                  },
                },
              ],
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 802 1`] = `
[
  "SELECT o1.oid, o1.oprcode, o2.oid, o2.oprcode
FROM pg_operator AS o1, pg_operator AS o2, pg_proc AS p1, pg_proc AS p2
WHERE o1.oprcom = o2.oid AND p1.oid = o1.oprcode AND p2.oid = o2.oprcode AND
    (p1.provolatile != p2.provolatile OR
     p1.proleakproof != p2.proleakproof)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "o1",
                  },
                  "inh": true,
                  "location": 51,
                  "relname": "pg_operator",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "o2",
                  },
                  "inh": true,
                  "location": 70,
                  "relname": "pg_operator",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 89,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p2",
                  },
                  "inh": true,
                  "location": 104,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oprcode",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 27,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o2",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 27,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 35,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o2",
                          },
                        },
                        {
                          "String": {
                            "sval": "oprcode",
                          },
                        },
                      ],
                      "location": 35,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprcom",
                              },
                            },
                          ],
                          "location": 124,
                        },
                      },
                      "location": 134,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 136,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 147,
                        },
                      },
                      "location": 154,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprcode",
                              },
                            },
                          ],
                          "location": 156,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 171,
                        },
                      },
                      "location": 178,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprcode",
                              },
                            },
                          ],
                          "location": 180,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "provolatile",
                                    },
                                  },
                                ],
                                "location": 200,
                              },
                            },
                            "location": 215,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p2",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "provolatile",
                                    },
                                  },
                                ],
                                "location": 218,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "proleakproof",
                                    },
                                  },
                                ],
                                "location": 241,
                              },
                            },
                            "location": 257,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p2",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "proleakproof",
                                    },
                                  },
                                ],
                                "location": 260,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 233,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 143,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 809 1`] = `
[
  "SELECT o1.oid, o1.oprcode, o2.oid, o2.oprcode
FROM pg_operator AS o1, pg_operator AS o2, pg_proc AS p1, pg_proc AS p2
WHERE o1.oprnegate = o2.oid AND p1.oid = o1.oprcode AND p2.oid = o2.oprcode AND
    (p1.provolatile != p2.provolatile OR
     p1.proleakproof != p2.proleakproof)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "o1",
                  },
                  "inh": true,
                  "location": 51,
                  "relname": "pg_operator",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "o2",
                  },
                  "inh": true,
                  "location": 70,
                  "relname": "pg_operator",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 89,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p2",
                  },
                  "inh": true,
                  "location": 104,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 15,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oprcode",
                          },
                        },
                      ],
                      "location": 15,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 27,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o2",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 27,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 35,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o2",
                          },
                        },
                        {
                          "String": {
                            "sval": "oprcode",
                          },
                        },
                      ],
                      "location": 35,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprnegate",
                              },
                            },
                          ],
                          "location": 124,
                        },
                      },
                      "location": 137,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 139,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 150,
                        },
                      },
                      "location": 157,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprcode",
                              },
                            },
                          ],
                          "location": 159,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 174,
                        },
                      },
                      "location": 181,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o2",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprcode",
                              },
                            },
                          ],
                          "location": 183,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "provolatile",
                                    },
                                  },
                                ],
                                "location": 203,
                              },
                            },
                            "location": 218,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p2",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "provolatile",
                                    },
                                  },
                                ],
                                "location": 221,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p1",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "proleakproof",
                                    },
                                  },
                                ],
                                "location": 244,
                              },
                            },
                            "location": 260,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p2",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "proleakproof",
                                    },
                                  },
                                ],
                                "location": 263,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 236,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 146,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 817 1`] = `
[
  "SELECT pp.oid::regprocedure as proc, pp.provolatile as vp, pp.proleakproof as lp,
       po.oid::regprocedure as opr, po.provolatile as vo, po.proleakproof as lo
FROM pg_proc pp, pg_proc po, pg_operator o, pg_amproc ap, pg_amop ao
WHERE pp.oid = ap.amproc AND po.oid = o.oprcode AND o.oid = ao.amopopr AND
    ao.amopmethod = (SELECT oid FROM pg_am WHERE amname = 'btree') AND
    ao.amopfamily = ap.amprocfamily AND
    ao.amoplefttype = ap.amproclefttype AND
    ao.amoprighttype = ap.amprocrighttype AND
    ap.amprocnum = 1 AND
    (pp.provolatile != po.provolatile OR
     pp.proleakproof != po.proleakproof)
ORDER BY 1",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "pp",
                  },
                  "inh": true,
                  "location": 167,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "po",
                  },
                  "inh": true,
                  "location": 179,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "o",
                  },
                  "inh": true,
                  "location": 191,
                  "relname": "pg_operator",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "ap",
                  },
                  "inh": true,
                  "location": 206,
                  "relname": "pg_amproc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "ao",
                  },
                  "inh": true,
                  "location": 220,
                  "relname": "pg_amop",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 623,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "proc",
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "pp",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 13,
                      "typeName": {
                        "location": 15,
                        "names": [
                          {
                            "String": {
                              "sval": "regprocedure",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 37,
                  "name": "vp",
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "pp",
                          },
                        },
                        {
                          "String": {
                            "sval": "provolatile",
                          },
                        },
                      ],
                      "location": 37,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 59,
                  "name": "lp",
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "pp",
                          },
                        },
                        {
                          "String": {
                            "sval": "proleakproof",
                          },
                        },
                      ],
                      "location": 59,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 89,
                  "name": "opr",
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "po",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 89,
                        },
                      },
                      "location": 95,
                      "typeName": {
                        "location": 97,
                        "names": [
                          {
                            "String": {
                              "sval": "regprocedure",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 118,
                  "name": "vo",
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "po",
                          },
                        },
                        {
                          "String": {
                            "sval": "provolatile",
                          },
                        },
                      ],
                      "location": 118,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 140,
                  "name": "lo",
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "po",
                          },
                        },
                        {
                          "String": {
                            "sval": "proleakproof",
                          },
                        },
                      ],
                      "location": 140,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "pp",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 237,
                        },
                      },
                      "location": 244,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ap",
                              },
                            },
                            {
                              "String": {
                                "sval": "amproc",
                              },
                            },
                          ],
                          "location": 246,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "po",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 260,
                        },
                      },
                      "location": 267,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprcode",
                              },
                            },
                          ],
                          "location": 269,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 283,
                        },
                      },
                      "location": 289,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ao",
                              },
                            },
                            {
                              "String": {
                                "sval": "amopopr",
                              },
                            },
                          ],
                          "location": 291,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ao",
                              },
                            },
                            {
                              "String": {
                                "sval": "amopmethod",
                              },
                            },
                          ],
                          "location": 310,
                        },
                      },
                      "location": 324,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "SubLink": {
                          "location": 326,
                          "subLinkType": "EXPR_SUBLINK",
                          "subselect": {
                            "SelectStmt": {
                              "fromClause": [
                                {
                                  "RangeVar": {
                                    "inh": true,
                                    "location": 343,
                                    "relname": "pg_am",
                                    "relpersistence": "p",
                                  },
                                },
                              ],
                              "limitOption": "LIMIT_OPTION_DEFAULT",
                              "op": "SETOP_NONE",
                              "targetList": [
                                {
                                  "ResTarget": {
                                    "location": 334,
                                    "val": {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "oid",
                                            },
                                          },
                                        ],
                                        "location": 334,
                                      },
                                    },
                                  },
                                },
                              ],
                              "whereClause": {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "amname",
                                          },
                                        },
                                      ],
                                      "location": 355,
                                    },
                                  },
                                  "location": 362,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "=",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "location": 364,
                                      "sval": {
                                        "sval": "btree",
                                      },
                                    },
                                  },
                                },
                              },
                            },
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ao",
                              },
                            },
                            {
                              "String": {
                                "sval": "amopfamily",
                              },
                            },
                          ],
                          "location": 381,
                        },
                      },
                      "location": 395,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ap",
                              },
                            },
                            {
                              "String": {
                                "sval": "amprocfamily",
                              },
                            },
                          ],
                          "location": 397,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ao",
                              },
                            },
                            {
                              "String": {
                                "sval": "amoplefttype",
                              },
                            },
                          ],
                          "location": 421,
                        },
                      },
                      "location": 437,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ap",
                              },
                            },
                            {
                              "String": {
                                "sval": "amproclefttype",
                              },
                            },
                          ],
                          "location": 439,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ao",
                              },
                            },
                            {
                              "String": {
                                "sval": "amoprighttype",
                              },
                            },
                          ],
                          "location": 465,
                        },
                      },
                      "location": 482,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ap",
                              },
                            },
                            {
                              "String": {
                                "sval": "amprocrighttype",
                              },
                            },
                          ],
                          "location": 484,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ap",
                              },
                            },
                            {
                              "String": {
                                "sval": "amprocnum",
                              },
                            },
                          ],
                          "location": 511,
                        },
                      },
                      "location": 524,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {
                            "ival": 1,
                          },
                          "location": 526,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "pp",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "provolatile",
                                    },
                                  },
                                ],
                                "location": 537,
                              },
                            },
                            "location": 552,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "po",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "provolatile",
                                    },
                                  },
                                ],
                                "location": 555,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "pp",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "proleakproof",
                                    },
                                  },
                                ],
                                "location": 578,
                              },
                            },
                            "location": 594,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "po",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "proleakproof",
                                    },
                                  },
                                ],
                                "location": 597,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 570,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 256,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 867 1`] = `
[
  "SELECT a.aggfnoid::oid, p.proname, ptr.oid, ptr.proname
FROM pg_aggregate AS a, pg_proc AS p, pg_proc AS ptr
WHERE a.aggfnoid = p.oid AND
    a.aggtransfn = ptr.oid AND
    (ptr.proretset
     OR NOT (ptr.pronargs =
             CASE WHEN a.aggkind = 'n' THEN p.pronargs + 1
             ELSE greatest(p.pronargs - a.aggnumdirectargs, 1) + 1 END)
     OR NOT binary_coercible(ptr.prorettype, a.aggtranstype)
     OR NOT binary_coercible(a.aggtranstype, ptr.proargtypes[0])
     OR (p.pronargs > 0 AND
         NOT binary_coercible(p.proargtypes[0], ptr.proargtypes[1]))
     OR (p.pronargs > 1 AND
         NOT binary_coercible(p.proargtypes[1], ptr.proargtypes[2]))
     OR (p.pronargs > 2 AND
         NOT binary_coercible(p.proargtypes[2], ptr.proargtypes[3]))
     OR (p.pronargs > 3 AND
         NOT binary_coercible(p.proargtypes[3], ptr.proargtypes[4]))
     -- we could carry the check further, but 4 args is enough for now
     OR (p.pronargs > 4)
    )",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "a",
                  },
                  "inh": true,
                  "location": 61,
                  "relname": "pg_aggregate",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p",
                  },
                  "inh": true,
                  "location": 80,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "ptr",
                  },
                  "inh": true,
                  "location": 94,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggfnoid",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 17,
                      "typeName": {
                        "location": 19,
                        "names": [
                          {
                            "String": {
                              "sval": "oid",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 24,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 24,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 35,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ptr",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 35,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 44,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ptr",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 44,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggfnoid",
                              },
                            },
                          ],
                          "location": 115,
                        },
                      },
                      "location": 126,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 128,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggtransfn",
                              },
                            },
                          ],
                          "location": 142,
                        },
                      },
                      "location": 155,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ptr",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 157,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "ptr",
                                },
                              },
                              {
                                "String": {
                                  "sval": "proretset",
                                },
                              },
                            ],
                            "location": 174,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "ptr",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 201,
                                    },
                                  },
                                  "location": 214,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "=",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "CaseExpr": {
                                      "args": [
                                        {
                                          "CaseWhen": {
                                            "expr": {
                                              "A_Expr": {
                                                "kind": "AEXPR_OP",
                                                "lexpr": {
                                                  "ColumnRef": {
                                                    "fields": [
                                                      {
                                                        "String": {
                                                          "sval": "a",
                                                        },
                                                      },
                                                      {
                                                        "String": {
                                                          "sval": "aggkind",
                                                        },
                                                      },
                                                    ],
                                                    "location": 239,
                                                  },
                                                },
                                                "location": 249,
                                                "name": [
                                                  {
                                                    "String": {
                                                      "sval": "=",
                                                    },
                                                  },
                                                ],
                                                "rexpr": {
                                                  "A_Const": {
                                                    "location": 251,
                                                    "sval": {
                                                      "sval": "n",
                                                    },
                                                  },
                                                },
                                              },
                                            },
                                            "location": 234,
                                            "result": {
                                              "A_Expr": {
                                                "kind": "AEXPR_OP",
                                                "lexpr": {
                                                  "ColumnRef": {
                                                    "fields": [
                                                      {
                                                        "String": {
                                                          "sval": "p",
                                                        },
                                                      },
                                                      {
                                                        "String": {
                                                          "sval": "pronargs",
                                                        },
                                                      },
                                                    ],
                                                    "location": 260,
                                                  },
                                                },
                                                "location": 271,
                                                "name": [
                                                  {
                                                    "String": {
                                                      "sval": "+",
                                                    },
                                                  },
                                                ],
                                                "rexpr": {
                                                  "A_Const": {
                                                    "ival": {
                                                      "ival": 1,
                                                    },
                                                    "location": 273,
                                                  },
                                                },
                                              },
                                            },
                                          },
                                        },
                                      ],
                                      "defresult": {
                                        "A_Expr": {
                                          "kind": "AEXPR_OP",
                                          "lexpr": {
                                            "MinMaxExpr": {
                                              "args": [
                                                {
                                                  "A_Expr": {
                                                    "kind": "AEXPR_OP",
                                                    "lexpr": {
                                                      "ColumnRef": {
                                                        "fields": [
                                                          {
                                                            "String": {
                                                              "sval": "p",
                                                            },
                                                          },
                                                          {
                                                            "String": {
                                                              "sval": "pronargs",
                                                            },
                                                          },
                                                        ],
                                                        "location": 302,
                                                      },
                                                    },
                                                    "location": 313,
                                                    "name": [
                                                      {
                                                        "String": {
                                                          "sval": "-",
                                                        },
                                                      },
                                                    ],
                                                    "rexpr": {
                                                      "ColumnRef": {
                                                        "fields": [
                                                          {
                                                            "String": {
                                                              "sval": "a",
                                                            },
                                                          },
                                                          {
                                                            "String": {
                                                              "sval": "aggnumdirectargs",
                                                            },
                                                          },
                                                        ],
                                                        "location": 315,
                                                      },
                                                    },
                                                  },
                                                },
                                                {
                                                  "A_Const": {
                                                    "ival": {
                                                      "ival": 1,
                                                    },
                                                    "location": 335,
                                                  },
                                                },
                                              ],
                                              "location": 293,
                                              "op": "IS_GREATEST",
                                            },
                                          },
                                          "location": 338,
                                          "name": [
                                            {
                                              "String": {
                                                "sval": "+",
                                              },
                                            },
                                          ],
                                          "rexpr": {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 1,
                                              },
                                              "location": 340,
                                            },
                                          },
                                        },
                                      },
                                      "location": 229,
                                    },
                                  },
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 196,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "ptr",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "prorettype",
                                            },
                                          },
                                        ],
                                        "location": 376,
                                      },
                                    },
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "a",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "aggtranstype",
                                            },
                                          },
                                        ],
                                        "location": 392,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "binary_coercible",
                                      },
                                    },
                                  ],
                                  "location": 359,
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 355,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "a",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "aggtranstype",
                                            },
                                          },
                                        ],
                                        "location": 437,
                                      },
                                    },
                                    {
                                      "A_Indirection": {
                                        "arg": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "ptr",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "proargtypes",
                                                },
                                              },
                                            ],
                                            "location": 453,
                                          },
                                        },
                                        "indirection": [
                                          {
                                            "A_Indices": {
                                              "uidx": {
                                                "A_Const": {
                                                  "ival": {},
                                                  "location": 469,
                                                },
                                              },
                                            },
                                          },
                                        ],
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "binary_coercible",
                                      },
                                    },
                                  ],
                                  "location": 420,
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 416,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 482,
                                    },
                                  },
                                  "location": 493,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 495,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 531,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {},
                                                        "location": 545,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 549,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 1,
                                                        },
                                                        "location": 565,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 514,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 510,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 497,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 579,
                                    },
                                  },
                                  "location": 590,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 1,
                                      },
                                      "location": 592,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 628,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 1,
                                                        },
                                                        "location": 642,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 646,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 2,
                                                        },
                                                        "location": 662,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 611,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 607,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 594,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 676,
                                    },
                                  },
                                  "location": 687,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 2,
                                      },
                                      "location": 689,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 725,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 2,
                                                        },
                                                        "location": 739,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 743,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 3,
                                                        },
                                                        "location": 759,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 708,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 704,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 691,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 773,
                                    },
                                  },
                                  "location": 784,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 3,
                                      },
                                      "location": 786,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 822,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 3,
                                                        },
                                                        "location": 836,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 840,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 4,
                                                        },
                                                        "location": 856,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 805,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 801,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 788,
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "pronargs",
                                    },
                                  },
                                ],
                                "location": 941,
                              },
                            },
                            "location": 952,
                            "name": [
                              {
                                "String": {
                                  "sval": ">",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {
                                  "ival": 4,
                                },
                                "location": 954,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 193,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 134,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 928 1`] = `
[
  "SELECT ctid, aggfnoid::oid
FROM pg_aggregate as a
WHERE aggmtranstype = 0 AND
    (aggmtransfn != 0 OR aggminvtransfn != 0 OR aggmfinalfn != 0 OR
     aggmtransspace != 0 OR aggminitval IS NOT NULL)",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "a",
                  },
                  "inh": true,
                  "location": 32,
                  "relname": "pg_aggregate",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ctid",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 13,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "aggfnoid",
                              },
                            },
                          ],
                          "location": 13,
                        },
                      },
                      "location": 21,
                      "typeName": {
                        "location": 23,
                        "names": [
                          {
                            "String": {
                              "sval": "oid",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "aggmtranstype",
                              },
                            },
                          ],
                          "location": 56,
                        },
                      },
                      "location": 70,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "ival": {},
                          "location": 72,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "aggmtransfn",
                                    },
                                  },
                                ],
                                "location": 83,
                              },
                            },
                            "location": 95,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {},
                                "location": 98,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "aggminvtransfn",
                                    },
                                  },
                                ],
                                "location": 103,
                              },
                            },
                            "location": 118,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {},
                                "location": 121,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "aggmfinalfn",
                                    },
                                  },
                                ],
                                "location": 126,
                              },
                            },
                            "location": 138,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {},
                                "location": 141,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "aggmtransspace",
                                    },
                                  },
                                ],
                                "location": 151,
                              },
                            },
                            "location": 166,
                            "name": [
                              {
                                "String": {
                                  "sval": "<>",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {},
                                "location": 169,
                              },
                            },
                          },
                        },
                        {
                          "NullTest": {
                            "arg": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "aggminitval",
                                    },
                                  },
                                ],
                                "location": 174,
                              },
                            },
                            "location": 186,
                            "nulltesttype": "IS_NOT_NULL",
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 100,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 74,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 943 1`] = `
[
  "SELECT a.aggfnoid::oid, p.proname, ptr.oid, ptr.proname
FROM pg_aggregate AS a, pg_proc AS p, pg_proc AS ptr
WHERE a.aggfnoid = p.oid AND
    a.aggmtransfn = ptr.oid AND
    (ptr.proretset
     OR NOT (ptr.pronargs =
             CASE WHEN a.aggkind = 'n' THEN p.pronargs + 1
             ELSE greatest(p.pronargs - a.aggnumdirectargs, 1) + 1 END)
     OR NOT binary_coercible(ptr.prorettype, a.aggmtranstype)
     OR NOT binary_coercible(a.aggmtranstype, ptr.proargtypes[0])
     OR (p.pronargs > 0 AND
         NOT binary_coercible(p.proargtypes[0], ptr.proargtypes[1]))
     OR (p.pronargs > 1 AND
         NOT binary_coercible(p.proargtypes[1], ptr.proargtypes[2]))
     OR (p.pronargs > 2 AND
         NOT binary_coercible(p.proargtypes[2], ptr.proargtypes[3]))
     -- we could carry the check further, but 3 args is enough for now
     OR (p.pronargs > 3)
    )",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "a",
                  },
                  "inh": true,
                  "location": 61,
                  "relname": "pg_aggregate",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p",
                  },
                  "inh": true,
                  "location": 80,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "ptr",
                  },
                  "inh": true,
                  "location": 94,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggfnoid",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 17,
                      "typeName": {
                        "location": 19,
                        "names": [
                          {
                            "String": {
                              "sval": "oid",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 24,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 24,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 35,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ptr",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 35,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 44,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ptr",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 44,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggfnoid",
                              },
                            },
                          ],
                          "location": 115,
                        },
                      },
                      "location": 126,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 128,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggmtransfn",
                              },
                            },
                          ],
                          "location": 142,
                        },
                      },
                      "location": 156,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ptr",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 158,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "ptr",
                                },
                              },
                              {
                                "String": {
                                  "sval": "proretset",
                                },
                              },
                            ],
                            "location": 175,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "ptr",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 202,
                                    },
                                  },
                                  "location": 215,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "=",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "CaseExpr": {
                                      "args": [
                                        {
                                          "CaseWhen": {
                                            "expr": {
                                              "A_Expr": {
                                                "kind": "AEXPR_OP",
                                                "lexpr": {
                                                  "ColumnRef": {
                                                    "fields": [
                                                      {
                                                        "String": {
                                                          "sval": "a",
                                                        },
                                                      },
                                                      {
                                                        "String": {
                                                          "sval": "aggkind",
                                                        },
                                                      },
                                                    ],
                                                    "location": 240,
                                                  },
                                                },
                                                "location": 250,
                                                "name": [
                                                  {
                                                    "String": {
                                                      "sval": "=",
                                                    },
                                                  },
                                                ],
                                                "rexpr": {
                                                  "A_Const": {
                                                    "location": 252,
                                                    "sval": {
                                                      "sval": "n",
                                                    },
                                                  },
                                                },
                                              },
                                            },
                                            "location": 235,
                                            "result": {
                                              "A_Expr": {
                                                "kind": "AEXPR_OP",
                                                "lexpr": {
                                                  "ColumnRef": {
                                                    "fields": [
                                                      {
                                                        "String": {
                                                          "sval": "p",
                                                        },
                                                      },
                                                      {
                                                        "String": {
                                                          "sval": "pronargs",
                                                        },
                                                      },
                                                    ],
                                                    "location": 261,
                                                  },
                                                },
                                                "location": 272,
                                                "name": [
                                                  {
                                                    "String": {
                                                      "sval": "+",
                                                    },
                                                  },
                                                ],
                                                "rexpr": {
                                                  "A_Const": {
                                                    "ival": {
                                                      "ival": 1,
                                                    },
                                                    "location": 274,
                                                  },
                                                },
                                              },
                                            },
                                          },
                                        },
                                      ],
                                      "defresult": {
                                        "A_Expr": {
                                          "kind": "AEXPR_OP",
                                          "lexpr": {
                                            "MinMaxExpr": {
                                              "args": [
                                                {
                                                  "A_Expr": {
                                                    "kind": "AEXPR_OP",
                                                    "lexpr": {
                                                      "ColumnRef": {
                                                        "fields": [
                                                          {
                                                            "String": {
                                                              "sval": "p",
                                                            },
                                                          },
                                                          {
                                                            "String": {
                                                              "sval": "pronargs",
                                                            },
                                                          },
                                                        ],
                                                        "location": 303,
                                                      },
                                                    },
                                                    "location": 314,
                                                    "name": [
                                                      {
                                                        "String": {
                                                          "sval": "-",
                                                        },
                                                      },
                                                    ],
                                                    "rexpr": {
                                                      "ColumnRef": {
                                                        "fields": [
                                                          {
                                                            "String": {
                                                              "sval": "a",
                                                            },
                                                          },
                                                          {
                                                            "String": {
                                                              "sval": "aggnumdirectargs",
                                                            },
                                                          },
                                                        ],
                                                        "location": 316,
                                                      },
                                                    },
                                                  },
                                                },
                                                {
                                                  "A_Const": {
                                                    "ival": {
                                                      "ival": 1,
                                                    },
                                                    "location": 336,
                                                  },
                                                },
                                              ],
                                              "location": 294,
                                              "op": "IS_GREATEST",
                                            },
                                          },
                                          "location": 339,
                                          "name": [
                                            {
                                              "String": {
                                                "sval": "+",
                                              },
                                            },
                                          ],
                                          "rexpr": {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 1,
                                              },
                                              "location": 341,
                                            },
                                          },
                                        },
                                      },
                                      "location": 230,
                                    },
                                  },
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 197,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "ptr",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "prorettype",
                                            },
                                          },
                                        ],
                                        "location": 377,
                                      },
                                    },
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "a",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "aggmtranstype",
                                            },
                                          },
                                        ],
                                        "location": 393,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "binary_coercible",
                                      },
                                    },
                                  ],
                                  "location": 360,
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 356,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "a",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "aggmtranstype",
                                            },
                                          },
                                        ],
                                        "location": 439,
                                      },
                                    },
                                    {
                                      "A_Indirection": {
                                        "arg": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "ptr",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "proargtypes",
                                                },
                                              },
                                            ],
                                            "location": 456,
                                          },
                                        },
                                        "indirection": [
                                          {
                                            "A_Indices": {
                                              "uidx": {
                                                "A_Const": {
                                                  "ival": {},
                                                  "location": 472,
                                                },
                                              },
                                            },
                                          },
                                        ],
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "binary_coercible",
                                      },
                                    },
                                  ],
                                  "location": 422,
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 418,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 485,
                                    },
                                  },
                                  "location": 496,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 498,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 534,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {},
                                                        "location": 548,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 552,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 1,
                                                        },
                                                        "location": 568,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 517,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 513,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 500,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 582,
                                    },
                                  },
                                  "location": 593,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 1,
                                      },
                                      "location": 595,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 631,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 1,
                                                        },
                                                        "location": 645,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 649,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 2,
                                                        },
                                                        "location": 665,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 614,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 610,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 597,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 679,
                                    },
                                  },
                                  "location": 690,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 2,
                                      },
                                      "location": 692,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 728,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 2,
                                                        },
                                                        "location": 742,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 746,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 3,
                                                        },
                                                        "location": 762,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 711,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 707,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 694,
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "pronargs",
                                    },
                                  },
                                ],
                                "location": 847,
                              },
                            },
                            "location": 858,
                            "name": [
                              {
                                "String": {
                                  "sval": ">",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {
                                  "ival": 3,
                                },
                                "location": 860,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 194,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 134,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 964 1`] = `
[
  "SELECT a.aggfnoid::oid, p.proname, ptr.oid, ptr.proname
FROM pg_aggregate AS a, pg_proc AS p, pg_proc AS ptr
WHERE a.aggfnoid = p.oid AND
    a.aggminvtransfn = ptr.oid AND
    (ptr.proretset
     OR NOT (ptr.pronargs =
             CASE WHEN a.aggkind = 'n' THEN p.pronargs + 1
             ELSE greatest(p.pronargs - a.aggnumdirectargs, 1) + 1 END)
     OR NOT binary_coercible(ptr.prorettype, a.aggmtranstype)
     OR NOT binary_coercible(a.aggmtranstype, ptr.proargtypes[0])
     OR (p.pronargs > 0 AND
         NOT binary_coercible(p.proargtypes[0], ptr.proargtypes[1]))
     OR (p.pronargs > 1 AND
         NOT binary_coercible(p.proargtypes[1], ptr.proargtypes[2]))
     OR (p.pronargs > 2 AND
         NOT binary_coercible(p.proargtypes[2], ptr.proargtypes[3]))
     -- we could carry the check further, but 3 args is enough for now
     OR (p.pronargs > 3)
    )",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "a",
                  },
                  "inh": true,
                  "location": 61,
                  "relname": "pg_aggregate",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p",
                  },
                  "inh": true,
                  "location": 80,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "ptr",
                  },
                  "inh": true,
                  "location": 94,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggfnoid",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 17,
                      "typeName": {
                        "location": 19,
                        "names": [
                          {
                            "String": {
                              "sval": "oid",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 24,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 24,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 35,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ptr",
                          },
                        },
                        {
                          "String": {
                            "sval": "oid",
                          },
                        },
                      ],
                      "location": 35,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 44,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "ptr",
                          },
                        },
                        {
                          "String": {
                            "sval": "proname",
                          },
                        },
                      ],
                      "location": 44,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggfnoid",
                              },
                            },
                          ],
                          "location": 115,
                        },
                      },
                      "location": 126,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 128,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a",
                              },
                            },
                            {
                              "String": {
                                "sval": "aggminvtransfn",
                              },
                            },
                          ],
                          "location": 142,
                        },
                      },
                      "location": 159,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "ptr",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 161,
                        },
                      },
                    },
                  },
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "ColumnRef": {
                            "fields": [
                              {
                                "String": {
                                  "sval": "ptr",
                                },
                              },
                              {
                                "String": {
                                  "sval": "proretset",
                                },
                              },
                            ],
                            "location": 178,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "ptr",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 205,
                                    },
                                  },
                                  "location": 218,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "=",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "CaseExpr": {
                                      "args": [
                                        {
                                          "CaseWhen": {
                                            "expr": {
                                              "A_Expr": {
                                                "kind": "AEXPR_OP",
                                                "lexpr": {
                                                  "ColumnRef": {
                                                    "fields": [
                                                      {
                                                        "String": {
                                                          "sval": "a",
                                                        },
                                                      },
                                                      {
                                                        "String": {
                                                          "sval": "aggkind",
                                                        },
                                                      },
                                                    ],
                                                    "location": 243,
                                                  },
                                                },
                                                "location": 253,
                                                "name": [
                                                  {
                                                    "String": {
                                                      "sval": "=",
                                                    },
                                                  },
                                                ],
                                                "rexpr": {
                                                  "A_Const": {
                                                    "location": 255,
                                                    "sval": {
                                                      "sval": "n",
                                                    },
                                                  },
                                                },
                                              },
                                            },
                                            "location": 238,
                                            "result": {
                                              "A_Expr": {
                                                "kind": "AEXPR_OP",
                                                "lexpr": {
                                                  "ColumnRef": {
                                                    "fields": [
                                                      {
                                                        "String": {
                                                          "sval": "p",
                                                        },
                                                      },
                                                      {
                                                        "String": {
                                                          "sval": "pronargs",
                                                        },
                                                      },
                                                    ],
                                                    "location": 264,
                                                  },
                                                },
                                                "location": 275,
                                                "name": [
                                                  {
                                                    "String": {
                                                      "sval": "+",
                                                    },
                                                  },
                                                ],
                                                "rexpr": {
                                                  "A_Const": {
                                                    "ival": {
                                                      "ival": 1,
                                                    },
                                                    "location": 277,
                                                  },
                                                },
                                              },
                                            },
                                          },
                                        },
                                      ],
                                      "defresult": {
                                        "A_Expr": {
                                          "kind": "AEXPR_OP",
                                          "lexpr": {
                                            "MinMaxExpr": {
                                              "args": [
                                                {
                                                  "A_Expr": {
                                                    "kind": "AEXPR_OP",
                                                    "lexpr": {
                                                      "ColumnRef": {
                                                        "fields": [
                                                          {
                                                            "String": {
                                                              "sval": "p",
                                                            },
                                                          },
                                                          {
                                                            "String": {
                                                              "sval": "pronargs",
                                                            },
                                                          },
                                                        ],
                                                        "location": 306,
                                                      },
                                                    },
                                                    "location": 317,
                                                    "name": [
                                                      {
                                                        "String": {
                                                          "sval": "-",
                                                        },
                                                      },
                                                    ],
                                                    "rexpr": {
                                                      "ColumnRef": {
                                                        "fields": [
                                                          {
                                                            "String": {
                                                              "sval": "a",
                                                            },
                                                          },
                                                          {
                                                            "String": {
                                                              "sval": "aggnumdirectargs",
                                                            },
                                                          },
                                                        ],
                                                        "location": 319,
                                                      },
                                                    },
                                                  },
                                                },
                                                {
                                                  "A_Const": {
                                                    "ival": {
                                                      "ival": 1,
                                                    },
                                                    "location": 339,
                                                  },
                                                },
                                              ],
                                              "location": 297,
                                              "op": "IS_GREATEST",
                                            },
                                          },
                                          "location": 342,
                                          "name": [
                                            {
                                              "String": {
                                                "sval": "+",
                                              },
                                            },
                                          ],
                                          "rexpr": {
                                            "A_Const": {
                                              "ival": {
                                                "ival": 1,
                                              },
                                              "location": 344,
                                            },
                                          },
                                        },
                                      },
                                      "location": 233,
                                    },
                                  },
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 200,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "ptr",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "prorettype",
                                            },
                                          },
                                        ],
                                        "location": 380,
                                      },
                                    },
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "a",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "aggmtranstype",
                                            },
                                          },
                                        ],
                                        "location": 396,
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "binary_coercible",
                                      },
                                    },
                                  ],
                                  "location": 363,
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 359,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "FuncCall": {
                                  "args": [
                                    {
                                      "ColumnRef": {
                                        "fields": [
                                          {
                                            "String": {
                                              "sval": "a",
                                            },
                                          },
                                          {
                                            "String": {
                                              "sval": "aggmtranstype",
                                            },
                                          },
                                        ],
                                        "location": 442,
                                      },
                                    },
                                    {
                                      "A_Indirection": {
                                        "arg": {
                                          "ColumnRef": {
                                            "fields": [
                                              {
                                                "String": {
                                                  "sval": "ptr",
                                                },
                                              },
                                              {
                                                "String": {
                                                  "sval": "proargtypes",
                                                },
                                              },
                                            ],
                                            "location": 459,
                                          },
                                        },
                                        "indirection": [
                                          {
                                            "A_Indices": {
                                              "uidx": {
                                                "A_Const": {
                                                  "ival": {},
                                                  "location": 475,
                                                },
                                              },
                                            },
                                          },
                                        ],
                                      },
                                    },
                                  ],
                                  "funcformat": "COERCE_EXPLICIT_CALL",
                                  "funcname": [
                                    {
                                      "String": {
                                        "sval": "binary_coercible",
                                      },
                                    },
                                  ],
                                  "location": 425,
                                },
                              },
                            ],
                            "boolop": "NOT_EXPR",
                            "location": 421,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 488,
                                    },
                                  },
                                  "location": 499,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 501,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 537,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {},
                                                        "location": 551,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 555,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 1,
                                                        },
                                                        "location": 571,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 520,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 516,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 503,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 585,
                                    },
                                  },
                                  "location": 596,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 1,
                                      },
                                      "location": 598,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 634,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 1,
                                                        },
                                                        "location": 648,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 652,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 2,
                                                        },
                                                        "location": 668,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 617,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 613,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 600,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "p",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "pronargs",
                                          },
                                        },
                                      ],
                                      "location": 682,
                                    },
                                  },
                                  "location": 693,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": ">",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {
                                        "ival": 2,
                                      },
                                      "location": 695,
                                    },
                                  },
                                },
                              },
                              {
                                "BoolExpr": {
                                  "args": [
                                    {
                                      "FuncCall": {
                                        "args": [
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "p",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 731,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 2,
                                                        },
                                                        "location": 745,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          {
                                            "A_Indirection": {
                                              "arg": {
                                                "ColumnRef": {
                                                  "fields": [
                                                    {
                                                      "String": {
                                                        "sval": "ptr",
                                                      },
                                                    },
                                                    {
                                                      "String": {
                                                        "sval": "proargtypes",
                                                      },
                                                    },
                                                  ],
                                                  "location": 749,
                                                },
                                              },
                                              "indirection": [
                                                {
                                                  "A_Indices": {
                                                    "uidx": {
                                                      "A_Const": {
                                                        "ival": {
                                                          "ival": 3,
                                                        },
                                                        "location": 765,
                                                      },
                                                    },
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                        "funcformat": "COERCE_EXPLICIT_CALL",
                                        "funcname": [
                                          {
                                            "String": {
                                              "sval": "binary_coercible",
                                            },
                                          },
                                        ],
                                        "location": 714,
                                      },
                                    },
                                  ],
                                  "boolop": "NOT_EXPR",
                                  "location": 710,
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 697,
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "p",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "pronargs",
                                    },
                                  },
                                ],
                                "location": 850,
                              },
                            },
                            "location": 861,
                            "name": [
                              {
                                "String": {
                                  "sval": ">",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {
                                  "ival": 3,
                                },
                                "location": 863,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 197,
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 134,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 1241 1`] = `
[
  "SELECT a1.amopfamily, a1.amopstrategy
FROM pg_amop as a1
WHERE NOT ((a1.amoppurpose = 's' AND a1.amopsortfamily = 0) OR
           (a1.amoppurpose = 'o' AND a1.amopsortfamily <> 0))",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "a1",
                  },
                  "inh": true,
                  "location": 43,
                  "relname": "pg_amop",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "a1",
                          },
                        },
                        {
                          "String": {
                            "sval": "amopfamily",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 22,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "a1",
                          },
                        },
                        {
                          "String": {
                            "sval": "amopstrategy",
                          },
                        },
                      ],
                      "location": 22,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "BoolExpr": {
                      "args": [
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "a1",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "amoppurpose",
                                          },
                                        },
                                      ],
                                      "location": 69,
                                    },
                                  },
                                  "location": 84,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "=",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "location": 86,
                                      "sval": {
                                        "sval": "s",
                                      },
                                    },
                                  },
                                },
                              },
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "a1",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "amopsortfamily",
                                          },
                                        },
                                      ],
                                      "location": 94,
                                    },
                                  },
                                  "location": 112,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "=",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 114,
                                    },
                                  },
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 90,
                          },
                        },
                        {
                          "BoolExpr": {
                            "args": [
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "a1",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "amoppurpose",
                                          },
                                        },
                                      ],
                                      "location": 132,
                                    },
                                  },
                                  "location": 147,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "=",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "location": 149,
                                      "sval": {
                                        "sval": "o",
                                      },
                                    },
                                  },
                                },
                              },
                              {
                                "A_Expr": {
                                  "kind": "AEXPR_OP",
                                  "lexpr": {
                                    "ColumnRef": {
                                      "fields": [
                                        {
                                          "String": {
                                            "sval": "a1",
                                          },
                                        },
                                        {
                                          "String": {
                                            "sval": "amopsortfamily",
                                          },
                                        },
                                      ],
                                      "location": 157,
                                    },
                                  },
                                  "location": 175,
                                  "name": [
                                    {
                                      "String": {
                                        "sval": "<>",
                                      },
                                    },
                                  ],
                                  "rexpr": {
                                    "A_Const": {
                                      "ival": {},
                                      "location": 178,
                                    },
                                  },
                                },
                              },
                            ],
                            "boolop": "AND_EXPR",
                            "location": 153,
                          },
                        },
                      ],
                      "boolop": "OR_EXPR",
                      "location": 117,
                    },
                  },
                ],
                "boolop": "NOT_EXPR",
                "location": 63,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 1303 1`] = `
[
  "SELECT a1.amopfamily, a1.amopopr, o1.oprname, p1.prosrc
FROM pg_amop AS a1, pg_operator AS o1, pg_proc AS p1
WHERE a1.amopopr = o1.oid AND o1.oprcode = p1.oid AND
    a1.amoplefttype != a1.amoprighttype AND
    p1.provolatile = 'v'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "a1",
                  },
                  "inh": true,
                  "location": 61,
                  "relname": "pg_amop",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "o1",
                  },
                  "inh": true,
                  "location": 76,
                  "relname": "pg_operator",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 95,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "a1",
                          },
                        },
                        {
                          "String": {
                            "sval": "amopfamily",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 22,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "a1",
                          },
                        },
                        {
                          "String": {
                            "sval": "amopopr",
                          },
                        },
                      ],
                      "location": 22,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 34,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "o1",
                          },
                        },
                        {
                          "String": {
                            "sval": "oprname",
                          },
                        },
                      ],
                      "location": 34,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 46,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "prosrc",
                          },
                        },
                      ],
                      "location": 46,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a1",
                              },
                            },
                            {
                              "String": {
                                "sval": "amopopr",
                              },
                            },
                          ],
                          "location": 115,
                        },
                      },
                      "location": 126,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 128,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "o1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oprcode",
                              },
                            },
                          ],
                          "location": 139,
                        },
                      },
                      "location": 150,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 152,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a1",
                              },
                            },
                            {
                              "String": {
                                "sval": "amoplefttype",
                              },
                            },
                          ],
                          "location": 167,
                        },
                      },
                      "location": 183,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a1",
                              },
                            },
                            {
                              "String": {
                                "sval": "amoprighttype",
                              },
                            },
                          ],
                          "location": 186,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "provolatile",
                              },
                            },
                          ],
                          "location": 211,
                        },
                      },
                      "location": 226,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 228,
                          "sval": {
                            "sval": "v",
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 135,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 1330 1`] = `
[
  "SELECT a1.amprocfamily, a1.amproc, p1.prosrc
FROM pg_amproc AS a1, pg_proc AS p1
WHERE a1.amproc = p1.oid AND
    a1.amproclefttype != a1.amprocrighttype AND
    p1.provolatile = 'v'",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "a1",
                  },
                  "inh": true,
                  "location": 50,
                  "relname": "pg_amproc",
                  "relpersistence": "p",
                },
              },
              {
                "RangeVar": {
                  "alias": {
                    "aliasname": "p1",
                  },
                  "inh": true,
                  "location": 67,
                  "relname": "pg_proc",
                  "relpersistence": "p",
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "a1",
                          },
                        },
                        {
                          "String": {
                            "sval": "amprocfamily",
                          },
                        },
                      ],
                      "location": 7,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 24,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "a1",
                          },
                        },
                        {
                          "String": {
                            "sval": "amproc",
                          },
                        },
                      ],
                      "location": 24,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 35,
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "p1",
                          },
                        },
                        {
                          "String": {
                            "sval": "prosrc",
                          },
                        },
                      ],
                      "location": 35,
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a1",
                              },
                            },
                            {
                              "String": {
                                "sval": "amproc",
                              },
                            },
                          ],
                          "location": 87,
                        },
                      },
                      "location": 97,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "oid",
                              },
                            },
                          ],
                          "location": 99,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a1",
                              },
                            },
                            {
                              "String": {
                                "sval": "amproclefttype",
                              },
                            },
                          ],
                          "location": 114,
                        },
                      },
                      "location": 132,
                      "name": [
                        {
                          "String": {
                            "sval": "<>",
                          },
                        },
                      ],
                      "rexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "a1",
                              },
                            },
                            {
                              "String": {
                                "sval": "amprocrighttype",
                              },
                            },
                          ],
                          "location": 135,
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "p1",
                              },
                            },
                            {
                              "String": {
                                "sval": "provolatile",
                              },
                            },
                          ],
                          "location": 162,
                        },
                      },
                      "location": 177,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 179,
                          "sval": {
                            "sval": "v",
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 106,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;

exports[`opr_sanity.sql > line 1344 1`] = `
[
  "SELECT amp.amproc::regproc AS proc, opf.opfname AS opfamily_name,
       opc.opcname AS opclass_name, opc.opcintype::regtype AS opcintype
FROM pg_am AS am
JOIN pg_opclass AS opc ON opc.opcmethod = am.oid
JOIN pg_opfamily AS opf ON opc.opcfamily = opf.oid
LEFT JOIN pg_amproc AS amp ON amp.amprocfamily = opf.oid AND
    amp.amproclefttype = opc.opcintype AND amp.amprocnum = 4
WHERE am.amname = 'btree' AND
    amp.amproc IS DISTINCT FROM 'btequalimage'::regproc
ORDER BY 1, 2, 3",
  {
    "stmts": [
      {
        "stmt": {
          "SelectStmt": {
            "fromClause": [
              {
                "JoinExpr": {
                  "jointype": "JOIN_LEFT",
                  "larg": {
                    "JoinExpr": {
                      "jointype": "JOIN_INNER",
                      "larg": {
                        "JoinExpr": {
                          "jointype": "JOIN_INNER",
                          "larg": {
                            "RangeVar": {
                              "alias": {
                                "aliasname": "am",
                              },
                              "inh": true,
                              "location": 143,
                              "relname": "pg_am",
                              "relpersistence": "p",
                            },
                          },
                          "quals": {
                            "A_Expr": {
                              "kind": "AEXPR_OP",
                              "lexpr": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "opc",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "opcmethod",
                                      },
                                    },
                                  ],
                                  "location": 181,
                                },
                              },
                              "location": 195,
                              "name": [
                                {
                                  "String": {
                                    "sval": "=",
                                  },
                                },
                              ],
                              "rexpr": {
                                "ColumnRef": {
                                  "fields": [
                                    {
                                      "String": {
                                        "sval": "am",
                                      },
                                    },
                                    {
                                      "String": {
                                        "sval": "oid",
                                      },
                                    },
                                  ],
                                  "location": 197,
                                },
                              },
                            },
                          },
                          "rarg": {
                            "RangeVar": {
                              "alias": {
                                "aliasname": "opc",
                              },
                              "inh": true,
                              "location": 160,
                              "relname": "pg_opclass",
                              "relpersistence": "p",
                            },
                          },
                        },
                      },
                      "quals": {
                        "A_Expr": {
                          "kind": "AEXPR_OP",
                          "lexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "opc",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "opcfamily",
                                  },
                                },
                              ],
                              "location": 231,
                            },
                          },
                          "location": 245,
                          "name": [
                            {
                              "String": {
                                "sval": "=",
                              },
                            },
                          ],
                          "rexpr": {
                            "ColumnRef": {
                              "fields": [
                                {
                                  "String": {
                                    "sval": "opf",
                                  },
                                },
                                {
                                  "String": {
                                    "sval": "oid",
                                  },
                                },
                              ],
                              "location": 247,
                            },
                          },
                        },
                      },
                      "rarg": {
                        "RangeVar": {
                          "alias": {
                            "aliasname": "opf",
                          },
                          "inh": true,
                          "location": 209,
                          "relname": "pg_opfamily",
                          "relpersistence": "p",
                        },
                      },
                    },
                  },
                  "quals": {
                    "BoolExpr": {
                      "args": [
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "amp",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "amprocfamily",
                                    },
                                  },
                                ],
                                "location": 285,
                              },
                            },
                            "location": 302,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "opf",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "oid",
                                    },
                                  },
                                ],
                                "location": 304,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "amp",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "amproclefttype",
                                    },
                                  },
                                ],
                                "location": 320,
                              },
                            },
                            "location": 339,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "opc",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "opcintype",
                                    },
                                  },
                                ],
                                "location": 341,
                              },
                            },
                          },
                        },
                        {
                          "A_Expr": {
                            "kind": "AEXPR_OP",
                            "lexpr": {
                              "ColumnRef": {
                                "fields": [
                                  {
                                    "String": {
                                      "sval": "amp",
                                    },
                                  },
                                  {
                                    "String": {
                                      "sval": "amprocnum",
                                    },
                                  },
                                ],
                                "location": 359,
                              },
                            },
                            "location": 373,
                            "name": [
                              {
                                "String": {
                                  "sval": "=",
                                },
                              },
                            ],
                            "rexpr": {
                              "A_Const": {
                                "ival": {
                                  "ival": 4,
                                },
                                "location": 375,
                              },
                            },
                          },
                        },
                      ],
                      "boolop": "AND_EXPR",
                      "location": 312,
                    },
                  },
                  "rarg": {
                    "RangeVar": {
                      "alias": {
                        "aliasname": "amp",
                      },
                      "inh": true,
                      "location": 265,
                      "relname": "pg_amproc",
                      "relpersistence": "p",
                    },
                  },
                },
              },
            ],
            "limitOption": "LIMIT_OPTION_DEFAULT",
            "op": "SETOP_NONE",
            "sortClause": [
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 1,
                      },
                      "location": 472,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 2,
                      },
                      "location": 475,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
              {
                "SortBy": {
                  "location": -1,
                  "node": {
                    "A_Const": {
                      "ival": {
                        "ival": 3,
                      },
                      "location": 478,
                    },
                  },
                  "sortby_dir": "SORTBY_DEFAULT",
                  "sortby_nulls": "SORTBY_NULLS_DEFAULT",
                },
              },
            ],
            "targetList": [
              {
                "ResTarget": {
                  "location": 7,
                  "name": "proc",
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "amp",
                              },
                            },
                            {
                              "String": {
                                "sval": "amproc",
                              },
                            },
                          ],
                          "location": 7,
                        },
                      },
                      "location": 17,
                      "typeName": {
                        "location": 19,
                        "names": [
                          {
                            "String": {
                              "sval": "regproc",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 36,
                  "name": "opfamily_name",
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "opf",
                          },
                        },
                        {
                          "String": {
                            "sval": "opfname",
                          },
                        },
                      ],
                      "location": 36,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 73,
                  "name": "opclass_name",
                  "val": {
                    "ColumnRef": {
                      "fields": [
                        {
                          "String": {
                            "sval": "opc",
                          },
                        },
                        {
                          "String": {
                            "sval": "opcname",
                          },
                        },
                      ],
                      "location": 73,
                    },
                  },
                },
              },
              {
                "ResTarget": {
                  "location": 102,
                  "name": "opcintype",
                  "val": {
                    "TypeCast": {
                      "arg": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "opc",
                              },
                            },
                            {
                              "String": {
                                "sval": "opcintype",
                              },
                            },
                          ],
                          "location": 102,
                        },
                      },
                      "location": 115,
                      "typeName": {
                        "location": 117,
                        "names": [
                          {
                            "String": {
                              "sval": "regtype",
                            },
                          },
                        ],
                        "typemod": -1,
                      },
                    },
                  },
                },
              },
            ],
            "whereClause": {
              "BoolExpr": {
                "args": [
                  {
                    "A_Expr": {
                      "kind": "AEXPR_OP",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "am",
                              },
                            },
                            {
                              "String": {
                                "sval": "amname",
                              },
                            },
                          ],
                          "location": 383,
                        },
                      },
                      "location": 393,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "A_Const": {
                          "location": 395,
                          "sval": {
                            "sval": "btree",
                          },
                        },
                      },
                    },
                  },
                  {
                    "A_Expr": {
                      "kind": "AEXPR_DISTINCT",
                      "lexpr": {
                        "ColumnRef": {
                          "fields": [
                            {
                              "String": {
                                "sval": "amp",
                              },
                            },
                            {
                              "String": {
                                "sval": "amproc",
                              },
                            },
                          ],
                          "location": 411,
                        },
                      },
                      "location": 422,
                      "name": [
                        {
                          "String": {
                            "sval": "=",
                          },
                        },
                      ],
                      "rexpr": {
                        "TypeCast": {
                          "arg": {
                            "A_Const": {
                              "location": 439,
                              "sval": {
                                "sval": "btequalimage",
                              },
                            },
                          },
                          "location": 453,
                          "typeName": {
                            "location": 455,
                            "names": [
                              {
                                "String": {
                                  "sval": "regproc",
                                },
                              },
                            ],
                            "typemod": -1,
                          },
                        },
                      },
                    },
                  },
                ],
                "boolop": "AND_EXPR",
                "location": 403,
              },
            },
          },
        },
      },
    ],
    "version": 160001,
  },
]
`;
